function Wi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function $n(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var a=!1;try{a=this instanceof r}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var a=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return e[r]}})}),n}var yn={},ar={},yi;function is(){if(yi)return ar;yi=1,ar.byteLength=d,ar.toByteArray=I,ar.fromByteArray=_;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,o=r.length;a<o;++a)e[a]=r[a],t[r.charCodeAt(a)]=a;t[45]=62,t[95]=63;function l(S){var F=S.length;if(F%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var L=S.indexOf("=");L===-1&&(L=F);var q=L===F?0:4-L%4;return[L,q]}function d(S){var F=l(S),L=F[0],q=F[1];return(L+q)*3/4-q}function y(S,F,L){return(F+L)*3/4-L}function I(S){var F,L=l(S),q=L[0],z=L[1],G=new n(y(S,q,z)),P=0,Q=z>0?q-4:q,W;for(W=0;W<Q;W+=4)F=t[S.charCodeAt(W)]<<18|t[S.charCodeAt(W+1)]<<12|t[S.charCodeAt(W+2)]<<6|t[S.charCodeAt(W+3)],G[P++]=F>>16&255,G[P++]=F>>8&255,G[P++]=F&255;return z===2&&(F=t[S.charCodeAt(W)]<<2|t[S.charCodeAt(W+1)]>>4,G[P++]=F&255),z===1&&(F=t[S.charCodeAt(W)]<<10|t[S.charCodeAt(W+1)]<<4|t[S.charCodeAt(W+2)]>>2,G[P++]=F>>8&255,G[P++]=F&255),G}function R(S){return e[S>>18&63]+e[S>>12&63]+e[S>>6&63]+e[S&63]}function U(S,F,L){for(var q,z=[],G=F;G<L;G+=3)q=(S[G]<<16&16711680)+(S[G+1]<<8&65280)+(S[G+2]&255),z.push(R(q));return z.join("")}function _(S){for(var F,L=S.length,q=L%3,z=[],G=16383,P=0,Q=L-q;P<Q;P+=G)z.push(U(S,P,P+G>Q?Q:P+G));return q===1?(F=S[L-1],z.push(e[F>>2]+e[F<<4&63]+"==")):q===2&&(F=(S[L-2]<<8)+S[L-1],z.push(e[F>>10]+e[F>>4&63]+e[F<<2&63]+"=")),z.join("")}return ar}var br={};var mi;function os(){return mi||(mi=1,br.read=function(e,t,n,r,a){var o,l,d=a*8-r-1,y=(1<<d)-1,I=y>>1,R=-7,U=n?a-1:0,_=n?-1:1,S=e[t+U];for(U+=_,o=S&(1<<-R)-1,S>>=-R,R+=d;R>0;o=o*256+e[t+U],U+=_,R-=8);for(l=o&(1<<-R)-1,o>>=-R,R+=r;R>0;l=l*256+e[t+U],U+=_,R-=8);if(o===0)o=1-I;else{if(o===y)return l?NaN:(S?-1:1)*(1/0);l=l+Math.pow(2,r),o=o-I}return(S?-1:1)*l*Math.pow(2,o-r)},br.write=function(e,t,n,r,a,o){var l,d,y,I=o*8-a-1,R=(1<<I)-1,U=R>>1,_=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=r?0:o-1,F=r?1:-1,L=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(d=isNaN(t)?1:0,l=R):(l=Math.floor(Math.log(t)/Math.LN2),t*(y=Math.pow(2,-l))<1&&(l--,y*=2),l+U>=1?t+=_/y:t+=_*Math.pow(2,1-U),t*y>=2&&(l++,y/=2),l+U>=R?(d=0,l=R):l+U>=1?(d=(t*y-1)*Math.pow(2,a),l=l+U):(d=t*Math.pow(2,U-1)*Math.pow(2,a),l=0));a>=8;e[n+S]=d&255,S+=F,d/=256,a-=8);for(l=l<<a|d,I+=a;I>0;e[n+S]=l&255,S+=F,l/=256,I-=8);e[n+S-F]|=L*128}),br}var wi;function Vn(){return wi||(wi=1,(function(e){const t=is(),n=os(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=d,e.SlowBuffer=G,e.INSPECT_MAX_BYTES=50;const a=2147483647;e.kMaxLength=a,d.TYPED_ARRAY_SUPPORT=o(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const m=new Uint8Array(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,Uint8Array.prototype),Object.setPrototypeOf(m,f),m.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function l(m){if(m>a)throw new RangeError('The value "'+m+'" is invalid for option "size"');const f=new Uint8Array(m);return Object.setPrototypeOf(f,d.prototype),f}function d(m,f,h){if(typeof m=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return U(m)}return y(m,f,h)}d.poolSize=8192;function y(m,f,h){if(typeof m=="string")return _(m,f);if(ArrayBuffer.isView(m))return F(m);if(m==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m);if(fe(m,ArrayBuffer)||m&&fe(m.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(fe(m,SharedArrayBuffer)||m&&fe(m.buffer,SharedArrayBuffer)))return L(m,f,h);if(typeof m=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const x=m.valueOf&&m.valueOf();if(x!=null&&x!==m)return d.from(x,f,h);const O=q(m);if(O)return O;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof m[Symbol.toPrimitive]=="function")return d.from(m[Symbol.toPrimitive]("string"),f,h);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m)}d.from=function(m,f,h){return y(m,f,h)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array);function I(m){if(typeof m!="number")throw new TypeError('"size" argument must be of type number');if(m<0)throw new RangeError('The value "'+m+'" is invalid for option "size"')}function R(m,f,h){return I(m),m<=0?l(m):f!==void 0?typeof h=="string"?l(m).fill(f,h):l(m).fill(f):l(m)}d.alloc=function(m,f,h){return R(m,f,h)};function U(m){return I(m),l(m<0?0:z(m)|0)}d.allocUnsafe=function(m){return U(m)},d.allocUnsafeSlow=function(m){return U(m)};function _(m,f){if((typeof f!="string"||f==="")&&(f="utf8"),!d.isEncoding(f))throw new TypeError("Unknown encoding: "+f);const h=P(m,f)|0;let x=l(h);const O=x.write(m,f);return O!==h&&(x=x.slice(0,O)),x}function S(m){const f=m.length<0?0:z(m.length)|0,h=l(f);for(let x=0;x<f;x+=1)h[x]=m[x]&255;return h}function F(m){if(fe(m,Uint8Array)){const f=new Uint8Array(m);return L(f.buffer,f.byteOffset,f.byteLength)}return S(m)}function L(m,f,h){if(f<0||m.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(m.byteLength<f+(h||0))throw new RangeError('"length" is outside of buffer bounds');let x;return f===void 0&&h===void 0?x=new Uint8Array(m):h===void 0?x=new Uint8Array(m,f):x=new Uint8Array(m,f,h),Object.setPrototypeOf(x,d.prototype),x}function q(m){if(d.isBuffer(m)){const f=z(m.length)|0,h=l(f);return h.length===0||m.copy(h,0,0,f),h}if(m.length!==void 0)return typeof m.length!="number"||Bt(m.length)?l(0):S(m);if(m.type==="Buffer"&&Array.isArray(m.data))return S(m.data)}function z(m){if(m>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return m|0}function G(m){return+m!=m&&(m=0),d.alloc(+m)}d.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==d.prototype},d.compare=function(f,h){if(fe(f,Uint8Array)&&(f=d.from(f,f.offset,f.byteLength)),fe(h,Uint8Array)&&(h=d.from(h,h.offset,h.byteLength)),!d.isBuffer(f)||!d.isBuffer(h))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===h)return 0;let x=f.length,O=h.length;for(let D=0,Z=Math.min(x,O);D<Z;++D)if(f[D]!==h[D]){x=f[D],O=h[D];break}return x<O?-1:O<x?1:0},d.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(f,h){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return d.alloc(0);let x;if(h===void 0)for(h=0,x=0;x<f.length;++x)h+=f[x].length;const O=d.allocUnsafe(h);let D=0;for(x=0;x<f.length;++x){let Z=f[x];if(fe(Z,Uint8Array))D+Z.length>O.length?(d.isBuffer(Z)||(Z=d.from(Z)),Z.copy(O,D)):Uint8Array.prototype.set.call(O,Z,D);else if(d.isBuffer(Z))Z.copy(O,D);else throw new TypeError('"list" argument must be an Array of Buffers');D+=Z.length}return O};function P(m,f){if(d.isBuffer(m))return m.length;if(ArrayBuffer.isView(m)||fe(m,ArrayBuffer))return m.byteLength;if(typeof m!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof m);const h=m.length,x=arguments.length>2&&arguments[2]===!0;if(!x&&h===0)return 0;let O=!1;for(;;)switch(f){case"ascii":case"latin1":case"binary":return h;case"utf8":case"utf-8":return Et(m).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h*2;case"hex":return h>>>1;case"base64":return At(m).length;default:if(O)return x?-1:Et(m).length;f=(""+f).toLowerCase(),O=!0}}d.byteLength=P;function Q(m,f,h){let x=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((h===void 0||h>this.length)&&(h=this.length),h<=0)||(h>>>=0,f>>>=0,h<=f))return"";for(m||(m="utf8");;)switch(m){case"hex":return A(this,f,h);case"utf8":case"utf-8":return i(this,f,h);case"ascii":return v(this,f,h);case"latin1":case"binary":return E(this,f,h);case"base64":return g(this,f,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,f,h);default:if(x)throw new TypeError("Unknown encoding: "+m);m=(m+"").toLowerCase(),x=!0}}d.prototype._isBuffer=!0;function W(m,f,h){const x=m[f];m[f]=m[h],m[h]=x}d.prototype.swap16=function(){const f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let h=0;h<f;h+=2)W(this,h,h+1);return this},d.prototype.swap32=function(){const f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let h=0;h<f;h+=4)W(this,h,h+3),W(this,h+1,h+2);return this},d.prototype.swap64=function(){const f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let h=0;h<f;h+=8)W(this,h,h+7),W(this,h+1,h+6),W(this,h+2,h+5),W(this,h+3,h+4);return this},d.prototype.toString=function(){const f=this.length;return f===0?"":arguments.length===0?i(this,0,f):Q.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(f){if(!d.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:d.compare(this,f)===0},d.prototype.inspect=function(){let f="";const h=e.INSPECT_MAX_BYTES;return f=this.toString("hex",0,h).replace(/(.{2})/g,"$1 ").trim(),this.length>h&&(f+=" ... "),"<Buffer "+f+">"},r&&(d.prototype[r]=d.prototype.inspect),d.prototype.compare=function(f,h,x,O,D){if(fe(f,Uint8Array)&&(f=d.from(f,f.offset,f.byteLength)),!d.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(h===void 0&&(h=0),x===void 0&&(x=f?f.length:0),O===void 0&&(O=0),D===void 0&&(D=this.length),h<0||x>f.length||O<0||D>this.length)throw new RangeError("out of range index");if(O>=D&&h>=x)return 0;if(O>=D)return-1;if(h>=x)return 1;if(h>>>=0,x>>>=0,O>>>=0,D>>>=0,this===f)return 0;let Z=D-O,ht=x-h;const ft=Math.min(Z,ht),ut=this.slice(O,D),xt=f.slice(h,x);for(let st=0;st<ft;++st)if(ut[st]!==xt[st]){Z=ut[st],ht=xt[st];break}return Z<ht?-1:ht<Z?1:0};function nt(m,f,h,x,O){if(m.length===0)return-1;if(typeof h=="string"?(x=h,h=0):h>2147483647?h=2147483647:h<-2147483648&&(h=-2147483648),h=+h,Bt(h)&&(h=O?0:m.length-1),h<0&&(h=m.length+h),h>=m.length){if(O)return-1;h=m.length-1}else if(h<0)if(O)h=0;else return-1;if(typeof f=="string"&&(f=d.from(f,x)),d.isBuffer(f))return f.length===0?-1:at(m,f,h,x,O);if(typeof f=="number")return f=f&255,typeof Uint8Array.prototype.indexOf=="function"?O?Uint8Array.prototype.indexOf.call(m,f,h):Uint8Array.prototype.lastIndexOf.call(m,f,h):at(m,[f],h,x,O);throw new TypeError("val must be string, number or Buffer")}function at(m,f,h,x,O){let D=1,Z=m.length,ht=f.length;if(x!==void 0&&(x=String(x).toLowerCase(),x==="ucs2"||x==="ucs-2"||x==="utf16le"||x==="utf-16le")){if(m.length<2||f.length<2)return-1;D=2,Z/=2,ht/=2,h/=2}function ft(xt,st){return D===1?xt[st]:xt.readUInt16BE(st*D)}let ut;if(O){let xt=-1;for(ut=h;ut<Z;ut++)if(ft(m,ut)===ft(f,xt===-1?0:ut-xt)){if(xt===-1&&(xt=ut),ut-xt+1===ht)return xt*D}else xt!==-1&&(ut-=ut-xt),xt=-1}else for(h+ht>Z&&(h=Z-ht),ut=h;ut>=0;ut--){let xt=!0;for(let st=0;st<ht;st++)if(ft(m,ut+st)!==ft(f,st)){xt=!1;break}if(xt)return ut}return-1}d.prototype.includes=function(f,h,x){return this.indexOf(f,h,x)!==-1},d.prototype.indexOf=function(f,h,x){return nt(this,f,h,x,!0)},d.prototype.lastIndexOf=function(f,h,x){return nt(this,f,h,x,!1)};function it(m,f,h,x){h=Number(h)||0;const O=m.length-h;x?(x=Number(x),x>O&&(x=O)):x=O;const D=f.length;x>D/2&&(x=D/2);let Z;for(Z=0;Z<x;++Z){const ht=parseInt(f.substr(Z*2,2),16);if(Bt(ht))return Z;m[h+Z]=ht}return Z}function T(m,f,h,x){return vt(Et(f,m.length-h),m,h,x)}function C(m,f,h,x){return vt(Mt(f),m,h,x)}function K(m,f,h,x){return vt(At(f),m,h,x)}function H(m,f,h,x){return vt(wr(f,m.length-h),m,h,x)}d.prototype.write=function(f,h,x,O){if(h===void 0)O="utf8",x=this.length,h=0;else if(x===void 0&&typeof h=="string")O=h,x=this.length,h=0;else if(isFinite(h))h=h>>>0,isFinite(x)?(x=x>>>0,O===void 0&&(O="utf8")):(O=x,x=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const D=this.length-h;if((x===void 0||x>D)&&(x=D),f.length>0&&(x<0||h<0)||h>this.length)throw new RangeError("Attempt to write outside buffer bounds");O||(O="utf8");let Z=!1;for(;;)switch(O){case"hex":return it(this,f,h,x);case"utf8":case"utf-8":return T(this,f,h,x);case"ascii":case"latin1":case"binary":return C(this,f,h,x);case"base64":return K(this,f,h,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,f,h,x);default:if(Z)throw new TypeError("Unknown encoding: "+O);O=(""+O).toLowerCase(),Z=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function g(m,f,h){return f===0&&h===m.length?t.fromByteArray(m):t.fromByteArray(m.slice(f,h))}function i(m,f,h){h=Math.min(m.length,h);const x=[];let O=f;for(;O<h;){const D=m[O];let Z=null,ht=D>239?4:D>223?3:D>191?2:1;if(O+ht<=h){let ft,ut,xt,st;switch(ht){case 1:D<128&&(Z=D);break;case 2:ft=m[O+1],(ft&192)===128&&(st=(D&31)<<6|ft&63,st>127&&(Z=st));break;case 3:ft=m[O+1],ut=m[O+2],(ft&192)===128&&(ut&192)===128&&(st=(D&15)<<12|(ft&63)<<6|ut&63,st>2047&&(st<55296||st>57343)&&(Z=st));break;case 4:ft=m[O+1],ut=m[O+2],xt=m[O+3],(ft&192)===128&&(ut&192)===128&&(xt&192)===128&&(st=(D&15)<<18|(ft&63)<<12|(ut&63)<<6|xt&63,st>65535&&st<1114112&&(Z=st))}}Z===null?(Z=65533,ht=1):Z>65535&&(Z-=65536,x.push(Z>>>10&1023|55296),Z=56320|Z&1023),x.push(Z),O+=ht}return p(x)}const c=4096;function p(m){const f=m.length;if(f<=c)return String.fromCharCode.apply(String,m);let h="",x=0;for(;x<f;)h+=String.fromCharCode.apply(String,m.slice(x,x+=c));return h}function v(m,f,h){let x="";h=Math.min(m.length,h);for(let O=f;O<h;++O)x+=String.fromCharCode(m[O]&127);return x}function E(m,f,h){let x="";h=Math.min(m.length,h);for(let O=f;O<h;++O)x+=String.fromCharCode(m[O]);return x}function A(m,f,h){const x=m.length;(!f||f<0)&&(f=0),(!h||h<0||h>x)&&(h=x);let O="";for(let D=f;D<h;++D)O+=_t[m[D]];return O}function k(m,f,h){const x=m.slice(f,h);let O="";for(let D=0;D<x.length-1;D+=2)O+=String.fromCharCode(x[D]+x[D+1]*256);return O}d.prototype.slice=function(f,h){const x=this.length;f=~~f,h=h===void 0?x:~~h,f<0?(f+=x,f<0&&(f=0)):f>x&&(f=x),h<0?(h+=x,h<0&&(h=0)):h>x&&(h=x),h<f&&(h=f);const O=this.subarray(f,h);return Object.setPrototypeOf(O,d.prototype),O};function b(m,f,h){if(m%1!==0||m<0)throw new RangeError("offset is not uint");if(m+f>h)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(f,h,x){f=f>>>0,h=h>>>0,x||b(f,h,this.length);let O=this[f],D=1,Z=0;for(;++Z<h&&(D*=256);)O+=this[f+Z]*D;return O},d.prototype.readUintBE=d.prototype.readUIntBE=function(f,h,x){f=f>>>0,h=h>>>0,x||b(f,h,this.length);let O=this[f+--h],D=1;for(;h>0&&(D*=256);)O+=this[f+--h]*D;return O},d.prototype.readUint8=d.prototype.readUInt8=function(f,h){return f=f>>>0,h||b(f,1,this.length),this[f]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(f,h){return f=f>>>0,h||b(f,2,this.length),this[f]|this[f+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(f,h){return f=f>>>0,h||b(f,2,this.length),this[f]<<8|this[f+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(f,h){return f=f>>>0,h||b(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(f,h){return f=f>>>0,h||b(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},d.prototype.readBigUInt64LE=pe(function(f){f=f>>>0,de(f,"offset");const h=this[f],x=this[f+7];(h===void 0||x===void 0)&&wt(f,this.length-8);const O=h+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,D=this[++f]+this[++f]*2**8+this[++f]*2**16+x*2**24;return BigInt(O)+(BigInt(D)<<BigInt(32))}),d.prototype.readBigUInt64BE=pe(function(f){f=f>>>0,de(f,"offset");const h=this[f],x=this[f+7];(h===void 0||x===void 0)&&wt(f,this.length-8);const O=h*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],D=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+x;return(BigInt(O)<<BigInt(32))+BigInt(D)}),d.prototype.readIntLE=function(f,h,x){f=f>>>0,h=h>>>0,x||b(f,h,this.length);let O=this[f],D=1,Z=0;for(;++Z<h&&(D*=256);)O+=this[f+Z]*D;return D*=128,O>=D&&(O-=Math.pow(2,8*h)),O},d.prototype.readIntBE=function(f,h,x){f=f>>>0,h=h>>>0,x||b(f,h,this.length);let O=h,D=1,Z=this[f+--O];for(;O>0&&(D*=256);)Z+=this[f+--O]*D;return D*=128,Z>=D&&(Z-=Math.pow(2,8*h)),Z},d.prototype.readInt8=function(f,h){return f=f>>>0,h||b(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},d.prototype.readInt16LE=function(f,h){f=f>>>0,h||b(f,2,this.length);const x=this[f]|this[f+1]<<8;return x&32768?x|4294901760:x},d.prototype.readInt16BE=function(f,h){f=f>>>0,h||b(f,2,this.length);const x=this[f+1]|this[f]<<8;return x&32768?x|4294901760:x},d.prototype.readInt32LE=function(f,h){return f=f>>>0,h||b(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},d.prototype.readInt32BE=function(f,h){return f=f>>>0,h||b(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},d.prototype.readBigInt64LE=pe(function(f){f=f>>>0,de(f,"offset");const h=this[f],x=this[f+7];(h===void 0||x===void 0)&&wt(f,this.length-8);const O=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(x<<24);return(BigInt(O)<<BigInt(32))+BigInt(h+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),d.prototype.readBigInt64BE=pe(function(f){f=f>>>0,de(f,"offset");const h=this[f],x=this[f+7];(h===void 0||x===void 0)&&wt(f,this.length-8);const O=(h<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(O)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+x)}),d.prototype.readFloatLE=function(f,h){return f=f>>>0,h||b(f,4,this.length),n.read(this,f,!0,23,4)},d.prototype.readFloatBE=function(f,h){return f=f>>>0,h||b(f,4,this.length),n.read(this,f,!1,23,4)},d.prototype.readDoubleLE=function(f,h){return f=f>>>0,h||b(f,8,this.length),n.read(this,f,!0,52,8)},d.prototype.readDoubleBE=function(f,h){return f=f>>>0,h||b(f,8,this.length),n.read(this,f,!1,52,8)};function s(m,f,h,x,O,D){if(!d.isBuffer(m))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>O||f<D)throw new RangeError('"value" argument is out of bounds');if(h+x>m.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(f,h,x,O){if(f=+f,h=h>>>0,x=x>>>0,!O){const ht=Math.pow(2,8*x)-1;s(this,f,h,x,ht,0)}let D=1,Z=0;for(this[h]=f&255;++Z<x&&(D*=256);)this[h+Z]=f/D&255;return h+x},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(f,h,x,O){if(f=+f,h=h>>>0,x=x>>>0,!O){const ht=Math.pow(2,8*x)-1;s(this,f,h,x,ht,0)}let D=x-1,Z=1;for(this[h+D]=f&255;--D>=0&&(Z*=256);)this[h+D]=f/Z&255;return h+x},d.prototype.writeUint8=d.prototype.writeUInt8=function(f,h,x){return f=+f,h=h>>>0,x||s(this,f,h,1,255,0),this[h]=f&255,h+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(f,h,x){return f=+f,h=h>>>0,x||s(this,f,h,2,65535,0),this[h]=f&255,this[h+1]=f>>>8,h+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(f,h,x){return f=+f,h=h>>>0,x||s(this,f,h,2,65535,0),this[h]=f>>>8,this[h+1]=f&255,h+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(f,h,x){return f=+f,h=h>>>0,x||s(this,f,h,4,4294967295,0),this[h+3]=f>>>24,this[h+2]=f>>>16,this[h+1]=f>>>8,this[h]=f&255,h+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(f,h,x){return f=+f,h=h>>>0,x||s(this,f,h,4,4294967295,0),this[h]=f>>>24,this[h+1]=f>>>16,this[h+2]=f>>>8,this[h+3]=f&255,h+4};function u(m,f,h,x,O){mt(f,x,O,m,h,7);let D=Number(f&BigInt(4294967295));m[h++]=D,D=D>>8,m[h++]=D,D=D>>8,m[h++]=D,D=D>>8,m[h++]=D;let Z=Number(f>>BigInt(32)&BigInt(4294967295));return m[h++]=Z,Z=Z>>8,m[h++]=Z,Z=Z>>8,m[h++]=Z,Z=Z>>8,m[h++]=Z,h}function w(m,f,h,x,O){mt(f,x,O,m,h,7);let D=Number(f&BigInt(4294967295));m[h+7]=D,D=D>>8,m[h+6]=D,D=D>>8,m[h+5]=D,D=D>>8,m[h+4]=D;let Z=Number(f>>BigInt(32)&BigInt(4294967295));return m[h+3]=Z,Z=Z>>8,m[h+2]=Z,Z=Z>>8,m[h+1]=Z,Z=Z>>8,m[h]=Z,h+8}d.prototype.writeBigUInt64LE=pe(function(f,h=0){return u(this,f,h,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=pe(function(f,h=0){return w(this,f,h,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(f,h,x,O){if(f=+f,h=h>>>0,!O){const ft=Math.pow(2,8*x-1);s(this,f,h,x,ft-1,-ft)}let D=0,Z=1,ht=0;for(this[h]=f&255;++D<x&&(Z*=256);)f<0&&ht===0&&this[h+D-1]!==0&&(ht=1),this[h+D]=(f/Z>>0)-ht&255;return h+x},d.prototype.writeIntBE=function(f,h,x,O){if(f=+f,h=h>>>0,!O){const ft=Math.pow(2,8*x-1);s(this,f,h,x,ft-1,-ft)}let D=x-1,Z=1,ht=0;for(this[h+D]=f&255;--D>=0&&(Z*=256);)f<0&&ht===0&&this[h+D+1]!==0&&(ht=1),this[h+D]=(f/Z>>0)-ht&255;return h+x},d.prototype.writeInt8=function(f,h,x){return f=+f,h=h>>>0,x||s(this,f,h,1,127,-128),f<0&&(f=255+f+1),this[h]=f&255,h+1},d.prototype.writeInt16LE=function(f,h,x){return f=+f,h=h>>>0,x||s(this,f,h,2,32767,-32768),this[h]=f&255,this[h+1]=f>>>8,h+2},d.prototype.writeInt16BE=function(f,h,x){return f=+f,h=h>>>0,x||s(this,f,h,2,32767,-32768),this[h]=f>>>8,this[h+1]=f&255,h+2},d.prototype.writeInt32LE=function(f,h,x){return f=+f,h=h>>>0,x||s(this,f,h,4,2147483647,-2147483648),this[h]=f&255,this[h+1]=f>>>8,this[h+2]=f>>>16,this[h+3]=f>>>24,h+4},d.prototype.writeInt32BE=function(f,h,x){return f=+f,h=h>>>0,x||s(this,f,h,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[h]=f>>>24,this[h+1]=f>>>16,this[h+2]=f>>>8,this[h+3]=f&255,h+4},d.prototype.writeBigInt64LE=pe(function(f,h=0){return u(this,f,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=pe(function(f,h=0){return w(this,f,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function B(m,f,h,x,O,D){if(h+x>m.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("Index out of range")}function N(m,f,h,x,O){return f=+f,h=h>>>0,O||B(m,f,h,4),n.write(m,f,h,x,23,4),h+4}d.prototype.writeFloatLE=function(f,h,x){return N(this,f,h,!0,x)},d.prototype.writeFloatBE=function(f,h,x){return N(this,f,h,!1,x)};function j(m,f,h,x,O){return f=+f,h=h>>>0,O||B(m,f,h,8),n.write(m,f,h,x,52,8),h+8}d.prototype.writeDoubleLE=function(f,h,x){return j(this,f,h,!0,x)},d.prototype.writeDoubleBE=function(f,h,x){return j(this,f,h,!1,x)},d.prototype.copy=function(f,h,x,O){if(!d.isBuffer(f))throw new TypeError("argument should be a Buffer");if(x||(x=0),!O&&O!==0&&(O=this.length),h>=f.length&&(h=f.length),h||(h=0),O>0&&O<x&&(O=x),O===x||f.length===0||this.length===0)return 0;if(h<0)throw new RangeError("targetStart out of bounds");if(x<0||x>=this.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("sourceEnd out of bounds");O>this.length&&(O=this.length),f.length-h<O-x&&(O=f.length-h+x);const D=O-x;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(h,x,O):Uint8Array.prototype.set.call(f,this.subarray(x,O),h),D},d.prototype.fill=function(f,h,x,O){if(typeof f=="string"){if(typeof h=="string"?(O=h,h=0,x=this.length):typeof x=="string"&&(O=x,x=this.length),O!==void 0&&typeof O!="string")throw new TypeError("encoding must be a string");if(typeof O=="string"&&!d.isEncoding(O))throw new TypeError("Unknown encoding: "+O);if(f.length===1){const Z=f.charCodeAt(0);(O==="utf8"&&Z<128||O==="latin1")&&(f=Z)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(h<0||this.length<h||this.length<x)throw new RangeError("Out of range index");if(x<=h)return this;h=h>>>0,x=x===void 0?this.length:x>>>0,f||(f=0);let D;if(typeof f=="number")for(D=h;D<x;++D)this[D]=f;else{const Z=d.isBuffer(f)?f:d.from(f,O),ht=Z.length;if(ht===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(D=0;D<x-h;++D)this[D+h]=Z[D%ht]}return this};const J={};function tt(m,f,h){J[m]=class extends h{constructor(){super(),Object.defineProperty(this,"message",{value:f.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${m}]`,this.stack,delete this.name}get code(){return m}set code(O){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:O,writable:!0})}toString(){return`${this.name} [${m}]: ${this.message}`}}}tt("ERR_BUFFER_OUT_OF_BOUNDS",function(m){return m?`${m} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),tt("ERR_INVALID_ARG_TYPE",function(m,f){return`The "${m}" argument must be of type number. Received type ${typeof f}`},TypeError),tt("ERR_OUT_OF_RANGE",function(m,f,h){let x=`The value of "${m}" is out of range.`,O=h;return Number.isInteger(h)&&Math.abs(h)>2**32?O=pt(String(h)):typeof h=="bigint"&&(O=String(h),(h>BigInt(2)**BigInt(32)||h<-(BigInt(2)**BigInt(32)))&&(O=pt(O)),O+="n"),x+=` It must be ${f}. Received ${O}`,x},RangeError);function pt(m){let f="",h=m.length;const x=m[0]==="-"?1:0;for(;h>=x+4;h-=3)f=`_${m.slice(h-3,h)}${f}`;return`${m.slice(0,h)}${f}`}function gt(m,f,h){de(f,"offset"),(m[f]===void 0||m[f+h]===void 0)&&wt(f,m.length-(h+1))}function mt(m,f,h,x,O,D){if(m>h||m<f){const Z=typeof f=="bigint"?"n":"";let ht;throw f===0||f===BigInt(0)?ht=`>= 0${Z} and < 2${Z} ** ${(D+1)*8}${Z}`:ht=`>= -(2${Z} ** ${(D+1)*8-1}${Z}) and < 2 ** ${(D+1)*8-1}${Z}`,new J.ERR_OUT_OF_RANGE("value",ht,m)}gt(x,O,D)}function de(m,f){if(typeof m!="number")throw new J.ERR_INVALID_ARG_TYPE(f,"number",m)}function wt(m,f,h){throw Math.floor(m)!==m?(de(m,h),new J.ERR_OUT_OF_RANGE("offset","an integer",m)):f<0?new J.ERR_BUFFER_OUT_OF_BOUNDS:new J.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${f}`,m)}const It=/[^+/0-9A-Za-z-_]/g;function mr(m){if(m=m.split("=")[0],m=m.trim().replace(It,""),m.length<2)return"";for(;m.length%4!==0;)m=m+"=";return m}function Et(m,f){f=f||1/0;let h;const x=m.length;let O=null;const D=[];for(let Z=0;Z<x;++Z){if(h=m.charCodeAt(Z),h>55295&&h<57344){if(!O){if(h>56319){(f-=3)>-1&&D.push(239,191,189);continue}else if(Z+1===x){(f-=3)>-1&&D.push(239,191,189);continue}O=h;continue}if(h<56320){(f-=3)>-1&&D.push(239,191,189),O=h;continue}h=(O-55296<<10|h-56320)+65536}else O&&(f-=3)>-1&&D.push(239,191,189);if(O=null,h<128){if((f-=1)<0)break;D.push(h)}else if(h<2048){if((f-=2)<0)break;D.push(h>>6|192,h&63|128)}else if(h<65536){if((f-=3)<0)break;D.push(h>>12|224,h>>6&63|128,h&63|128)}else if(h<1114112){if((f-=4)<0)break;D.push(h>>18|240,h>>12&63|128,h>>6&63|128,h&63|128)}else throw new Error("Invalid code point")}return D}function Mt(m){const f=[];for(let h=0;h<m.length;++h)f.push(m.charCodeAt(h)&255);return f}function wr(m,f){let h,x,O;const D=[];for(let Z=0;Z<m.length&&!((f-=2)<0);++Z)h=m.charCodeAt(Z),x=h>>8,O=h%256,D.push(O),D.push(x);return D}function At(m){return t.toByteArray(mr(m))}function vt(m,f,h,x){let O;for(O=0;O<x&&!(O+h>=f.length||O>=m.length);++O)f[O+h]=m[O];return O}function fe(m,f){return m instanceof f||m!=null&&m.constructor!=null&&m.constructor.name!=null&&m.constructor.name===f.name}function Bt(m){return m!==m}const _t=(function(){const m="0123456789abcdef",f=new Array(256);for(let h=0;h<16;++h){const x=h*16;for(let O=0;O<16;++O)f[x+O]=m[h]+m[O]}return f})();function pe(m){return typeof BigInt>"u"?kt:m}function kt(){throw new Error("BigInt not supported")}})(yn)),yn}var lt=Vn();const He=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function cr(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Cn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function ze(e,...t){if(!cr(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Xi(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Cn(e.outputLen),Cn(e.blockLen)}function kr(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function ss(e,t){ze(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function tr(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function mn(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function we(e,t){return e<<32-t|e>>>t}const Ji=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",as=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function qe(e){if(ze(e),Ji)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=as[e[n]];return t}const Ee={_0:48,_9:57,A:65,F:70,a:97,f:102};function bi(e){if(e>=Ee._0&&e<=Ee._9)return e-Ee._0;if(e>=Ee.A&&e<=Ee.F)return e-(Ee.A-10);if(e>=Ee.a&&e<=Ee.f)return e-(Ee.a-10)}function Rr(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Ji)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let a=0,o=0;a<n;a++,o+=2){const l=bi(e.charCodeAt(o)),d=bi(e.charCodeAt(o+1));if(l===void 0||d===void 0){const y=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+y+'" at index '+o)}r[a]=l*16+d}return r}function us(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Hn(e){return typeof e=="string"&&(e=us(e)),ze(e),e}function be(...e){let t=0;for(let r=0;r<e.length;r++){const a=e[r];ze(a),t+=a.length}const n=new Uint8Array(t);for(let r=0,a=0;r<e.length;r++){const o=e[r];n.set(o,a),a+=o.length}return n}class Qi{}function to(e){const t=r=>e().update(Hn(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Zn(e=32){if(He&&typeof He.getRandomValues=="function")return He.getRandomValues(new Uint8Array(e));if(He&&typeof He.randomBytes=="function")return Uint8Array.from(He.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function fs(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const a=BigInt(32),o=BigInt(4294967295),l=Number(n>>a&o),d=Number(n&o),y=r?4:0,I=r?0:4;e.setUint32(t+y,l,r),e.setUint32(t+I,d,r)}function cs(e,t,n){return e&t^~e&n}function hs(e,t,n){return e&t^e&n^t&n}class eo extends Qi{constructor(t,n,r,a){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=a,this.buffer=new Uint8Array(t),this.view=mn(this.buffer)}update(t){kr(this),t=Hn(t),ze(t);const{view:n,buffer:r,blockLen:a}=this,o=t.length;for(let l=0;l<o;){const d=Math.min(a-this.pos,o-l);if(d===a){const y=mn(t);for(;a<=o-l;l+=a)this.process(y,l);continue}r.set(t.subarray(l,l+d),this.pos),this.pos+=d,l+=d,this.pos===a&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){kr(this),ss(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:a,isLE:o}=this;let{pos:l}=this;n[l++]=128,tr(this.buffer.subarray(l)),this.padOffset>a-l&&(this.process(r,0),l=0);for(let U=l;U<a;U++)n[U]=0;fs(r,a-8,BigInt(this.length*8),o),this.process(r,0);const d=mn(t),y=this.outputLen;if(y%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const I=y/4,R=this.get();if(I>R.length)throw new Error("_sha2: outputLen bigger than state");for(let U=0;U<I;U++)d.setUint32(4*U,R[U],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:a,finished:o,destroyed:l,pos:d}=this;return t.destroyed=l,t.finished=o,t.length=a,t.pos=d,a%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const _e=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ee=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),vr=BigInt(2**32-1),vi=BigInt(32);function ls(e,t=!1){return t?{h:Number(e&vr),l:Number(e>>vi&vr)}:{h:Number(e>>vi&vr)|0,l:Number(e&vr)|0}}function ds(e,t=!1){const n=e.length;let r=new Uint32Array(n),a=new Uint32Array(n);for(let o=0;o<n;o++){const{h:l,l:d}=ls(e[o],t);[r[o],a[o]]=[l,d]}return[r,a]}const xi=(e,t,n)=>e>>>n,Ei=(e,t,n)=>e<<32-n|t>>>n,Ze=(e,t,n)=>e>>>n|t<<32-n,je=(e,t,n)=>e<<32-n|t>>>n,xr=(e,t,n)=>e<<64-n|t>>>n-32,Er=(e,t,n)=>e>>>n-32|t<<64-n;function Be(e,t,n,r){const a=(t>>>0)+(r>>>0);return{h:e+n+(a/2**32|0)|0,l:a|0}}const ps=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),gs=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,ys=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),ms=(e,t,n,r,a)=>t+n+r+a+(e/2**32|0)|0,ws=(e,t,n,r,a)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(a>>>0),bs=(e,t,n,r,a,o)=>t+n+r+a+o+(e/2**32|0)|0,vs=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ke=new Uint32Array(64);class xs extends eo{constructor(t=32){super(64,t,8,!1),this.A=_e[0]|0,this.B=_e[1]|0,this.C=_e[2]|0,this.D=_e[3]|0,this.E=_e[4]|0,this.F=_e[5]|0,this.G=_e[6]|0,this.H=_e[7]|0}get(){const{A:t,B:n,C:r,D:a,E:o,F:l,G:d,H:y}=this;return[t,n,r,a,o,l,d,y]}set(t,n,r,a,o,l,d,y){this.A=t|0,this.B=n|0,this.C=r|0,this.D=a|0,this.E=o|0,this.F=l|0,this.G=d|0,this.H=y|0}process(t,n){for(let U=0;U<16;U++,n+=4)ke[U]=t.getUint32(n,!1);for(let U=16;U<64;U++){const _=ke[U-15],S=ke[U-2],F=we(_,7)^we(_,18)^_>>>3,L=we(S,17)^we(S,19)^S>>>10;ke[U]=L+ke[U-7]+F+ke[U-16]|0}let{A:r,B:a,C:o,D:l,E:d,F:y,G:I,H:R}=this;for(let U=0;U<64;U++){const _=we(d,6)^we(d,11)^we(d,25),S=R+_+cs(d,y,I)+vs[U]+ke[U]|0,L=(we(r,2)^we(r,13)^we(r,22))+hs(r,a,o)|0;R=I,I=y,y=d,d=l+S|0,l=o,o=a,a=r,r=S+L|0}r=r+this.A|0,a=a+this.B|0,o=o+this.C|0,l=l+this.D|0,d=d+this.E|0,y=y+this.F|0,I=I+this.G|0,R=R+this.H|0,this.set(r,a,o,l,d,y,I,R)}roundClean(){tr(ke)}destroy(){this.set(0,0,0,0,0,0,0,0),tr(this.buffer)}}const ro=ds(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Es=ro[0],Bs=ro[1],Re=new Uint32Array(80),Ue=new Uint32Array(80);class As extends eo{constructor(t=64){super(128,t,16,!1),this.Ah=ee[0]|0,this.Al=ee[1]|0,this.Bh=ee[2]|0,this.Bl=ee[3]|0,this.Ch=ee[4]|0,this.Cl=ee[5]|0,this.Dh=ee[6]|0,this.Dl=ee[7]|0,this.Eh=ee[8]|0,this.El=ee[9]|0,this.Fh=ee[10]|0,this.Fl=ee[11]|0,this.Gh=ee[12]|0,this.Gl=ee[13]|0,this.Hh=ee[14]|0,this.Hl=ee[15]|0}get(){const{Ah:t,Al:n,Bh:r,Bl:a,Ch:o,Cl:l,Dh:d,Dl:y,Eh:I,El:R,Fh:U,Fl:_,Gh:S,Gl:F,Hh:L,Hl:q}=this;return[t,n,r,a,o,l,d,y,I,R,U,_,S,F,L,q]}set(t,n,r,a,o,l,d,y,I,R,U,_,S,F,L,q){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=a|0,this.Ch=o|0,this.Cl=l|0,this.Dh=d|0,this.Dl=y|0,this.Eh=I|0,this.El=R|0,this.Fh=U|0,this.Fl=_|0,this.Gh=S|0,this.Gl=F|0,this.Hh=L|0,this.Hl=q|0}process(t,n){for(let P=0;P<16;P++,n+=4)Re[P]=t.getUint32(n),Ue[P]=t.getUint32(n+=4);for(let P=16;P<80;P++){const Q=Re[P-15]|0,W=Ue[P-15]|0,nt=Ze(Q,W,1)^Ze(Q,W,8)^xi(Q,W,7),at=je(Q,W,1)^je(Q,W,8)^Ei(Q,W,7),it=Re[P-2]|0,T=Ue[P-2]|0,C=Ze(it,T,19)^xr(it,T,61)^xi(it,T,6),K=je(it,T,19)^Er(it,T,61)^Ei(it,T,6),H=ys(at,K,Ue[P-7],Ue[P-16]),g=ms(H,nt,C,Re[P-7],Re[P-16]);Re[P]=g|0,Ue[P]=H|0}let{Ah:r,Al:a,Bh:o,Bl:l,Ch:d,Cl:y,Dh:I,Dl:R,Eh:U,El:_,Fh:S,Fl:F,Gh:L,Gl:q,Hh:z,Hl:G}=this;for(let P=0;P<80;P++){const Q=Ze(U,_,14)^Ze(U,_,18)^xr(U,_,41),W=je(U,_,14)^je(U,_,18)^Er(U,_,41),nt=U&S^~U&L,at=_&F^~_&q,it=ws(G,W,at,Bs[P],Ue[P]),T=bs(it,z,Q,nt,Es[P],Re[P]),C=it|0,K=Ze(r,a,28)^xr(r,a,34)^xr(r,a,39),H=je(r,a,28)^Er(r,a,34)^Er(r,a,39),g=r&o^r&d^o&d,i=a&l^a&y^l&y;z=L|0,G=q|0,L=S|0,q=F|0,S=U|0,F=_|0,{h:U,l:_}=Be(I|0,R|0,T|0,C|0),I=d|0,R=y|0,d=o|0,y=l|0,o=r|0,l=a|0;const c=ps(C,H,i);r=gs(c,T,K,g),a=c|0}({h:r,l:a}=Be(this.Ah|0,this.Al|0,r|0,a|0)),{h:o,l}=Be(this.Bh|0,this.Bl|0,o|0,l|0),{h:d,l:y}=Be(this.Ch|0,this.Cl|0,d|0,y|0),{h:I,l:R}=Be(this.Dh|0,this.Dl|0,I|0,R|0),{h:U,l:_}=Be(this.Eh|0,this.El|0,U|0,_|0),{h:S,l:F}=Be(this.Fh|0,this.Fl|0,S|0,F|0),{h:L,l:q}=Be(this.Gh|0,this.Gl|0,L|0,q|0),{h:z,l:G}=Be(this.Hh|0,this.Hl|0,z|0,G|0),this.set(r,a,o,l,d,y,I,R,U,_,S,F,L,q,z,G)}roundClean(){tr(Re,Ue)}destroy(){tr(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const no=to(()=>new xs),Ss=to(()=>new As);const jn=BigInt(0),Nn=BigInt(1);function De(e,t=""){if(typeof e!="boolean"){const n=t&&`"${t}"`;throw new Error(n+"expected boolean, got type="+typeof e)}return e}function ge(e,t,n=""){const r=cr(e),a=e?.length,o=t!==void 0;if(!r||o&&a!==t){const l=n&&`"${n}" `,d=o?` of length ${t}`:"",y=r?`length=${a}`:`type=${typeof e}`;throw new Error(l+"expected Uint8Array"+d+", got "+y)}return e}function Br(e){const t=e.toString(16);return t.length&1?"0"+t:t}function io(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?jn:BigInt("0x"+e)}function Pr(e){return io(qe(e))}function ur(e){return ze(e),io(qe(Uint8Array.from(e).reverse()))}function Gn(e,t){return Rr(e.toString(16).padStart(t*2,"0"))}function oo(e,t){return Gn(e,t).reverse()}function Ut(e,t,n){let r;if(typeof t=="string")try{r=Rr(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(cr(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const a=r.length;if(typeof n=="number"&&a!==n)throw new Error(e+" of length "+n+" expected, got "+a);return r}function Bi(e){return Uint8Array.from(e)}const wn=e=>typeof e=="bigint"&&jn<=e;function Is(e,t,n){return wn(e)&&wn(t)&&wn(n)&&t<=e&&e<n}function qn(e,t,n,r){if(!Is(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function so(e){let t;for(t=0;e>jn;e>>=Nn,t+=1);return t}const hr=e=>(Nn<<BigInt(e))-Nn;function Ms(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=S=>new Uint8Array(S),a=S=>Uint8Array.of(S);let o=r(e),l=r(e),d=0;const y=()=>{o.fill(1),l.fill(0),d=0},I=(...S)=>n(l,o,...S),R=(S=r(0))=>{l=I(a(0),S),o=I(),S.length!==0&&(l=I(a(1),S),o=I())},U=()=>{if(d++>=1e3)throw new Error("drbg: tried 1000 values");let S=0;const F=[];for(;S<t;){o=I();const L=o.slice();F.push(L),S+=o.length}return be(...F)};return(S,F)=>{y(),R(S);let L;for(;!(L=F(U()));)R();return y(),L}}function lr(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function r(a,o,l){const d=e[a];if(l&&d===void 0)return;const y=typeof d;if(y!==o||d===null)throw new Error(`param "${a}" is invalid: expected ${o}, got ${y}`)}Object.entries(t).forEach(([a,o])=>r(a,o,!1)),Object.entries(n).forEach(([a,o])=>r(a,o,!0))}function Ur(e){const t=new WeakMap;return(n,...r)=>{const a=t.get(n);if(a!==void 0)return a;const o=e(n,...r);return t.set(n,o),o}}const ue=BigInt(0),te=BigInt(1),Oe=BigInt(2),ao=BigInt(3),uo=BigInt(4),fo=BigInt(5),_s=BigInt(7),co=BigInt(8),ks=BigInt(9),ho=BigInt(16);function Wt(e,t){const n=e%t;return n>=ue?n:t+n}function Rt(e,t,n){let r=e;for(;t-- >ue;)r*=r,r%=n;return r}function Ai(e,t){if(e===ue)throw new Error("invert: expected non-zero number");if(t<=ue)throw new Error("invert: expected positive modulus, got "+t);let n=Wt(e,t),r=t,a=ue,o=te;for(;n!==ue;){const d=r/n,y=r%n,I=a-o*d;r=n,n=y,a=o,o=I}if(r!==te)throw new Error("invert: does not exist");return Wt(a,t)}function Yn(e,t,n){if(!e.eql(e.sqr(t),n))throw new Error("Cannot find square root")}function lo(e,t){const n=(e.ORDER+te)/uo,r=e.pow(t,n);return Yn(e,r,t),r}function Rs(e,t){const n=(e.ORDER-fo)/co,r=e.mul(t,Oe),a=e.pow(r,n),o=e.mul(t,a),l=e.mul(e.mul(o,Oe),a),d=e.mul(o,e.sub(l,e.ONE));return Yn(e,d,t),d}function Us(e){const t=Ke(e),n=po(e),r=n(t,t.neg(t.ONE)),a=n(t,r),o=n(t,t.neg(r)),l=(e+_s)/ho;return(d,y)=>{let I=d.pow(y,l),R=d.mul(I,r);const U=d.mul(I,a),_=d.mul(I,o),S=d.eql(d.sqr(R),y),F=d.eql(d.sqr(U),y);I=d.cmov(I,R,S),R=d.cmov(_,U,F);const L=d.eql(d.sqr(R),y),q=d.cmov(I,R,L);return Yn(d,q,y),q}}function po(e){if(e<ao)throw new Error("sqrt is not defined for small field");let t=e-te,n=0;for(;t%Oe===ue;)t/=Oe,n++;let r=Oe;const a=Ke(e);for(;Si(a,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return lo;let o=a.pow(r,t);const l=(t+te)/Oe;return function(y,I){if(y.is0(I))return I;if(Si(y,I)!==1)throw new Error("Cannot find square root");let R=n,U=y.mul(y.ONE,o),_=y.pow(I,t),S=y.pow(I,l);for(;!y.eql(_,y.ONE);){if(y.is0(_))return y.ZERO;let F=1,L=y.sqr(_);for(;!y.eql(L,y.ONE);)if(F++,L=y.sqr(L),F===R)throw new Error("Cannot find square root");const q=te<<BigInt(R-F-1),z=y.pow(U,q);R=F,U=y.sqr(z),_=y.mul(_,U),S=y.mul(S,z)}return S}}function Ls(e){return e%uo===ao?lo:e%co===fo?Rs:e%ho===ks?Us(e):po(e)}const Fs=(e,t)=>(Wt(e,t)&te)===te,Ts=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Os(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=Ts.reduce((r,a)=>(r[a]="function",r),t);return lr(e,n),e}function Cs(e,t,n){if(n<ue)throw new Error("invalid exponent, negatives unsupported");if(n===ue)return e.ONE;if(n===te)return t;let r=e.ONE,a=t;for(;n>ue;)n&te&&(r=e.mul(r,a)),a=e.sqr(a),n>>=te;return r}function go(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),a=t.reduce((l,d,y)=>e.is0(d)?l:(r[y]=l,e.mul(l,d)),e.ONE),o=e.inv(a);return t.reduceRight((l,d,y)=>e.is0(d)?l:(r[y]=e.mul(l,r[y]),e.mul(l,d)),o),r}function Si(e,t){const n=(e.ORDER-te)/Oe,r=e.pow(t,n),a=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),l=e.eql(r,e.neg(e.ONE));if(!a&&!o&&!l)throw new Error("invalid Legendre symbol result");return a?1:o?0:-1}function yo(e,t){t!==void 0&&Cn(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Ke(e,t,n=!1,r={}){if(e<=ue)throw new Error("invalid field: expected ORDER > 0, got "+e);let a,o,l=!1,d;if(typeof t=="object"&&t!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const _=t;_.BITS&&(a=_.BITS),_.sqrt&&(o=_.sqrt),typeof _.isLE=="boolean"&&(n=_.isLE),typeof _.modFromBytes=="boolean"&&(l=_.modFromBytes),d=_.allowedLengths}else typeof t=="number"&&(a=t),r.sqrt&&(o=r.sqrt);const{nBitLength:y,nByteLength:I}=yo(e,a);if(I>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let R;const U=Object.freeze({ORDER:e,isLE:n,BITS:y,BYTES:I,MASK:hr(y),ZERO:ue,ONE:te,allowedLengths:d,create:_=>Wt(_,e),isValid:_=>{if(typeof _!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof _);return ue<=_&&_<e},is0:_=>_===ue,isValidNot0:_=>!U.is0(_)&&U.isValid(_),isOdd:_=>(_&te)===te,neg:_=>Wt(-_,e),eql:(_,S)=>_===S,sqr:_=>Wt(_*_,e),add:(_,S)=>Wt(_+S,e),sub:(_,S)=>Wt(_-S,e),mul:(_,S)=>Wt(_*S,e),pow:(_,S)=>Cs(U,_,S),div:(_,S)=>Wt(_*Ai(S,e),e),sqrN:_=>_*_,addN:(_,S)=>_+S,subN:(_,S)=>_-S,mulN:(_,S)=>_*S,inv:_=>Ai(_,e),sqrt:o||(_=>(R||(R=Ls(e)),R(U,_))),toBytes:_=>n?oo(_,I):Gn(_,I),fromBytes:(_,S=!0)=>{if(d){if(!d.includes(_.length)||_.length>I)throw new Error("Field.fromBytes: expected "+d+" bytes, got "+_.length);const L=new Uint8Array(I);L.set(_,n?0:L.length-_.length),_=L}if(_.length!==I)throw new Error("Field.fromBytes: expected "+I+" bytes, got "+_.length);let F=n?ur(_):Pr(_);if(l&&(F=Wt(F,e)),!S&&!U.isValid(F))throw new Error("invalid field element: outside of range 0..ORDER");return F},invertBatch:_=>go(U,_),cmov:(_,S,F)=>F?S:_});return Object.freeze(U)}function mo(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function wo(e){const t=mo(e);return t+Math.ceil(t/2)}function Ns(e,t,n=!1){const r=e.length,a=mo(t),o=wo(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const l=n?ur(e):Pr(e),d=Wt(l,t-te)+te;return n?oo(d,a):Gn(d,a)}const er=BigInt(0),Ce=BigInt(1);function Lr(e,t){const n=t.negate();return e?n:t}function Ne(e,t){const n=go(e.Fp,t.map(r=>r.Z));return t.map((r,a)=>e.fromAffine(r.toAffine(n[a])))}function bo(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function bn(e,t){bo(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),a=2**e,o=hr(e),l=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:a,shiftBy:l}}function Ii(e,t,n){const{windowSize:r,mask:a,maxNumber:o,shiftBy:l}=n;let d=Number(e&a),y=e>>l;d>r&&(d-=o,y+=Ce);const I=t*r,R=I+Math.abs(d)-1,U=d===0,_=d<0,S=t%2!==0;return{nextN:y,offset:R,isZero:U,isNeg:_,isNegF:S,offsetF:I}}function qs(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function Ds(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const vn=new WeakMap,vo=new WeakMap;function xn(e){return vo.get(e)||1}function Mi(e){if(e!==er)throw new Error("invalid wNAF")}class xo{constructor(t,n){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=n}_unsafeLadder(t,n,r=this.ZERO){let a=t;for(;n>er;)n&Ce&&(r=r.add(a)),a=a.double(),n>>=Ce;return r}precomputeWindow(t,n){const{windows:r,windowSize:a}=bn(n,this.bits),o=[];let l=t,d=l;for(let y=0;y<r;y++){d=l,o.push(d);for(let I=1;I<a;I++)d=d.add(l),o.push(d);l=d.double()}return o}wNAF(t,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let a=this.ZERO,o=this.BASE;const l=bn(t,this.bits);for(let d=0;d<l.windows;d++){const{nextN:y,offset:I,isZero:R,isNeg:U,isNegF:_,offsetF:S}=Ii(r,d,l);r=y,R?o=o.add(Lr(_,n[S])):a=a.add(Lr(U,n[I]))}return Mi(r),{p:a,f:o}}wNAFUnsafe(t,n,r,a=this.ZERO){const o=bn(t,this.bits);for(let l=0;l<o.windows&&r!==er;l++){const{nextN:d,offset:y,isZero:I,isNeg:R}=Ii(r,l,o);if(r=d,!I){const U=n[y];a=a.add(R?U.negate():U)}}return Mi(r),a}getPrecomputes(t,n,r){let a=vn.get(n);return a||(a=this.precomputeWindow(n,t),t!==1&&(typeof r=="function"&&(a=r(a)),vn.set(n,a))),a}cached(t,n,r){const a=xn(t);return this.wNAF(a,this.getPrecomputes(a,t,r),n)}unsafe(t,n,r,a){const o=xn(t);return o===1?this._unsafeLadder(t,n,a):this.wNAFUnsafe(o,this.getPrecomputes(o,t,r),n,a)}createCache(t,n){bo(n,this.bits),vo.set(t,n),vn.delete(t)}hasCache(t){return xn(t)!==1}}function zs(e,t,n,r){let a=t,o=e.ZERO,l=e.ZERO;for(;n>er||r>er;)n&Ce&&(o=o.add(a)),r&Ce&&(l=l.add(a)),a=a.double(),n>>=Ce,r>>=Ce;return{p1:o,p2:l}}function Eo(e,t,n,r){qs(n,e),Ds(r,t);const a=n.length,o=r.length;if(a!==o)throw new Error("arrays of points and scalars must have equal length");const l=e.ZERO,d=so(BigInt(a));let y=1;d>12?y=d-3:d>4?y=d-2:d>0&&(y=2);const I=hr(y),R=new Array(Number(I)+1).fill(l),U=Math.floor((t.BITS-1)/y)*y;let _=l;for(let S=U;S>=0;S-=y){R.fill(l);for(let L=0;L<o;L++){const q=r[L],z=Number(q>>BigInt(S)&I);R[z]=R[z].add(n[L])}let F=l;for(let L=R.length-1,q=l;L>0;L--)q=q.add(R[L]),F=F.add(q);if(_=_.add(F),S!==0)for(let L=0;L<y;L++)_=_.double()}return _}function _i(e,t,n){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Os(t),t}else return Ke(e,{isLE:n})}function Bo(e,t,n={},r){if(r===void 0&&(r=e==="edwards"),!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const y of["p","n","h"]){const I=t[y];if(!(typeof I=="bigint"&&I>er))throw new Error(`CURVE.${y} must be positive bigint`)}const a=_i(t.p,n.Fp,r),o=_i(t.n,n.Fn,r),d=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(const y of d)if(!a.isValid(t[y]))throw new Error(`CURVE.${y} must be valid field element of CURVE.Fp`);return t=Object.freeze(Object.assign({},t)),{CURVE:t,Fp:a,Fn:o}}const Le=BigInt(0),Jt=BigInt(1),En=BigInt(2),Ks=BigInt(8);function Ps(e,t,n,r){const a=e.sqr(n),o=e.sqr(r),l=e.add(e.mul(t.a,a),o),d=e.add(e.ONE,e.mul(t.d,e.mul(a,o)));return e.eql(l,d)}function $s(e,t={}){const n=Bo("edwards",e,t,t.FpFnLE),{Fp:r,Fn:a}=n;let o=n.CURVE;const{h:l}=o;lr(t,{},{uvRatio:"function"});const d=En<<BigInt(a.BYTES*8)-Jt,y=q=>r.create(q),I=t.uvRatio||((q,z)=>{try{return{isValid:!0,value:r.sqrt(r.div(q,z))}}catch{return{isValid:!1,value:Le}}});if(!Ps(r,o,o.Gx,o.Gy))throw new Error("bad curve params: generator point");function R(q,z,G=!1){const P=G?Jt:Le;return qn("coordinate "+q,z,P,d),z}function U(q){if(!(q instanceof F))throw new Error("ExtendedPoint expected")}const _=Ur((q,z)=>{const{X:G,Y:P,Z:Q}=q,W=q.is0();z==null&&(z=W?Ks:r.inv(Q));const nt=y(G*z),at=y(P*z),it=r.mul(Q,z);if(W)return{x:Le,y:Jt};if(it!==Jt)throw new Error("invZ was invalid");return{x:nt,y:at}}),S=Ur(q=>{const{a:z,d:G}=o;if(q.is0())throw new Error("bad point: ZERO");const{X:P,Y:Q,Z:W,T:nt}=q,at=y(P*P),it=y(Q*Q),T=y(W*W),C=y(T*T),K=y(at*z),H=y(T*y(K+it)),g=y(C+y(G*y(at*it)));if(H!==g)throw new Error("bad point: equation left != right (1)");const i=y(P*Q),c=y(W*nt);if(i!==c)throw new Error("bad point: equation left != right (2)");return!0});class F{constructor(z,G,P,Q){this.X=R("x",z),this.Y=R("y",G),this.Z=R("z",P,!0),this.T=R("t",Q),Object.freeze(this)}static CURVE(){return o}static fromAffine(z){if(z instanceof F)throw new Error("extended point not allowed");const{x:G,y:P}=z||{};return R("x",G),R("y",P),new F(G,P,Jt,y(G*P))}static fromBytes(z,G=!1){const P=r.BYTES,{a:Q,d:W}=o;z=Bi(ge(z,P,"point")),De(G,"zip215");const nt=Bi(z),at=z[P-1];nt[P-1]=at&-129;const it=ur(nt),T=G?d:r.ORDER;qn("point.y",it,Le,T);const C=y(it*it),K=y(C-Jt),H=y(W*C-Q);let{isValid:g,value:i}=I(K,H);if(!g)throw new Error("bad point: invalid y coordinate");const c=(i&Jt)===Jt,p=(at&128)!==0;if(!G&&i===Le&&p)throw new Error("bad point: x=0 and x_0=1");return p!==c&&(i=y(-i)),F.fromAffine({x:i,y:it})}static fromHex(z,G=!1){return F.fromBytes(Ut("point",z),G)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(z=8,G=!0){return L.createCache(this,z),G||this.multiply(En),this}assertValidity(){S(this)}equals(z){U(z);const{X:G,Y:P,Z:Q}=this,{X:W,Y:nt,Z:at}=z,it=y(G*at),T=y(W*Q),C=y(P*at),K=y(nt*Q);return it===T&&C===K}is0(){return this.equals(F.ZERO)}negate(){return new F(y(-this.X),this.Y,this.Z,y(-this.T))}double(){const{a:z}=o,{X:G,Y:P,Z:Q}=this,W=y(G*G),nt=y(P*P),at=y(En*y(Q*Q)),it=y(z*W),T=G+P,C=y(y(T*T)-W-nt),K=it+nt,H=K-at,g=it-nt,i=y(C*H),c=y(K*g),p=y(C*g),v=y(H*K);return new F(i,c,v,p)}add(z){U(z);const{a:G,d:P}=o,{X:Q,Y:W,Z:nt,T:at}=this,{X:it,Y:T,Z:C,T:K}=z,H=y(Q*it),g=y(W*T),i=y(at*P*K),c=y(nt*C),p=y((Q+W)*(it+T)-H-g),v=c-i,E=c+i,A=y(g-G*H),k=y(p*v),b=y(E*A),s=y(p*A),u=y(v*E);return new F(k,b,u,s)}subtract(z){return this.add(z.negate())}multiply(z){if(!a.isValidNot0(z))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:G,f:P}=L.cached(this,z,Q=>Ne(F,Q));return Ne(F,[G,P])[0]}multiplyUnsafe(z,G=F.ZERO){if(!a.isValid(z))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return z===Le?F.ZERO:this.is0()||z===Jt?this:L.unsafe(this,z,P=>Ne(F,P),G)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return L.unsafe(this,o.n).is0()}toAffine(z){return _(this,z)}clearCofactor(){return l===Jt?this:this.multiplyUnsafe(l)}toBytes(){const{x:z,y:G}=this.toAffine(),P=r.toBytes(G);return P[P.length-1]|=z&Jt?128:0,P}toHex(){return qe(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(z){return Ne(F,z)}static msm(z,G){return Eo(F,a,z,G)}_setWindowSize(z){this.precompute(z)}toRawBytes(){return this.toBytes()}}F.BASE=new F(o.Gx,o.Gy,Jt,y(o.Gx*o.Gy)),F.ZERO=new F(Le,Jt,Jt,Le),F.Fp=r,F.Fn=a;const L=new xo(F,a.BITS);return F.BASE.precompute(8),F}function Vs(e,t,n={}){if(typeof t!="function")throw new Error('"hash" function param is required');lr(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:a,Fp:o,Fn:l}=e,d=n.randomBytes||Zn,y=n.adjustScalarBytes||(T=>T),I=n.domain||((T,C,K)=>{if(De(K,"phflag"),C.length||K)throw new Error("Contexts/pre-hash are not supported");return T});function R(T){return l.create(ur(T))}function U(T){const C=P.secretKey;T=Ut("private key",T,C);const K=Ut("hashed private key",t(T),2*C),H=y(K.slice(0,C)),g=K.slice(C,2*C),i=R(H);return{head:H,prefix:g,scalar:i}}function _(T){const{head:C,prefix:K,scalar:H}=U(T),g=a.multiply(H),i=g.toBytes();return{head:C,prefix:K,scalar:H,point:g,pointBytes:i}}function S(T){return _(T).pointBytes}function F(T=Uint8Array.of(),...C){const K=be(...C);return R(t(I(K,Ut("context",T),!!r)))}function L(T,C,K={}){T=Ut("message",T),r&&(T=r(T));const{prefix:H,scalar:g,pointBytes:i}=_(C),c=F(K.context,H,T),p=a.multiply(c).toBytes(),v=F(K.context,p,i,T),E=l.create(c+v*g);if(!l.isValid(E))throw new Error("sign failed: invalid s");const A=be(p,l.toBytes(E));return ge(A,P.signature,"result")}const q={zip215:!0};function z(T,C,K,H=q){const{context:g,zip215:i}=H,c=P.signature;T=Ut("signature",T,c),C=Ut("message",C),K=Ut("publicKey",K,P.publicKey),i!==void 0&&De(i,"zip215"),r&&(C=r(C));const p=c/2,v=T.subarray(0,p),E=ur(T.subarray(p,c));let A,k,b;try{A=e.fromBytes(K,i),k=e.fromBytes(v,i),b=a.multiplyUnsafe(E)}catch{return!1}if(!i&&A.isSmallOrder())return!1;const s=F(g,k.toBytes(),A.toBytes(),C);return k.add(A.multiplyUnsafe(s)).subtract(b).clearCofactor().is0()}const G=o.BYTES,P={secretKey:G,publicKey:G,signature:2*G,seed:G};function Q(T=d(P.seed)){return ge(T,P.seed,"seed")}function W(T){const C=it.randomSecretKey(T);return{secretKey:C,publicKey:S(C)}}function nt(T){return cr(T)&&T.length===l.BYTES}function at(T,C){try{return!!e.fromBytes(T,C)}catch{return!1}}const it={getExtendedPublicKey:_,randomSecretKey:Q,isValidSecretKey:nt,isValidPublicKey:at,toMontgomery(T){const{y:C}=e.fromBytes(T),K=P.publicKey,H=K===32;if(!H&&K!==57)throw new Error("only defined for 25519 and 448");const g=H?o.div(Jt+C,Jt-C):o.div(C-Jt,C+Jt);return o.toBytes(g)},toMontgomerySecret(T){const C=P.secretKey;ge(T,C);const K=t(T.subarray(0,C));return y(K).subarray(0,C)},randomPrivateKey:Q,precompute(T=8,C=e.BASE){return C.precompute(T,!1)}};return Object.freeze({keygen:W,getPublicKey:S,sign:L,verify:z,utils:it,Point:e,lengths:P})}function Hs(e){const t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp,r=Ke(t.n,e.nBitLength,!0),a={Fp:n,Fn:r,uvRatio:e.uvRatio},o={randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve};return{CURVE:t,curveOpts:a,hash:e.hash,eddsaOpts:o}}function Zs(e,t){const n=t.Point;return Object.assign({},t,{ExtendedPoint:n,CURVE:e,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function js(e){const{CURVE:t,curveOpts:n,hash:r,eddsaOpts:a}=Hs(e),o=$s(t,n),l=Vs(o,r,a);return Zs(e,l)}const Gs=BigInt(1),ki=BigInt(2);BigInt(3);const Ys=BigInt(5),Ws=BigInt(8),Wn=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),Ao={p:Wn,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Ws,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Xs(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),a=BigInt(80),o=Wn,d=e*e%o*e%o,y=Rt(d,ki,o)*d%o,I=Rt(y,Gs,o)*e%o,R=Rt(I,Ys,o)*I%o,U=Rt(R,t,o)*R%o,_=Rt(U,n,o)*U%o,S=Rt(_,r,o)*_%o,F=Rt(S,a,o)*S%o,L=Rt(F,a,o)*S%o,q=Rt(L,t,o)*R%o;return{pow_p_5_8:Rt(q,ki,o)*e%o,b2:d}}function Js(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const Ri=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function Qs(e,t){const n=Wn,r=Wt(t*t*t,n),a=Wt(r*r*t,n),o=Xs(e*a).pow_p_5_8;let l=Wt(e*r*o,n);const d=Wt(t*l*l,n),y=l,I=Wt(l*Ri,n),R=d===e,U=d===Wt(-e,n),_=d===Wt(-e*Ri,n);return R&&(l=y),(U||_)&&(l=I),Fs(l,n)&&(l=Wt(-l,n)),{isValid:R||U,value:l}}const ta=Ke(Ao.p,{isLE:!0}),ea={...Ao,Fp:ta,hash:Ss,adjustScalarBytes:Js,uvRatio:Qs},dr=js(ea);var Mr={exports:{}};const ra={},na=Object.freeze(Object.defineProperty({__proto__:null,default:ra},Symbol.toStringTag,{value:"Module"})),ia=$n(na);var oa=Mr.exports,Ui;function So(){return Ui||(Ui=1,(function(e){(function(t,n){function r(g,i){if(!g)throw new Error(i||"Assertion failed")}function a(g,i){g.super_=i;var c=function(){};c.prototype=i.prototype,g.prototype=new c,g.prototype.constructor=g}function o(g,i,c){if(o.isBN(g))return g;this.negative=0,this.words=null,this.length=0,this.red=null,g!==null&&((i==="le"||i==="be")&&(c=i,i=10),this._init(g||0,i||10,c||"be"))}typeof t=="object"?t.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=ia.Buffer}catch{}o.isBN=function(i){return i instanceof o?!0:i!==null&&typeof i=="object"&&i.constructor.wordSize===o.wordSize&&Array.isArray(i.words)},o.max=function(i,c){return i.cmp(c)>0?i:c},o.min=function(i,c){return i.cmp(c)<0?i:c},o.prototype._init=function(i,c,p){if(typeof i=="number")return this._initNumber(i,c,p);if(typeof i=="object")return this._initArray(i,c,p);c==="hex"&&(c=16),r(c===(c|0)&&c>=2&&c<=36),i=i.toString().replace(/\s+/g,"");var v=0;i[0]==="-"&&(v++,this.negative=1),v<i.length&&(c===16?this._parseHex(i,v,p):(this._parseBase(i,c,v),p==="le"&&this._initArray(this.toArray(),c,p)))},o.prototype._initNumber=function(i,c,p){i<0&&(this.negative=1,i=-i),i<67108864?(this.words=[i&67108863],this.length=1):i<4503599627370496?(this.words=[i&67108863,i/67108864&67108863],this.length=2):(r(i<9007199254740992),this.words=[i&67108863,i/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),c,p)},o.prototype._initArray=function(i,c,p){if(r(typeof i.length=="number"),i.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(i.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var E,A,k=0;if(p==="be")for(v=i.length-1,E=0;v>=0;v-=3)A=i[v]|i[v-1]<<8|i[v-2]<<16,this.words[E]|=A<<k&67108863,this.words[E+1]=A>>>26-k&67108863,k+=24,k>=26&&(k-=26,E++);else if(p==="le")for(v=0,E=0;v<i.length;v+=3)A=i[v]|i[v+1]<<8|i[v+2]<<16,this.words[E]|=A<<k&67108863,this.words[E+1]=A>>>26-k&67108863,k+=24,k>=26&&(k-=26,E++);return this._strip()};function d(g,i){var c=g.charCodeAt(i);if(c>=48&&c<=57)return c-48;if(c>=65&&c<=70)return c-55;if(c>=97&&c<=102)return c-87;r(!1,"Invalid character in "+g)}function y(g,i,c){var p=d(g,c);return c-1>=i&&(p|=d(g,c-1)<<4),p}o.prototype._parseHex=function(i,c,p){this.length=Math.ceil((i.length-c)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var E=0,A=0,k;if(p==="be")for(v=i.length-1;v>=c;v-=2)k=y(i,c,v)<<E,this.words[A]|=k&67108863,E>=18?(E-=18,A+=1,this.words[A]|=k>>>26):E+=8;else{var b=i.length-c;for(v=b%2===0?c+1:c;v<i.length;v+=2)k=y(i,c,v)<<E,this.words[A]|=k&67108863,E>=18?(E-=18,A+=1,this.words[A]|=k>>>26):E+=8}this._strip()};function I(g,i,c,p){for(var v=0,E=0,A=Math.min(g.length,c),k=i;k<A;k++){var b=g.charCodeAt(k)-48;v*=p,b>=49?E=b-49+10:b>=17?E=b-17+10:E=b,r(b>=0&&E<p,"Invalid character"),v+=E}return v}o.prototype._parseBase=function(i,c,p){this.words=[0],this.length=1;for(var v=0,E=1;E<=67108863;E*=c)v++;v--,E=E/c|0;for(var A=i.length-p,k=A%v,b=Math.min(A,A-k)+p,s=0,u=p;u<b;u+=v)s=I(i,u,u+v,c),this.imuln(E),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(k!==0){var w=1;for(s=I(i,u,i.length,c),u=0;u<k;u++)w*=c;this.imuln(w),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this._strip()},o.prototype.copy=function(i){i.words=new Array(this.length);for(var c=0;c<this.length;c++)i.words[c]=this.words[c];i.length=this.length,i.negative=this.negative,i.red=this.red};function R(g,i){g.words=i.words,g.length=i.length,g.negative=i.negative,g.red=i.red}if(o.prototype._move=function(i){R(i,this)},o.prototype.clone=function(){var i=new o(null);return this.copy(i),i},o.prototype._expand=function(i){for(;this.length<i;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=U}catch{o.prototype.inspect=U}else o.prototype.inspect=U;function U(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],F=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(i,c){i=i||10,c=c|0||1;var p;if(i===16||i==="hex"){p="";for(var v=0,E=0,A=0;A<this.length;A++){var k=this.words[A],b=((k<<v|E)&16777215).toString(16);E=k>>>24-v&16777215,v+=2,v>=26&&(v-=26,A--),E!==0||A!==this.length-1?p=_[6-b.length]+b+p:p=b+p}for(E!==0&&(p=E.toString(16)+p);p.length%c!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(i===(i|0)&&i>=2&&i<=36){var s=S[i],u=F[i];p="";var w=this.clone();for(w.negative=0;!w.isZero();){var B=w.modrn(u).toString(i);w=w.idivn(u),w.isZero()?p=B+p:p=_[s-B.length]+B+p}for(this.isZero()&&(p="0"+p);p.length%c!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var i=this.words[0];return this.length===2?i+=this.words[1]*67108864:this.length===3&&this.words[2]===1?i+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-i:i},o.prototype.toJSON=function(){return this.toString(16,2)},l&&(o.prototype.toBuffer=function(i,c){return this.toArrayLike(l,i,c)}),o.prototype.toArray=function(i,c){return this.toArrayLike(Array,i,c)};var L=function(i,c){return i.allocUnsafe?i.allocUnsafe(c):new i(c)};o.prototype.toArrayLike=function(i,c,p){this._strip();var v=this.byteLength(),E=p||Math.max(1,v);r(v<=E,"byte array longer than desired length"),r(E>0,"Requested array length <= 0");var A=L(i,E),k=c==="le"?"LE":"BE";return this["_toArrayLike"+k](A,v),A},o.prototype._toArrayLikeLE=function(i,c){for(var p=0,v=0,E=0,A=0;E<this.length;E++){var k=this.words[E]<<A|v;i[p++]=k&255,p<i.length&&(i[p++]=k>>8&255),p<i.length&&(i[p++]=k>>16&255),A===6?(p<i.length&&(i[p++]=k>>24&255),v=0,A=0):(v=k>>>24,A+=2)}if(p<i.length)for(i[p++]=v;p<i.length;)i[p++]=0},o.prototype._toArrayLikeBE=function(i,c){for(var p=i.length-1,v=0,E=0,A=0;E<this.length;E++){var k=this.words[E]<<A|v;i[p--]=k&255,p>=0&&(i[p--]=k>>8&255),p>=0&&(i[p--]=k>>16&255),A===6?(p>=0&&(i[p--]=k>>24&255),v=0,A=0):(v=k>>>24,A+=2)}if(p>=0)for(i[p--]=v;p>=0;)i[p--]=0},Math.clz32?o.prototype._countBits=function(i){return 32-Math.clz32(i)}:o.prototype._countBits=function(i){var c=i,p=0;return c>=4096&&(p+=13,c>>>=13),c>=64&&(p+=7,c>>>=7),c>=8&&(p+=4,c>>>=4),c>=2&&(p+=2,c>>>=2),p+c},o.prototype._zeroBits=function(i){if(i===0)return 26;var c=i,p=0;return(c&8191)===0&&(p+=13,c>>>=13),(c&127)===0&&(p+=7,c>>>=7),(c&15)===0&&(p+=4,c>>>=4),(c&3)===0&&(p+=2,c>>>=2),(c&1)===0&&p++,p},o.prototype.bitLength=function(){var i=this.words[this.length-1],c=this._countBits(i);return(this.length-1)*26+c};function q(g){for(var i=new Array(g.bitLength()),c=0;c<i.length;c++){var p=c/26|0,v=c%26;i[c]=g.words[p]>>>v&1}return i}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var i=0,c=0;c<this.length;c++){var p=this._zeroBits(this.words[c]);if(i+=p,p!==26)break}return i},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(i){return this.negative!==0?this.abs().inotn(i).iaddn(1):this.clone()},o.prototype.fromTwos=function(i){return this.testn(i-1)?this.notn(i).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(i){for(;this.length<i.length;)this.words[this.length++]=0;for(var c=0;c<i.length;c++)this.words[c]=this.words[c]|i.words[c];return this._strip()},o.prototype.ior=function(i){return r((this.negative|i.negative)===0),this.iuor(i)},o.prototype.or=function(i){return this.length>i.length?this.clone().ior(i):i.clone().ior(this)},o.prototype.uor=function(i){return this.length>i.length?this.clone().iuor(i):i.clone().iuor(this)},o.prototype.iuand=function(i){var c;this.length>i.length?c=i:c=this;for(var p=0;p<c.length;p++)this.words[p]=this.words[p]&i.words[p];return this.length=c.length,this._strip()},o.prototype.iand=function(i){return r((this.negative|i.negative)===0),this.iuand(i)},o.prototype.and=function(i){return this.length>i.length?this.clone().iand(i):i.clone().iand(this)},o.prototype.uand=function(i){return this.length>i.length?this.clone().iuand(i):i.clone().iuand(this)},o.prototype.iuxor=function(i){var c,p;this.length>i.length?(c=this,p=i):(c=i,p=this);for(var v=0;v<p.length;v++)this.words[v]=c.words[v]^p.words[v];if(this!==c)for(;v<c.length;v++)this.words[v]=c.words[v];return this.length=c.length,this._strip()},o.prototype.ixor=function(i){return r((this.negative|i.negative)===0),this.iuxor(i)},o.prototype.xor=function(i){return this.length>i.length?this.clone().ixor(i):i.clone().ixor(this)},o.prototype.uxor=function(i){return this.length>i.length?this.clone().iuxor(i):i.clone().iuxor(this)},o.prototype.inotn=function(i){r(typeof i=="number"&&i>=0);var c=Math.ceil(i/26)|0,p=i%26;this._expand(c),p>0&&c--;for(var v=0;v<c;v++)this.words[v]=~this.words[v]&67108863;return p>0&&(this.words[v]=~this.words[v]&67108863>>26-p),this._strip()},o.prototype.notn=function(i){return this.clone().inotn(i)},o.prototype.setn=function(i,c){r(typeof i=="number"&&i>=0);var p=i/26|0,v=i%26;return this._expand(p+1),c?this.words[p]=this.words[p]|1<<v:this.words[p]=this.words[p]&~(1<<v),this._strip()},o.prototype.iadd=function(i){var c;if(this.negative!==0&&i.negative===0)return this.negative=0,c=this.isub(i),this.negative^=1,this._normSign();if(this.negative===0&&i.negative!==0)return i.negative=0,c=this.isub(i),i.negative=1,c._normSign();var p,v;this.length>i.length?(p=this,v=i):(p=i,v=this);for(var E=0,A=0;A<v.length;A++)c=(p.words[A]|0)+(v.words[A]|0)+E,this.words[A]=c&67108863,E=c>>>26;for(;E!==0&&A<p.length;A++)c=(p.words[A]|0)+E,this.words[A]=c&67108863,E=c>>>26;if(this.length=p.length,E!==0)this.words[this.length]=E,this.length++;else if(p!==this)for(;A<p.length;A++)this.words[A]=p.words[A];return this},o.prototype.add=function(i){var c;return i.negative!==0&&this.negative===0?(i.negative=0,c=this.sub(i),i.negative^=1,c):i.negative===0&&this.negative!==0?(this.negative=0,c=i.sub(this),this.negative=1,c):this.length>i.length?this.clone().iadd(i):i.clone().iadd(this)},o.prototype.isub=function(i){if(i.negative!==0){i.negative=0;var c=this.iadd(i);return i.negative=1,c._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(i),this.negative=1,this._normSign();var p=this.cmp(i);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,E;p>0?(v=this,E=i):(v=i,E=this);for(var A=0,k=0;k<E.length;k++)c=(v.words[k]|0)-(E.words[k]|0)+A,A=c>>26,this.words[k]=c&67108863;for(;A!==0&&k<v.length;k++)c=(v.words[k]|0)+A,A=c>>26,this.words[k]=c&67108863;if(A===0&&k<v.length&&v!==this)for(;k<v.length;k++)this.words[k]=v.words[k];return this.length=Math.max(this.length,k),v!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(i){return this.clone().isub(i)};function z(g,i,c){c.negative=i.negative^g.negative;var p=g.length+i.length|0;c.length=p,p=p-1|0;var v=g.words[0]|0,E=i.words[0]|0,A=v*E,k=A&67108863,b=A/67108864|0;c.words[0]=k;for(var s=1;s<p;s++){for(var u=b>>>26,w=b&67108863,B=Math.min(s,i.length-1),N=Math.max(0,s-g.length+1);N<=B;N++){var j=s-N|0;v=g.words[j]|0,E=i.words[N]|0,A=v*E+w,u+=A/67108864|0,w=A&67108863}c.words[s]=w|0,b=u|0}return b!==0?c.words[s]=b|0:c.length--,c._strip()}var G=function(i,c,p){var v=i.words,E=c.words,A=p.words,k=0,b,s,u,w=v[0]|0,B=w&8191,N=w>>>13,j=v[1]|0,J=j&8191,tt=j>>>13,pt=v[2]|0,gt=pt&8191,mt=pt>>>13,de=v[3]|0,wt=de&8191,It=de>>>13,mr=v[4]|0,Et=mr&8191,Mt=mr>>>13,wr=v[5]|0,At=wr&8191,vt=wr>>>13,fe=v[6]|0,Bt=fe&8191,_t=fe>>>13,pe=v[7]|0,kt=pe&8191,m=pe>>>13,f=v[8]|0,h=f&8191,x=f>>>13,O=v[9]|0,D=O&8191,Z=O>>>13,ht=E[0]|0,ft=ht&8191,ut=ht>>>13,xt=E[1]|0,st=xt&8191,Ft=xt>>>13,ui=E[2]|0,Tt=ui&8191,Ot=ui>>>13,fi=E[3]|0,Ct=fi&8191,Nt=fi>>>13,ci=E[4]|0,qt=ci&8191,Dt=ci>>>13,hi=E[5]|0,zt=hi&8191,Kt=hi>>>13,li=E[6]|0,Pt=li&8191,$t=li>>>13,di=E[7]|0,Vt=di&8191,Ht=di>>>13,pi=E[8]|0,Zt=pi&8191,jt=pi>>>13,gi=E[9]|0,Gt=gi&8191,Yt=gi>>>13;p.negative=i.negative^c.negative,p.length=19,b=Math.imul(B,ft),s=Math.imul(B,ut),s=s+Math.imul(N,ft)|0,u=Math.imul(N,ut);var Wr=(k+b|0)+((s&8191)<<13)|0;k=(u+(s>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,b=Math.imul(J,ft),s=Math.imul(J,ut),s=s+Math.imul(tt,ft)|0,u=Math.imul(tt,ut),b=b+Math.imul(B,st)|0,s=s+Math.imul(B,Ft)|0,s=s+Math.imul(N,st)|0,u=u+Math.imul(N,Ft)|0;var Xr=(k+b|0)+((s&8191)<<13)|0;k=(u+(s>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,b=Math.imul(gt,ft),s=Math.imul(gt,ut),s=s+Math.imul(mt,ft)|0,u=Math.imul(mt,ut),b=b+Math.imul(J,st)|0,s=s+Math.imul(J,Ft)|0,s=s+Math.imul(tt,st)|0,u=u+Math.imul(tt,Ft)|0,b=b+Math.imul(B,Tt)|0,s=s+Math.imul(B,Ot)|0,s=s+Math.imul(N,Tt)|0,u=u+Math.imul(N,Ot)|0;var Jr=(k+b|0)+((s&8191)<<13)|0;k=(u+(s>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,b=Math.imul(wt,ft),s=Math.imul(wt,ut),s=s+Math.imul(It,ft)|0,u=Math.imul(It,ut),b=b+Math.imul(gt,st)|0,s=s+Math.imul(gt,Ft)|0,s=s+Math.imul(mt,st)|0,u=u+Math.imul(mt,Ft)|0,b=b+Math.imul(J,Tt)|0,s=s+Math.imul(J,Ot)|0,s=s+Math.imul(tt,Tt)|0,u=u+Math.imul(tt,Ot)|0,b=b+Math.imul(B,Ct)|0,s=s+Math.imul(B,Nt)|0,s=s+Math.imul(N,Ct)|0,u=u+Math.imul(N,Nt)|0;var Qr=(k+b|0)+((s&8191)<<13)|0;k=(u+(s>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,b=Math.imul(Et,ft),s=Math.imul(Et,ut),s=s+Math.imul(Mt,ft)|0,u=Math.imul(Mt,ut),b=b+Math.imul(wt,st)|0,s=s+Math.imul(wt,Ft)|0,s=s+Math.imul(It,st)|0,u=u+Math.imul(It,Ft)|0,b=b+Math.imul(gt,Tt)|0,s=s+Math.imul(gt,Ot)|0,s=s+Math.imul(mt,Tt)|0,u=u+Math.imul(mt,Ot)|0,b=b+Math.imul(J,Ct)|0,s=s+Math.imul(J,Nt)|0,s=s+Math.imul(tt,Ct)|0,u=u+Math.imul(tt,Nt)|0,b=b+Math.imul(B,qt)|0,s=s+Math.imul(B,Dt)|0,s=s+Math.imul(N,qt)|0,u=u+Math.imul(N,Dt)|0;var tn=(k+b|0)+((s&8191)<<13)|0;k=(u+(s>>>13)|0)+(tn>>>26)|0,tn&=67108863,b=Math.imul(At,ft),s=Math.imul(At,ut),s=s+Math.imul(vt,ft)|0,u=Math.imul(vt,ut),b=b+Math.imul(Et,st)|0,s=s+Math.imul(Et,Ft)|0,s=s+Math.imul(Mt,st)|0,u=u+Math.imul(Mt,Ft)|0,b=b+Math.imul(wt,Tt)|0,s=s+Math.imul(wt,Ot)|0,s=s+Math.imul(It,Tt)|0,u=u+Math.imul(It,Ot)|0,b=b+Math.imul(gt,Ct)|0,s=s+Math.imul(gt,Nt)|0,s=s+Math.imul(mt,Ct)|0,u=u+Math.imul(mt,Nt)|0,b=b+Math.imul(J,qt)|0,s=s+Math.imul(J,Dt)|0,s=s+Math.imul(tt,qt)|0,u=u+Math.imul(tt,Dt)|0,b=b+Math.imul(B,zt)|0,s=s+Math.imul(B,Kt)|0,s=s+Math.imul(N,zt)|0,u=u+Math.imul(N,Kt)|0;var en=(k+b|0)+((s&8191)<<13)|0;k=(u+(s>>>13)|0)+(en>>>26)|0,en&=67108863,b=Math.imul(Bt,ft),s=Math.imul(Bt,ut),s=s+Math.imul(_t,ft)|0,u=Math.imul(_t,ut),b=b+Math.imul(At,st)|0,s=s+Math.imul(At,Ft)|0,s=s+Math.imul(vt,st)|0,u=u+Math.imul(vt,Ft)|0,b=b+Math.imul(Et,Tt)|0,s=s+Math.imul(Et,Ot)|0,s=s+Math.imul(Mt,Tt)|0,u=u+Math.imul(Mt,Ot)|0,b=b+Math.imul(wt,Ct)|0,s=s+Math.imul(wt,Nt)|0,s=s+Math.imul(It,Ct)|0,u=u+Math.imul(It,Nt)|0,b=b+Math.imul(gt,qt)|0,s=s+Math.imul(gt,Dt)|0,s=s+Math.imul(mt,qt)|0,u=u+Math.imul(mt,Dt)|0,b=b+Math.imul(J,zt)|0,s=s+Math.imul(J,Kt)|0,s=s+Math.imul(tt,zt)|0,u=u+Math.imul(tt,Kt)|0,b=b+Math.imul(B,Pt)|0,s=s+Math.imul(B,$t)|0,s=s+Math.imul(N,Pt)|0,u=u+Math.imul(N,$t)|0;var rn=(k+b|0)+((s&8191)<<13)|0;k=(u+(s>>>13)|0)+(rn>>>26)|0,rn&=67108863,b=Math.imul(kt,ft),s=Math.imul(kt,ut),s=s+Math.imul(m,ft)|0,u=Math.imul(m,ut),b=b+Math.imul(Bt,st)|0,s=s+Math.imul(Bt,Ft)|0,s=s+Math.imul(_t,st)|0,u=u+Math.imul(_t,Ft)|0,b=b+Math.imul(At,Tt)|0,s=s+Math.imul(At,Ot)|0,s=s+Math.imul(vt,Tt)|0,u=u+Math.imul(vt,Ot)|0,b=b+Math.imul(Et,Ct)|0,s=s+Math.imul(Et,Nt)|0,s=s+Math.imul(Mt,Ct)|0,u=u+Math.imul(Mt,Nt)|0,b=b+Math.imul(wt,qt)|0,s=s+Math.imul(wt,Dt)|0,s=s+Math.imul(It,qt)|0,u=u+Math.imul(It,Dt)|0,b=b+Math.imul(gt,zt)|0,s=s+Math.imul(gt,Kt)|0,s=s+Math.imul(mt,zt)|0,u=u+Math.imul(mt,Kt)|0,b=b+Math.imul(J,Pt)|0,s=s+Math.imul(J,$t)|0,s=s+Math.imul(tt,Pt)|0,u=u+Math.imul(tt,$t)|0,b=b+Math.imul(B,Vt)|0,s=s+Math.imul(B,Ht)|0,s=s+Math.imul(N,Vt)|0,u=u+Math.imul(N,Ht)|0;var nn=(k+b|0)+((s&8191)<<13)|0;k=(u+(s>>>13)|0)+(nn>>>26)|0,nn&=67108863,b=Math.imul(h,ft),s=Math.imul(h,ut),s=s+Math.imul(x,ft)|0,u=Math.imul(x,ut),b=b+Math.imul(kt,st)|0,s=s+Math.imul(kt,Ft)|0,s=s+Math.imul(m,st)|0,u=u+Math.imul(m,Ft)|0,b=b+Math.imul(Bt,Tt)|0,s=s+Math.imul(Bt,Ot)|0,s=s+Math.imul(_t,Tt)|0,u=u+Math.imul(_t,Ot)|0,b=b+Math.imul(At,Ct)|0,s=s+Math.imul(At,Nt)|0,s=s+Math.imul(vt,Ct)|0,u=u+Math.imul(vt,Nt)|0,b=b+Math.imul(Et,qt)|0,s=s+Math.imul(Et,Dt)|0,s=s+Math.imul(Mt,qt)|0,u=u+Math.imul(Mt,Dt)|0,b=b+Math.imul(wt,zt)|0,s=s+Math.imul(wt,Kt)|0,s=s+Math.imul(It,zt)|0,u=u+Math.imul(It,Kt)|0,b=b+Math.imul(gt,Pt)|0,s=s+Math.imul(gt,$t)|0,s=s+Math.imul(mt,Pt)|0,u=u+Math.imul(mt,$t)|0,b=b+Math.imul(J,Vt)|0,s=s+Math.imul(J,Ht)|0,s=s+Math.imul(tt,Vt)|0,u=u+Math.imul(tt,Ht)|0,b=b+Math.imul(B,Zt)|0,s=s+Math.imul(B,jt)|0,s=s+Math.imul(N,Zt)|0,u=u+Math.imul(N,jt)|0;var on=(k+b|0)+((s&8191)<<13)|0;k=(u+(s>>>13)|0)+(on>>>26)|0,on&=67108863,b=Math.imul(D,ft),s=Math.imul(D,ut),s=s+Math.imul(Z,ft)|0,u=Math.imul(Z,ut),b=b+Math.imul(h,st)|0,s=s+Math.imul(h,Ft)|0,s=s+Math.imul(x,st)|0,u=u+Math.imul(x,Ft)|0,b=b+Math.imul(kt,Tt)|0,s=s+Math.imul(kt,Ot)|0,s=s+Math.imul(m,Tt)|0,u=u+Math.imul(m,Ot)|0,b=b+Math.imul(Bt,Ct)|0,s=s+Math.imul(Bt,Nt)|0,s=s+Math.imul(_t,Ct)|0,u=u+Math.imul(_t,Nt)|0,b=b+Math.imul(At,qt)|0,s=s+Math.imul(At,Dt)|0,s=s+Math.imul(vt,qt)|0,u=u+Math.imul(vt,Dt)|0,b=b+Math.imul(Et,zt)|0,s=s+Math.imul(Et,Kt)|0,s=s+Math.imul(Mt,zt)|0,u=u+Math.imul(Mt,Kt)|0,b=b+Math.imul(wt,Pt)|0,s=s+Math.imul(wt,$t)|0,s=s+Math.imul(It,Pt)|0,u=u+Math.imul(It,$t)|0,b=b+Math.imul(gt,Vt)|0,s=s+Math.imul(gt,Ht)|0,s=s+Math.imul(mt,Vt)|0,u=u+Math.imul(mt,Ht)|0,b=b+Math.imul(J,Zt)|0,s=s+Math.imul(J,jt)|0,s=s+Math.imul(tt,Zt)|0,u=u+Math.imul(tt,jt)|0,b=b+Math.imul(B,Gt)|0,s=s+Math.imul(B,Yt)|0,s=s+Math.imul(N,Gt)|0,u=u+Math.imul(N,Yt)|0;var sn=(k+b|0)+((s&8191)<<13)|0;k=(u+(s>>>13)|0)+(sn>>>26)|0,sn&=67108863,b=Math.imul(D,st),s=Math.imul(D,Ft),s=s+Math.imul(Z,st)|0,u=Math.imul(Z,Ft),b=b+Math.imul(h,Tt)|0,s=s+Math.imul(h,Ot)|0,s=s+Math.imul(x,Tt)|0,u=u+Math.imul(x,Ot)|0,b=b+Math.imul(kt,Ct)|0,s=s+Math.imul(kt,Nt)|0,s=s+Math.imul(m,Ct)|0,u=u+Math.imul(m,Nt)|0,b=b+Math.imul(Bt,qt)|0,s=s+Math.imul(Bt,Dt)|0,s=s+Math.imul(_t,qt)|0,u=u+Math.imul(_t,Dt)|0,b=b+Math.imul(At,zt)|0,s=s+Math.imul(At,Kt)|0,s=s+Math.imul(vt,zt)|0,u=u+Math.imul(vt,Kt)|0,b=b+Math.imul(Et,Pt)|0,s=s+Math.imul(Et,$t)|0,s=s+Math.imul(Mt,Pt)|0,u=u+Math.imul(Mt,$t)|0,b=b+Math.imul(wt,Vt)|0,s=s+Math.imul(wt,Ht)|0,s=s+Math.imul(It,Vt)|0,u=u+Math.imul(It,Ht)|0,b=b+Math.imul(gt,Zt)|0,s=s+Math.imul(gt,jt)|0,s=s+Math.imul(mt,Zt)|0,u=u+Math.imul(mt,jt)|0,b=b+Math.imul(J,Gt)|0,s=s+Math.imul(J,Yt)|0,s=s+Math.imul(tt,Gt)|0,u=u+Math.imul(tt,Yt)|0;var an=(k+b|0)+((s&8191)<<13)|0;k=(u+(s>>>13)|0)+(an>>>26)|0,an&=67108863,b=Math.imul(D,Tt),s=Math.imul(D,Ot),s=s+Math.imul(Z,Tt)|0,u=Math.imul(Z,Ot),b=b+Math.imul(h,Ct)|0,s=s+Math.imul(h,Nt)|0,s=s+Math.imul(x,Ct)|0,u=u+Math.imul(x,Nt)|0,b=b+Math.imul(kt,qt)|0,s=s+Math.imul(kt,Dt)|0,s=s+Math.imul(m,qt)|0,u=u+Math.imul(m,Dt)|0,b=b+Math.imul(Bt,zt)|0,s=s+Math.imul(Bt,Kt)|0,s=s+Math.imul(_t,zt)|0,u=u+Math.imul(_t,Kt)|0,b=b+Math.imul(At,Pt)|0,s=s+Math.imul(At,$t)|0,s=s+Math.imul(vt,Pt)|0,u=u+Math.imul(vt,$t)|0,b=b+Math.imul(Et,Vt)|0,s=s+Math.imul(Et,Ht)|0,s=s+Math.imul(Mt,Vt)|0,u=u+Math.imul(Mt,Ht)|0,b=b+Math.imul(wt,Zt)|0,s=s+Math.imul(wt,jt)|0,s=s+Math.imul(It,Zt)|0,u=u+Math.imul(It,jt)|0,b=b+Math.imul(gt,Gt)|0,s=s+Math.imul(gt,Yt)|0,s=s+Math.imul(mt,Gt)|0,u=u+Math.imul(mt,Yt)|0;var un=(k+b|0)+((s&8191)<<13)|0;k=(u+(s>>>13)|0)+(un>>>26)|0,un&=67108863,b=Math.imul(D,Ct),s=Math.imul(D,Nt),s=s+Math.imul(Z,Ct)|0,u=Math.imul(Z,Nt),b=b+Math.imul(h,qt)|0,s=s+Math.imul(h,Dt)|0,s=s+Math.imul(x,qt)|0,u=u+Math.imul(x,Dt)|0,b=b+Math.imul(kt,zt)|0,s=s+Math.imul(kt,Kt)|0,s=s+Math.imul(m,zt)|0,u=u+Math.imul(m,Kt)|0,b=b+Math.imul(Bt,Pt)|0,s=s+Math.imul(Bt,$t)|0,s=s+Math.imul(_t,Pt)|0,u=u+Math.imul(_t,$t)|0,b=b+Math.imul(At,Vt)|0,s=s+Math.imul(At,Ht)|0,s=s+Math.imul(vt,Vt)|0,u=u+Math.imul(vt,Ht)|0,b=b+Math.imul(Et,Zt)|0,s=s+Math.imul(Et,jt)|0,s=s+Math.imul(Mt,Zt)|0,u=u+Math.imul(Mt,jt)|0,b=b+Math.imul(wt,Gt)|0,s=s+Math.imul(wt,Yt)|0,s=s+Math.imul(It,Gt)|0,u=u+Math.imul(It,Yt)|0;var fn=(k+b|0)+((s&8191)<<13)|0;k=(u+(s>>>13)|0)+(fn>>>26)|0,fn&=67108863,b=Math.imul(D,qt),s=Math.imul(D,Dt),s=s+Math.imul(Z,qt)|0,u=Math.imul(Z,Dt),b=b+Math.imul(h,zt)|0,s=s+Math.imul(h,Kt)|0,s=s+Math.imul(x,zt)|0,u=u+Math.imul(x,Kt)|0,b=b+Math.imul(kt,Pt)|0,s=s+Math.imul(kt,$t)|0,s=s+Math.imul(m,Pt)|0,u=u+Math.imul(m,$t)|0,b=b+Math.imul(Bt,Vt)|0,s=s+Math.imul(Bt,Ht)|0,s=s+Math.imul(_t,Vt)|0,u=u+Math.imul(_t,Ht)|0,b=b+Math.imul(At,Zt)|0,s=s+Math.imul(At,jt)|0,s=s+Math.imul(vt,Zt)|0,u=u+Math.imul(vt,jt)|0,b=b+Math.imul(Et,Gt)|0,s=s+Math.imul(Et,Yt)|0,s=s+Math.imul(Mt,Gt)|0,u=u+Math.imul(Mt,Yt)|0;var cn=(k+b|0)+((s&8191)<<13)|0;k=(u+(s>>>13)|0)+(cn>>>26)|0,cn&=67108863,b=Math.imul(D,zt),s=Math.imul(D,Kt),s=s+Math.imul(Z,zt)|0,u=Math.imul(Z,Kt),b=b+Math.imul(h,Pt)|0,s=s+Math.imul(h,$t)|0,s=s+Math.imul(x,Pt)|0,u=u+Math.imul(x,$t)|0,b=b+Math.imul(kt,Vt)|0,s=s+Math.imul(kt,Ht)|0,s=s+Math.imul(m,Vt)|0,u=u+Math.imul(m,Ht)|0,b=b+Math.imul(Bt,Zt)|0,s=s+Math.imul(Bt,jt)|0,s=s+Math.imul(_t,Zt)|0,u=u+Math.imul(_t,jt)|0,b=b+Math.imul(At,Gt)|0,s=s+Math.imul(At,Yt)|0,s=s+Math.imul(vt,Gt)|0,u=u+Math.imul(vt,Yt)|0;var hn=(k+b|0)+((s&8191)<<13)|0;k=(u+(s>>>13)|0)+(hn>>>26)|0,hn&=67108863,b=Math.imul(D,Pt),s=Math.imul(D,$t),s=s+Math.imul(Z,Pt)|0,u=Math.imul(Z,$t),b=b+Math.imul(h,Vt)|0,s=s+Math.imul(h,Ht)|0,s=s+Math.imul(x,Vt)|0,u=u+Math.imul(x,Ht)|0,b=b+Math.imul(kt,Zt)|0,s=s+Math.imul(kt,jt)|0,s=s+Math.imul(m,Zt)|0,u=u+Math.imul(m,jt)|0,b=b+Math.imul(Bt,Gt)|0,s=s+Math.imul(Bt,Yt)|0,s=s+Math.imul(_t,Gt)|0,u=u+Math.imul(_t,Yt)|0;var ln=(k+b|0)+((s&8191)<<13)|0;k=(u+(s>>>13)|0)+(ln>>>26)|0,ln&=67108863,b=Math.imul(D,Vt),s=Math.imul(D,Ht),s=s+Math.imul(Z,Vt)|0,u=Math.imul(Z,Ht),b=b+Math.imul(h,Zt)|0,s=s+Math.imul(h,jt)|0,s=s+Math.imul(x,Zt)|0,u=u+Math.imul(x,jt)|0,b=b+Math.imul(kt,Gt)|0,s=s+Math.imul(kt,Yt)|0,s=s+Math.imul(m,Gt)|0,u=u+Math.imul(m,Yt)|0;var dn=(k+b|0)+((s&8191)<<13)|0;k=(u+(s>>>13)|0)+(dn>>>26)|0,dn&=67108863,b=Math.imul(D,Zt),s=Math.imul(D,jt),s=s+Math.imul(Z,Zt)|0,u=Math.imul(Z,jt),b=b+Math.imul(h,Gt)|0,s=s+Math.imul(h,Yt)|0,s=s+Math.imul(x,Gt)|0,u=u+Math.imul(x,Yt)|0;var pn=(k+b|0)+((s&8191)<<13)|0;k=(u+(s>>>13)|0)+(pn>>>26)|0,pn&=67108863,b=Math.imul(D,Gt),s=Math.imul(D,Yt),s=s+Math.imul(Z,Gt)|0,u=Math.imul(Z,Yt);var gn=(k+b|0)+((s&8191)<<13)|0;return k=(u+(s>>>13)|0)+(gn>>>26)|0,gn&=67108863,A[0]=Wr,A[1]=Xr,A[2]=Jr,A[3]=Qr,A[4]=tn,A[5]=en,A[6]=rn,A[7]=nn,A[8]=on,A[9]=sn,A[10]=an,A[11]=un,A[12]=fn,A[13]=cn,A[14]=hn,A[15]=ln,A[16]=dn,A[17]=pn,A[18]=gn,k!==0&&(A[19]=k,p.length++),p};Math.imul||(G=z);function P(g,i,c){c.negative=i.negative^g.negative,c.length=g.length+i.length;for(var p=0,v=0,E=0;E<c.length-1;E++){var A=v;v=0;for(var k=p&67108863,b=Math.min(E,i.length-1),s=Math.max(0,E-g.length+1);s<=b;s++){var u=E-s,w=g.words[u]|0,B=i.words[s]|0,N=w*B,j=N&67108863;A=A+(N/67108864|0)|0,j=j+k|0,k=j&67108863,A=A+(j>>>26)|0,v+=A>>>26,A&=67108863}c.words[E]=k,p=A,A=v}return p!==0?c.words[E]=p:c.length--,c._strip()}function Q(g,i,c){return P(g,i,c)}o.prototype.mulTo=function(i,c){var p,v=this.length+i.length;return this.length===10&&i.length===10?p=G(this,i,c):v<63?p=z(this,i,c):v<1024?p=P(this,i,c):p=Q(this,i,c),p},o.prototype.mul=function(i){var c=new o(null);return c.words=new Array(this.length+i.length),this.mulTo(i,c)},o.prototype.mulf=function(i){var c=new o(null);return c.words=new Array(this.length+i.length),Q(this,i,c)},o.prototype.imul=function(i){return this.clone().mulTo(i,this)},o.prototype.imuln=function(i){var c=i<0;c&&(i=-i),r(typeof i=="number"),r(i<67108864);for(var p=0,v=0;v<this.length;v++){var E=(this.words[v]|0)*i,A=(E&67108863)+(p&67108863);p>>=26,p+=E/67108864|0,p+=A>>>26,this.words[v]=A&67108863}return p!==0&&(this.words[v]=p,this.length++),this.length=i===0?1:this.length,c?this.ineg():this},o.prototype.muln=function(i){return this.clone().imuln(i)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(i){var c=q(i);if(c.length===0)return new o(1);for(var p=this,v=0;v<c.length&&c[v]===0;v++,p=p.sqr());if(++v<c.length)for(var E=p.sqr();v<c.length;v++,E=E.sqr())c[v]!==0&&(p=p.mul(E));return p},o.prototype.iushln=function(i){r(typeof i=="number"&&i>=0);var c=i%26,p=(i-c)/26,v=67108863>>>26-c<<26-c,E;if(c!==0){var A=0;for(E=0;E<this.length;E++){var k=this.words[E]&v,b=(this.words[E]|0)-k<<c;this.words[E]=b|A,A=k>>>26-c}A&&(this.words[E]=A,this.length++)}if(p!==0){for(E=this.length-1;E>=0;E--)this.words[E+p]=this.words[E];for(E=0;E<p;E++)this.words[E]=0;this.length+=p}return this._strip()},o.prototype.ishln=function(i){return r(this.negative===0),this.iushln(i)},o.prototype.iushrn=function(i,c,p){r(typeof i=="number"&&i>=0);var v;c?v=(c-c%26)/26:v=0;var E=i%26,A=Math.min((i-E)/26,this.length),k=67108863^67108863>>>E<<E,b=p;if(v-=A,v=Math.max(0,v),b){for(var s=0;s<A;s++)b.words[s]=this.words[s];b.length=A}if(A!==0)if(this.length>A)for(this.length-=A,s=0;s<this.length;s++)this.words[s]=this.words[s+A];else this.words[0]=0,this.length=1;var u=0;for(s=this.length-1;s>=0&&(u!==0||s>=v);s--){var w=this.words[s]|0;this.words[s]=u<<26-E|w>>>E,u=w&k}return b&&u!==0&&(b.words[b.length++]=u),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(i,c,p){return r(this.negative===0),this.iushrn(i,c,p)},o.prototype.shln=function(i){return this.clone().ishln(i)},o.prototype.ushln=function(i){return this.clone().iushln(i)},o.prototype.shrn=function(i){return this.clone().ishrn(i)},o.prototype.ushrn=function(i){return this.clone().iushrn(i)},o.prototype.testn=function(i){r(typeof i=="number"&&i>=0);var c=i%26,p=(i-c)/26,v=1<<c;if(this.length<=p)return!1;var E=this.words[p];return!!(E&v)},o.prototype.imaskn=function(i){r(typeof i=="number"&&i>=0);var c=i%26,p=(i-c)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(c!==0&&p++,this.length=Math.min(p,this.length),c!==0){var v=67108863^67108863>>>c<<c;this.words[this.length-1]&=v}return this._strip()},o.prototype.maskn=function(i){return this.clone().imaskn(i)},o.prototype.iaddn=function(i){return r(typeof i=="number"),r(i<67108864),i<0?this.isubn(-i):this.negative!==0?this.length===1&&(this.words[0]|0)<=i?(this.words[0]=i-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(i),this.negative=1,this):this._iaddn(i)},o.prototype._iaddn=function(i){this.words[0]+=i;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},o.prototype.isubn=function(i){if(r(typeof i=="number"),r(i<67108864),i<0)return this.iaddn(-i);if(this.negative!==0)return this.negative=0,this.iaddn(i),this.negative=1,this;if(this.words[0]-=i,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this._strip()},o.prototype.addn=function(i){return this.clone().iaddn(i)},o.prototype.subn=function(i){return this.clone().isubn(i)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(i,c,p){var v=i.length+p,E;this._expand(v);var A,k=0;for(E=0;E<i.length;E++){A=(this.words[E+p]|0)+k;var b=(i.words[E]|0)*c;A-=b&67108863,k=(A>>26)-(b/67108864|0),this.words[E+p]=A&67108863}for(;E<this.length-p;E++)A=(this.words[E+p]|0)+k,k=A>>26,this.words[E+p]=A&67108863;if(k===0)return this._strip();for(r(k===-1),k=0,E=0;E<this.length;E++)A=-(this.words[E]|0)+k,k=A>>26,this.words[E]=A&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(i,c){var p=this.length-i.length,v=this.clone(),E=i,A=E.words[E.length-1]|0,k=this._countBits(A);p=26-k,p!==0&&(E=E.ushln(p),v.iushln(p),A=E.words[E.length-1]|0);var b=v.length-E.length,s;if(c!=="mod"){s=new o(null),s.length=b+1,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}var w=v.clone()._ishlnsubmul(E,1,b);w.negative===0&&(v=w,s&&(s.words[b]=1));for(var B=b-1;B>=0;B--){var N=(v.words[E.length+B]|0)*67108864+(v.words[E.length+B-1]|0);for(N=Math.min(N/A|0,67108863),v._ishlnsubmul(E,N,B);v.negative!==0;)N--,v.negative=0,v._ishlnsubmul(E,1,B),v.isZero()||(v.negative^=1);s&&(s.words[B]=N)}return s&&s._strip(),v._strip(),c!=="div"&&p!==0&&v.iushrn(p),{div:s||null,mod:v}},o.prototype.divmod=function(i,c,p){if(r(!i.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var v,E,A;return this.negative!==0&&i.negative===0?(A=this.neg().divmod(i,c),c!=="mod"&&(v=A.div.neg()),c!=="div"&&(E=A.mod.neg(),p&&E.negative!==0&&E.iadd(i)),{div:v,mod:E}):this.negative===0&&i.negative!==0?(A=this.divmod(i.neg(),c),c!=="mod"&&(v=A.div.neg()),{div:v,mod:A.mod}):(this.negative&i.negative)!==0?(A=this.neg().divmod(i.neg(),c),c!=="div"&&(E=A.mod.neg(),p&&E.negative!==0&&E.isub(i)),{div:A.div,mod:E}):i.length>this.length||this.cmp(i)<0?{div:new o(0),mod:this}:i.length===1?c==="div"?{div:this.divn(i.words[0]),mod:null}:c==="mod"?{div:null,mod:new o(this.modrn(i.words[0]))}:{div:this.divn(i.words[0]),mod:new o(this.modrn(i.words[0]))}:this._wordDiv(i,c)},o.prototype.div=function(i){return this.divmod(i,"div",!1).div},o.prototype.mod=function(i){return this.divmod(i,"mod",!1).mod},o.prototype.umod=function(i){return this.divmod(i,"mod",!0).mod},o.prototype.divRound=function(i){var c=this.divmod(i);if(c.mod.isZero())return c.div;var p=c.div.negative!==0?c.mod.isub(i):c.mod,v=i.ushrn(1),E=i.andln(1),A=p.cmp(v);return A<0||E===1&&A===0?c.div:c.div.negative!==0?c.div.isubn(1):c.div.iaddn(1)},o.prototype.modrn=function(i){var c=i<0;c&&(i=-i),r(i<=67108863);for(var p=(1<<26)%i,v=0,E=this.length-1;E>=0;E--)v=(p*v+(this.words[E]|0))%i;return c?-v:v},o.prototype.modn=function(i){return this.modrn(i)},o.prototype.idivn=function(i){var c=i<0;c&&(i=-i),r(i<=67108863);for(var p=0,v=this.length-1;v>=0;v--){var E=(this.words[v]|0)+p*67108864;this.words[v]=E/i|0,p=E%i}return this._strip(),c?this.ineg():this},o.prototype.divn=function(i){return this.clone().idivn(i)},o.prototype.egcd=function(i){r(i.negative===0),r(!i.isZero());var c=this,p=i.clone();c.negative!==0?c=c.umod(i):c=c.clone();for(var v=new o(1),E=new o(0),A=new o(0),k=new o(1),b=0;c.isEven()&&p.isEven();)c.iushrn(1),p.iushrn(1),++b;for(var s=p.clone(),u=c.clone();!c.isZero();){for(var w=0,B=1;(c.words[0]&B)===0&&w<26;++w,B<<=1);if(w>0)for(c.iushrn(w);w-- >0;)(v.isOdd()||E.isOdd())&&(v.iadd(s),E.isub(u)),v.iushrn(1),E.iushrn(1);for(var N=0,j=1;(p.words[0]&j)===0&&N<26;++N,j<<=1);if(N>0)for(p.iushrn(N);N-- >0;)(A.isOdd()||k.isOdd())&&(A.iadd(s),k.isub(u)),A.iushrn(1),k.iushrn(1);c.cmp(p)>=0?(c.isub(p),v.isub(A),E.isub(k)):(p.isub(c),A.isub(v),k.isub(E))}return{a:A,b:k,gcd:p.iushln(b)}},o.prototype._invmp=function(i){r(i.negative===0),r(!i.isZero());var c=this,p=i.clone();c.negative!==0?c=c.umod(i):c=c.clone();for(var v=new o(1),E=new o(0),A=p.clone();c.cmpn(1)>0&&p.cmpn(1)>0;){for(var k=0,b=1;(c.words[0]&b)===0&&k<26;++k,b<<=1);if(k>0)for(c.iushrn(k);k-- >0;)v.isOdd()&&v.iadd(A),v.iushrn(1);for(var s=0,u=1;(p.words[0]&u)===0&&s<26;++s,u<<=1);if(s>0)for(p.iushrn(s);s-- >0;)E.isOdd()&&E.iadd(A),E.iushrn(1);c.cmp(p)>=0?(c.isub(p),v.isub(E)):(p.isub(c),E.isub(v))}var w;return c.cmpn(1)===0?w=v:w=E,w.cmpn(0)<0&&w.iadd(i),w},o.prototype.gcd=function(i){if(this.isZero())return i.abs();if(i.isZero())return this.abs();var c=this.clone(),p=i.clone();c.negative=0,p.negative=0;for(var v=0;c.isEven()&&p.isEven();v++)c.iushrn(1),p.iushrn(1);do{for(;c.isEven();)c.iushrn(1);for(;p.isEven();)p.iushrn(1);var E=c.cmp(p);if(E<0){var A=c;c=p,p=A}else if(E===0||p.cmpn(1)===0)break;c.isub(p)}while(!0);return p.iushln(v)},o.prototype.invm=function(i){return this.egcd(i).a.umod(i)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(i){return this.words[0]&i},o.prototype.bincn=function(i){r(typeof i=="number");var c=i%26,p=(i-c)/26,v=1<<c;if(this.length<=p)return this._expand(p+1),this.words[p]|=v,this;for(var E=v,A=p;E!==0&&A<this.length;A++){var k=this.words[A]|0;k+=E,E=k>>>26,k&=67108863,this.words[A]=k}return E!==0&&(this.words[A]=E,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(i){var c=i<0;if(this.negative!==0&&!c)return-1;if(this.negative===0&&c)return 1;this._strip();var p;if(this.length>1)p=1;else{c&&(i=-i),r(i<=67108863,"Number is too big");var v=this.words[0]|0;p=v===i?0:v<i?-1:1}return this.negative!==0?-p|0:p},o.prototype.cmp=function(i){if(this.negative!==0&&i.negative===0)return-1;if(this.negative===0&&i.negative!==0)return 1;var c=this.ucmp(i);return this.negative!==0?-c|0:c},o.prototype.ucmp=function(i){if(this.length>i.length)return 1;if(this.length<i.length)return-1;for(var c=0,p=this.length-1;p>=0;p--){var v=this.words[p]|0,E=i.words[p]|0;if(v!==E){v<E?c=-1:v>E&&(c=1);break}}return c},o.prototype.gtn=function(i){return this.cmpn(i)===1},o.prototype.gt=function(i){return this.cmp(i)===1},o.prototype.gten=function(i){return this.cmpn(i)>=0},o.prototype.gte=function(i){return this.cmp(i)>=0},o.prototype.ltn=function(i){return this.cmpn(i)===-1},o.prototype.lt=function(i){return this.cmp(i)===-1},o.prototype.lten=function(i){return this.cmpn(i)<=0},o.prototype.lte=function(i){return this.cmp(i)<=0},o.prototype.eqn=function(i){return this.cmpn(i)===0},o.prototype.eq=function(i){return this.cmp(i)===0},o.red=function(i){return new K(i)},o.prototype.toRed=function(i){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),i.convertTo(this)._forceRed(i)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(i){return this.red=i,this},o.prototype.forceRed=function(i){return r(!this.red,"Already a number in reduction context"),this._forceRed(i)},o.prototype.redAdd=function(i){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,i)},o.prototype.redIAdd=function(i){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,i)},o.prototype.redSub=function(i){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,i)},o.prototype.redISub=function(i){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,i)},o.prototype.redShl=function(i){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,i)},o.prototype.redMul=function(i){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,i),this.red.mul(this,i)},o.prototype.redIMul=function(i){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,i),this.red.imul(this,i)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(i){return r(this.red&&!i.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,i)};var W={k256:null,p224:null,p192:null,p25519:null};function nt(g,i){this.name=g,this.p=new o(i,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}nt.prototype._tmp=function(){var i=new o(null);return i.words=new Array(Math.ceil(this.n/13)),i},nt.prototype.ireduce=function(i){var c=i,p;do this.split(c,this.tmp),c=this.imulK(c),c=c.iadd(this.tmp),p=c.bitLength();while(p>this.n);var v=p<this.n?-1:c.ucmp(this.p);return v===0?(c.words[0]=0,c.length=1):v>0?c.isub(this.p):c.strip!==void 0?c.strip():c._strip(),c},nt.prototype.split=function(i,c){i.iushrn(this.n,0,c)},nt.prototype.imulK=function(i){return i.imul(this.k)};function at(){nt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(at,nt),at.prototype.split=function(i,c){for(var p=4194303,v=Math.min(i.length,9),E=0;E<v;E++)c.words[E]=i.words[E];if(c.length=v,i.length<=9){i.words[0]=0,i.length=1;return}var A=i.words[9];for(c.words[c.length++]=A&p,E=10;E<i.length;E++){var k=i.words[E]|0;i.words[E-10]=(k&p)<<4|A>>>22,A=k}A>>>=22,i.words[E-10]=A,A===0&&i.length>10?i.length-=10:i.length-=9},at.prototype.imulK=function(i){i.words[i.length]=0,i.words[i.length+1]=0,i.length+=2;for(var c=0,p=0;p<i.length;p++){var v=i.words[p]|0;c+=v*977,i.words[p]=c&67108863,c=v*64+(c/67108864|0)}return i.words[i.length-1]===0&&(i.length--,i.words[i.length-1]===0&&i.length--),i};function it(){nt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(it,nt);function T(){nt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(T,nt);function C(){nt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(C,nt),C.prototype.imulK=function(i){for(var c=0,p=0;p<i.length;p++){var v=(i.words[p]|0)*19+c,E=v&67108863;v>>>=26,i.words[p]=E,c=v}return c!==0&&(i.words[i.length++]=c),i},o._prime=function(i){if(W[i])return W[i];var c;if(i==="k256")c=new at;else if(i==="p224")c=new it;else if(i==="p192")c=new T;else if(i==="p25519")c=new C;else throw new Error("Unknown prime "+i);return W[i]=c,c};function K(g){if(typeof g=="string"){var i=o._prime(g);this.m=i.p,this.prime=i}else r(g.gtn(1),"modulus must be greater than 1"),this.m=g,this.prime=null}K.prototype._verify1=function(i){r(i.negative===0,"red works only with positives"),r(i.red,"red works only with red numbers")},K.prototype._verify2=function(i,c){r((i.negative|c.negative)===0,"red works only with positives"),r(i.red&&i.red===c.red,"red works only with red numbers")},K.prototype.imod=function(i){return this.prime?this.prime.ireduce(i)._forceRed(this):(R(i,i.umod(this.m)._forceRed(this)),i)},K.prototype.neg=function(i){return i.isZero()?i.clone():this.m.sub(i)._forceRed(this)},K.prototype.add=function(i,c){this._verify2(i,c);var p=i.add(c);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},K.prototype.iadd=function(i,c){this._verify2(i,c);var p=i.iadd(c);return p.cmp(this.m)>=0&&p.isub(this.m),p},K.prototype.sub=function(i,c){this._verify2(i,c);var p=i.sub(c);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},K.prototype.isub=function(i,c){this._verify2(i,c);var p=i.isub(c);return p.cmpn(0)<0&&p.iadd(this.m),p},K.prototype.shl=function(i,c){return this._verify1(i),this.imod(i.ushln(c))},K.prototype.imul=function(i,c){return this._verify2(i,c),this.imod(i.imul(c))},K.prototype.mul=function(i,c){return this._verify2(i,c),this.imod(i.mul(c))},K.prototype.isqr=function(i){return this.imul(i,i.clone())},K.prototype.sqr=function(i){return this.mul(i,i)},K.prototype.sqrt=function(i){if(i.isZero())return i.clone();var c=this.m.andln(3);if(r(c%2===1),c===3){var p=this.m.add(new o(1)).iushrn(2);return this.pow(i,p)}for(var v=this.m.subn(1),E=0;!v.isZero()&&v.andln(1)===0;)E++,v.iushrn(1);r(!v.isZero());var A=new o(1).toRed(this),k=A.redNeg(),b=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new o(2*s*s).toRed(this);this.pow(s,b).cmp(k)!==0;)s.redIAdd(k);for(var u=this.pow(s,v),w=this.pow(i,v.addn(1).iushrn(1)),B=this.pow(i,v),N=E;B.cmp(A)!==0;){for(var j=B,J=0;j.cmp(A)!==0;J++)j=j.redSqr();r(J<N);var tt=this.pow(u,new o(1).iushln(N-J-1));w=w.redMul(tt),u=tt.redSqr(),B=B.redMul(u),N=J}return w},K.prototype.invm=function(i){var c=i._invmp(this.m);return c.negative!==0?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},K.prototype.pow=function(i,c){if(c.isZero())return new o(1).toRed(this);if(c.cmpn(1)===0)return i.clone();var p=4,v=new Array(1<<p);v[0]=new o(1).toRed(this),v[1]=i;for(var E=2;E<v.length;E++)v[E]=this.mul(v[E-1],i);var A=v[0],k=0,b=0,s=c.bitLength()%26;for(s===0&&(s=26),E=c.length-1;E>=0;E--){for(var u=c.words[E],w=s-1;w>=0;w--){var B=u>>w&1;if(A!==v[0]&&(A=this.sqr(A)),B===0&&k===0){b=0;continue}k<<=1,k|=B,b++,!(b!==p&&(E!==0||w!==0))&&(A=this.mul(A,v[k]),b=0,k=0)}s=26}return A},K.prototype.convertTo=function(i){var c=i.umod(this.m);return c===i?c.clone():c},K.prototype.convertFrom=function(i){var c=i.clone();return c.red=null,c},o.mont=function(i){return new H(i)};function H(g){K.call(this,g),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(H,K),H.prototype.convertTo=function(i){return this.imod(i.ushln(this.shift))},H.prototype.convertFrom=function(i){var c=this.imod(i.mul(this.rinv));return c.red=null,c},H.prototype.imul=function(i,c){if(i.isZero()||c.isZero())return i.words[0]=0,i.length=1,i;var p=i.imul(c),v=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=p.isub(v).iushrn(this.shift),A=E;return E.cmp(this.m)>=0?A=E.isub(this.m):E.cmpn(0)<0&&(A=E.iadd(this.m)),A._forceRed(this)},H.prototype.mul=function(i,c){if(i.isZero()||c.isZero())return new o(0)._forceRed(this);var p=i.mul(c),v=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=p.isub(v).iushrn(this.shift),A=E;return E.cmp(this.m)>=0?A=E.isub(this.m):E.cmpn(0)<0&&(A=E.iadd(this.m)),A._forceRed(this)},H.prototype.invm=function(i){var c=this.imod(i._invmp(this.m).mul(this.r2));return c._forceRed(this)}})(e,oa)})(Mr)),Mr.exports}var sa=So();const Li=Wi(sa);var Ar={exports:{}};var Fi;function aa(){return Fi||(Fi=1,(function(e,t){var n=Vn(),r=n.Buffer;function a(l,d){for(var y in l)d[y]=l[y]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(a(n,t),t.Buffer=o);function o(l,d,y){return r(l,d,y)}o.prototype=Object.create(r.prototype),a(r,o),o.from=function(l,d,y){if(typeof l=="number")throw new TypeError("Argument must not be a number");return r(l,d,y)},o.alloc=function(l,d,y){if(typeof l!="number")throw new TypeError("Argument must be a number");var I=r(l);return d!==void 0?typeof y=="string"?I.fill(d,y):I.fill(d):I.fill(0),I},o.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return r(l)},o.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(l)}})(Ar,Ar.exports)),Ar.exports}var Bn,Ti;function ua(){if(Ti)return Bn;Ti=1;var e=aa().Buffer;function t(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),a=0;a<r.length;a++)r[a]=255;for(var o=0;o<n.length;o++){var l=n.charAt(o),d=l.charCodeAt(0);if(r[d]!==255)throw new TypeError(l+" is ambiguous");r[d]=o}var y=n.length,I=n.charAt(0),R=Math.log(y)/Math.log(256),U=Math.log(256)/Math.log(y);function _(L){if((Array.isArray(L)||L instanceof Uint8Array)&&(L=e.from(L)),!e.isBuffer(L))throw new TypeError("Expected Buffer");if(L.length===0)return"";for(var q=0,z=0,G=0,P=L.length;G!==P&&L[G]===0;)G++,q++;for(var Q=(P-G)*U+1>>>0,W=new Uint8Array(Q);G!==P;){for(var nt=L[G],at=0,it=Q-1;(nt!==0||at<z)&&it!==-1;it--,at++)nt+=256*W[it]>>>0,W[it]=nt%y>>>0,nt=nt/y>>>0;if(nt!==0)throw new Error("Non-zero carry");z=at,G++}for(var T=Q-z;T!==Q&&W[T]===0;)T++;for(var C=I.repeat(q);T<Q;++T)C+=n.charAt(W[T]);return C}function S(L){if(typeof L!="string")throw new TypeError("Expected String");if(L.length===0)return e.alloc(0);for(var q=0,z=0,G=0;L[q]===I;)z++,q++;for(var P=(L.length-q)*R+1>>>0,Q=new Uint8Array(P);q<L.length;){var W=L.charCodeAt(q);if(W>255)return;var nt=r[W];if(nt===255)return;for(var at=0,it=P-1;(nt!==0||at<G)&&it!==-1;it--,at++)nt+=y*Q[it]>>>0,Q[it]=nt%256>>>0,nt=nt/256>>>0;if(nt!==0)throw new Error("Non-zero carry");G=at,q++}for(var T=P-G;T!==P&&Q[T]===0;)T++;var C=e.allocUnsafe(z+(P-T));C.fill(0,0,z);for(var K=z;T!==P;)C[K++]=Q[T++];return C}function F(L){var q=S(L);if(q)return q;throw new Error("Non-base"+y+" character")}return{encode:_,decodeUnsafe:S,decode:F}}return Bn=t,Bn}var An,Oi;function Io(){if(Oi)return An;Oi=1;var e=ua(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return An=e(t),An}var fa=Io();const se=Wi(fa),Ci=no;var yt={};function Se(e,t,n){return t<=e&&e<=n}function $r(e){if(e===void 0)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function ca(e){for(var t=String(e),n=t.length,r=0,a=[];r<n;){var o=t.charCodeAt(r);if(o<55296||o>57343)a.push(o);else if(56320<=o&&o<=57343)a.push(65533);else if(55296<=o&&o<=56319)if(r===n-1)a.push(65533);else{var l=e.charCodeAt(r+1);if(56320<=l&&l<=57343){var d=o&1023,y=l&1023;a.push(65536+(d<<10)+y),r+=1}else a.push(65533)}r+=1}return a}function ha(e){for(var t="",n=0;n<e.length;++n){var r=e[n];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return t}var Fr=-1;function Xn(e){this.tokens=[].slice.call(e)}Xn.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Fr},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var rr=-1;function Sn(e,t){if(e)throw TypeError("Decoder error");return t||65533}var Tr="utf-8";function Or(e,t){if(!(this instanceof Or))return new Or(e,t);if(e=e!==void 0?String(e).toLowerCase():Tr,e!==Tr)throw new Error("Encoding not supported. Only utf-8 is supported");t=$r(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Or.prototype={decode:function(t,n){var r;typeof t=="object"&&t instanceof ArrayBuffer?r=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):r=new Uint8Array(0),n=$r(n),this._streaming||(this._decoder=new la({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var a=new Xn(r),o=[],l;!a.endOfStream()&&(l=this._decoder.handler(a,a.read()),l!==rr);)l!==null&&(Array.isArray(l)?o.push.apply(o,l):o.push(l));if(!this._streaming){do{if(l=this._decoder.handler(a,a.read()),l===rr)break;l!==null&&(Array.isArray(l)?o.push.apply(o,l):o.push(l))}while(!a.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),ha(o)}};function Cr(e,t){if(!(this instanceof Cr))return new Cr(e,t);if(e=e!==void 0?String(e).toLowerCase():Tr,e!==Tr)throw new Error("Encoding not supported. Only utf-8 is supported");t=$r(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Cr.prototype={encode:function(t,n){t=t?String(t):"",n=$r(n),this._streaming||(this._encoder=new da(this._options)),this._streaming=!!n.stream;for(var r=[],a=new Xn(ca(t)),o;!a.endOfStream()&&(o=this._encoder.handler(a,a.read()),o!==rr);)Array.isArray(o)?r.push.apply(r,o):r.push(o);if(!this._streaming){for(;o=this._encoder.handler(a,a.read()),o!==rr;)Array.isArray(o)?r.push.apply(r,o):r.push(o);this._encoder=null}return new Uint8Array(r)}};function la(e){var t=e.fatal,n=0,r=0,a=0,o=128,l=191;this.handler=function(d,y){if(y===Fr&&a!==0)return a=0,Sn(t);if(y===Fr)return rr;if(a===0){if(Se(y,0,127))return y;if(Se(y,194,223))a=1,n=y-192;else if(Se(y,224,239))y===224&&(o=160),y===237&&(l=159),a=2,n=y-224;else if(Se(y,240,244))y===240&&(o=144),y===244&&(l=143),a=3,n=y-240;else return Sn(t);return n=n<<6*a,null}if(!Se(y,o,l))return n=a=r=0,o=128,l=191,d.prepend(y),Sn(t);if(o=128,l=191,r+=1,n+=y-128<<6*(a-r),r!==a)return null;var I=n;return n=a=r=0,I}}function da(e){e.fatal,this.handler=function(t,n){if(n===Fr)return rr;if(Se(n,0,127))return n;var r,a;Se(n,128,2047)?(r=1,a=192):Se(n,2048,65535)?(r=2,a=224):Se(n,65536,1114111)&&(r=3,a=240);for(var o=[(n>>6*r)+a];r>0;){var l=n>>6*(r-1);o.push(128|l&63),r-=1}return o}}const pa=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Or,TextEncoder:Cr},Symbol.toStringTag,{value:"Module"})),ga=$n(pa);var Ni;function ya(){if(Ni)return yt;Ni=1;var e=yt&&yt.__createBinding||(Object.create?(function(T,C,K,H){H===void 0&&(H=K),Object.defineProperty(T,H,{enumerable:!0,get:function(){return C[K]}})}):(function(T,C,K,H){H===void 0&&(H=K),T[H]=C[K]})),t=yt&&yt.__setModuleDefault||(Object.create?(function(T,C){Object.defineProperty(T,"default",{enumerable:!0,value:C})}):function(T,C){T.default=C}),n=yt&&yt.__decorate||function(T,C,K,H){var g=arguments.length,i=g<3?C:H===null?H=Object.getOwnPropertyDescriptor(C,K):H,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(T,C,K,H);else for(var p=T.length-1;p>=0;p--)(c=T[p])&&(i=(g<3?c(i):g>3?c(C,K,i):c(C,K))||i);return g>3&&i&&Object.defineProperty(C,K,i),i},r=yt&&yt.__importStar||function(T){if(T&&T.__esModule)return T;var C={};if(T!=null)for(var K in T)K!=="default"&&Object.hasOwnProperty.call(T,K)&&e(C,T,K);return t(C,T),C},a=yt&&yt.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(yt,"__esModule",{value:!0}),yt.deserializeUnchecked=yt.deserialize=yt.serialize=yt.BinaryReader=yt.BinaryWriter=yt.BorshError=yt.baseDecode=yt.baseEncode=void 0;const o=a(So()),l=a(Io()),d=r(ga),y=typeof TextDecoder!="function"?d.TextDecoder:TextDecoder,I=new y("utf-8",{fatal:!0});function R(T){return typeof T=="string"&&(T=Buffer.from(T,"utf8")),l.default.encode(Buffer.from(T))}yt.baseEncode=R;function U(T){return Buffer.from(l.default.decode(T))}yt.baseDecode=U;const _=1024;class S extends Error{constructor(C){super(C),this.fieldPath=[],this.originalMessage=C}addToFieldPath(C){this.fieldPath.splice(0,0,C),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}yt.BorshError=S;class F{constructor(){this.buf=Buffer.alloc(_),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(_)]))}writeU8(C){this.maybeResize(),this.buf.writeUInt8(C,this.length),this.length+=1}writeU16(C){this.maybeResize(),this.buf.writeUInt16LE(C,this.length),this.length+=2}writeU32(C){this.maybeResize(),this.buf.writeUInt32LE(C,this.length),this.length+=4}writeU64(C){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(C).toArray("le",8)))}writeU128(C){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(C).toArray("le",16)))}writeU256(C){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(C).toArray("le",32)))}writeU512(C){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(C).toArray("le",64)))}writeBuffer(C){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),C,Buffer.alloc(_)]),this.length+=C.length}writeString(C){this.maybeResize();const K=Buffer.from(C,"utf8");this.writeU32(K.length),this.writeBuffer(K)}writeFixedArray(C){this.writeBuffer(Buffer.from(C))}writeArray(C,K){this.maybeResize(),this.writeU32(C.length);for(const H of C)this.maybeResize(),K(H)}toArray(){return this.buf.subarray(0,this.length)}}yt.BinaryWriter=F;function L(T,C,K){const H=K.value;K.value=function(...g){try{return H.apply(this,g)}catch(i){if(i instanceof RangeError){const c=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(c)>=0)throw new S("Reached the end of buffer when deserializing")}throw i}}}class q{constructor(C){this.buf=C,this.offset=0}readU8(){const C=this.buf.readUInt8(this.offset);return this.offset+=1,C}readU16(){const C=this.buf.readUInt16LE(this.offset);return this.offset+=2,C}readU32(){const C=this.buf.readUInt32LE(this.offset);return this.offset+=4,C}readU64(){const C=this.readBuffer(8);return new o.default(C,"le")}readU128(){const C=this.readBuffer(16);return new o.default(C,"le")}readU256(){const C=this.readBuffer(32);return new o.default(C,"le")}readU512(){const C=this.readBuffer(64);return new o.default(C,"le")}readBuffer(C){if(this.offset+C>this.buf.length)throw new S(`Expected buffer length ${C} isn't within bounds`);const K=this.buf.slice(this.offset,this.offset+C);return this.offset+=C,K}readString(){const C=this.readU32(),K=this.readBuffer(C);try{return I.decode(K)}catch(H){throw new S(`Error decoding UTF-8 string: ${H}`)}}readFixedArray(C){return new Uint8Array(this.readBuffer(C))}readArray(C){const K=this.readU32(),H=Array();for(let g=0;g<K;++g)H.push(C());return H}}n([L],q.prototype,"readU8",null),n([L],q.prototype,"readU16",null),n([L],q.prototype,"readU32",null),n([L],q.prototype,"readU64",null),n([L],q.prototype,"readU128",null),n([L],q.prototype,"readU256",null),n([L],q.prototype,"readU512",null),n([L],q.prototype,"readString",null),n([L],q.prototype,"readFixedArray",null),n([L],q.prototype,"readArray",null),yt.BinaryReader=q;function z(T){return T.charAt(0).toUpperCase()+T.slice(1)}function G(T,C,K,H,g){try{if(typeof H=="string")g[`write${z(H)}`](K);else if(H instanceof Array)if(typeof H[0]=="number"){if(K.length!==H[0])throw new S(`Expecting byte array of length ${H[0]}, but got ${K.length} bytes`);g.writeFixedArray(K)}else if(H.length===2&&typeof H[1]=="number"){if(K.length!==H[1])throw new S(`Expecting byte array of length ${H[1]}, but got ${K.length} bytes`);for(let i=0;i<H[1];i++)G(T,null,K[i],H[0],g)}else g.writeArray(K,i=>{G(T,C,i,H[0],g)});else if(H.kind!==void 0)switch(H.kind){case"option":{K==null?g.writeU8(0):(g.writeU8(1),G(T,C,K,H.type,g));break}case"map":{g.writeU32(K.size),K.forEach((i,c)=>{G(T,C,c,H.key,g),G(T,C,i,H.value,g)});break}default:throw new S(`FieldType ${H} unrecognized`)}else P(T,K,g)}catch(i){throw i instanceof S&&i.addToFieldPath(C),i}}function P(T,C,K){if(typeof C.borshSerialize=="function"){C.borshSerialize(K);return}const H=T.get(C.constructor);if(!H)throw new S(`Class ${C.constructor.name} is missing in schema`);if(H.kind==="struct")H.fields.map(([g,i])=>{G(T,g,C[g],i,K)});else if(H.kind==="enum"){const g=C[H.field];for(let i=0;i<H.values.length;++i){const[c,p]=H.values[i];if(c===g){K.writeU8(i),G(T,c,C[c],p,K);break}}}else throw new S(`Unexpected schema kind: ${H.kind} for ${C.constructor.name}`)}function Q(T,C,K=F){const H=new K;return P(T,C,H),H.toArray()}yt.serialize=Q;function W(T,C,K,H){try{if(typeof K=="string")return H[`read${z(K)}`]();if(K instanceof Array){if(typeof K[0]=="number")return H.readFixedArray(K[0]);if(typeof K[1]=="number"){const g=[];for(let i=0;i<K[1];i++)g.push(W(T,null,K[0],H));return g}else return H.readArray(()=>W(T,C,K[0],H))}if(K.kind==="option")return H.readU8()?W(T,C,K.type,H):void 0;if(K.kind==="map"){let g=new Map;const i=H.readU32();for(let c=0;c<i;c++){const p=W(T,C,K.key,H),v=W(T,C,K.value,H);g.set(p,v)}return g}return nt(T,K,H)}catch(g){throw g instanceof S&&g.addToFieldPath(C),g}}function nt(T,C,K){if(typeof C.borshDeserialize=="function")return C.borshDeserialize(K);const H=T.get(C);if(!H)throw new S(`Class ${C.name} is missing in schema`);if(H.kind==="struct"){const g={};for(const[i,c]of T.get(C).fields)g[i]=W(T,i,c,K);return new C(g)}if(H.kind==="enum"){const g=K.readU8();if(g>=H.values.length)throw new S(`Enum index: ${g} is out of range`);const[i,c]=H.values[g],p=W(T,i,c,K);return new C({[i]:p})}throw new S(`Unexpected schema kind: ${H.kind} for ${C.constructor.name}`)}function at(T,C,K,H=q){const g=new H(K),i=nt(T,C,g);if(g.offset<K.length)throw new S(`Unexpected ${K.length-g.offset} bytes after deserialized data`);return i}yt.deserialize=at;function it(T,C,K,H=q){const g=new H(K);return nt(T,C,g)}return yt.deserializeUnchecked=it,yt}var In=ya(),V={},qi;function ma(){if(qi)return V;qi=1,Object.defineProperty(V,"__esModule",{value:!0}),V.s16=V.s8=V.nu64be=V.u48be=V.u40be=V.u32be=V.u24be=V.u16be=V.nu64=V.u48=V.u40=V.u32=V.u24=V.u16=V.u8=V.offset=V.greedy=V.Constant=V.UTF8=V.CString=V.Blob=V.Boolean=V.BitField=V.BitStructure=V.VariantLayout=V.Union=V.UnionLayoutDiscriminator=V.UnionDiscriminator=V.Structure=V.Sequence=V.DoubleBE=V.Double=V.FloatBE=V.Float=V.NearInt64BE=V.NearInt64=V.NearUInt64BE=V.NearUInt64=V.IntBE=V.Int=V.UIntBE=V.UInt=V.OffsetLayout=V.GreedyCount=V.ExternalLayout=V.bindConstructorLayout=V.nameWithProperty=V.Layout=V.uint8ArrayToBuffer=V.checkUint8Array=void 0,V.constant=V.utf8=V.cstr=V.blob=V.unionLayoutDiscriminator=V.union=V.seq=V.bits=V.struct=V.f64be=V.f64=V.f32be=V.f32=V.ns64be=V.s48be=V.s40be=V.s32be=V.s24be=V.s16be=V.ns64=V.s48=V.s40=V.s32=V.s24=void 0;const e=Vn();function t(s){if(!(s instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}V.checkUint8Array=t;function n(s){return t(s),e.Buffer.from(s.buffer,s.byteOffset,s.length)}V.uint8ArrayToBuffer=n;let r=class{constructor(u,w){if(!Number.isInteger(u))throw new TypeError("span must be an integer");this.span=u,this.property=w}makeDestinationObject(){return{}}getSpan(u,w){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(u){const w=Object.create(this.constructor.prototype);return Object.assign(w,this),w.property=u,w}fromArray(u){}};V.Layout=r;function a(s,u){return u.property?s+"["+u.property+"]":s}V.nameWithProperty=a;function o(s,u){if(typeof s!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(s,"layout_"))throw new Error("Class is already bound to a layout");if(!(u&&u instanceof r))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(u,"boundConstructor_"))throw new Error("layout is already bound to a constructor");s.layout_=u,u.boundConstructor_=s,u.makeDestinationObject=(()=>new s),Object.defineProperty(s.prototype,"encode",{value(w,B){return u.encode(this,w,B)},writable:!0}),Object.defineProperty(s,"decode",{value(w,B){return u.decode(w,B)},writable:!0})}V.bindConstructorLayout=o;class l extends r{isCount(){throw new Error("ExternalLayout is abstract")}}V.ExternalLayout=l;class d extends l{constructor(u=1,w){if(!Number.isInteger(u)||0>=u)throw new TypeError("elementSpan must be a (positive) integer");super(-1,w),this.elementSpan=u}isCount(){return!0}decode(u,w=0){t(u);const B=u.length-w;return Math.floor(B/this.elementSpan)}encode(u,w,B){return 0}}V.GreedyCount=d;class y extends l{constructor(u,w=0,B){if(!(u instanceof r))throw new TypeError("layout must be a Layout");if(!Number.isInteger(w))throw new TypeError("offset must be integer or undefined");super(u.span,B||u.property),this.layout=u,this.offset=w}isCount(){return this.layout instanceof I||this.layout instanceof R}decode(u,w=0){return this.layout.decode(u,w+this.offset)}encode(u,w,B=0){return this.layout.encode(u,w,B+this.offset)}}V.OffsetLayout=y;class I extends r{constructor(u,w){if(super(u,w),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(u,w=0){return n(u).readUIntLE(w,this.span)}encode(u,w,B=0){return n(w).writeUIntLE(u,B,this.span),this.span}}V.UInt=I;class R extends r{constructor(u,w){if(super(u,w),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(u,w=0){return n(u).readUIntBE(w,this.span)}encode(u,w,B=0){return n(w).writeUIntBE(u,B,this.span),this.span}}V.UIntBE=R;class U extends r{constructor(u,w){if(super(u,w),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(u,w=0){return n(u).readIntLE(w,this.span)}encode(u,w,B=0){return n(w).writeIntLE(u,B,this.span),this.span}}V.Int=U;class _ extends r{constructor(u,w){if(super(u,w),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(u,w=0){return n(u).readIntBE(w,this.span)}encode(u,w,B=0){return n(w).writeIntBE(u,B,this.span),this.span}}V.IntBE=_;const S=Math.pow(2,32);function F(s){const u=Math.floor(s/S),w=s-u*S;return{hi32:u,lo32:w}}function L(s,u){return s*S+u}class q extends r{constructor(u){super(8,u)}decode(u,w=0){const B=n(u),N=B.readUInt32LE(w),j=B.readUInt32LE(w+4);return L(j,N)}encode(u,w,B=0){const N=F(u),j=n(w);return j.writeUInt32LE(N.lo32,B),j.writeUInt32LE(N.hi32,B+4),8}}V.NearUInt64=q;class z extends r{constructor(u){super(8,u)}decode(u,w=0){const B=n(u),N=B.readUInt32BE(w),j=B.readUInt32BE(w+4);return L(N,j)}encode(u,w,B=0){const N=F(u),j=n(w);return j.writeUInt32BE(N.hi32,B),j.writeUInt32BE(N.lo32,B+4),8}}V.NearUInt64BE=z;class G extends r{constructor(u){super(8,u)}decode(u,w=0){const B=n(u),N=B.readUInt32LE(w),j=B.readInt32LE(w+4);return L(j,N)}encode(u,w,B=0){const N=F(u),j=n(w);return j.writeUInt32LE(N.lo32,B),j.writeInt32LE(N.hi32,B+4),8}}V.NearInt64=G;class P extends r{constructor(u){super(8,u)}decode(u,w=0){const B=n(u),N=B.readInt32BE(w),j=B.readUInt32BE(w+4);return L(N,j)}encode(u,w,B=0){const N=F(u),j=n(w);return j.writeInt32BE(N.hi32,B),j.writeUInt32BE(N.lo32,B+4),8}}V.NearInt64BE=P;class Q extends r{constructor(u){super(4,u)}decode(u,w=0){return n(u).readFloatLE(w)}encode(u,w,B=0){return n(w).writeFloatLE(u,B),4}}V.Float=Q;class W extends r{constructor(u){super(4,u)}decode(u,w=0){return n(u).readFloatBE(w)}encode(u,w,B=0){return n(w).writeFloatBE(u,B),4}}V.FloatBE=W;class nt extends r{constructor(u){super(8,u)}decode(u,w=0){return n(u).readDoubleLE(w)}encode(u,w,B=0){return n(w).writeDoubleLE(u,B),8}}V.Double=nt;class at extends r{constructor(u){super(8,u)}decode(u,w=0){return n(u).readDoubleBE(w)}encode(u,w,B=0){return n(w).writeDoubleBE(u,B),8}}V.DoubleBE=at;class it extends r{constructor(u,w,B){if(!(u instanceof r))throw new TypeError("elementLayout must be a Layout");if(!(w instanceof l&&w.isCount()||Number.isInteger(w)&&0<=w))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let N=-1;!(w instanceof l)&&0<u.span&&(N=w*u.span),super(N,B),this.elementLayout=u,this.count=w}getSpan(u,w=0){if(0<=this.span)return this.span;let B=0,N=this.count;if(N instanceof l&&(N=N.decode(u,w)),0<this.elementLayout.span)B=N*this.elementLayout.span;else{let j=0;for(;j<N;)B+=this.elementLayout.getSpan(u,w+B),++j}return B}decode(u,w=0){const B=[];let N=0,j=this.count;for(j instanceof l&&(j=j.decode(u,w));N<j;)B.push(this.elementLayout.decode(u,w)),w+=this.elementLayout.getSpan(u,w),N+=1;return B}encode(u,w,B=0){const N=this.elementLayout,j=u.reduce((J,tt)=>J+N.encode(tt,w,B+J),0);return this.count instanceof l&&this.count.encode(u.length,w,B),j}}V.Sequence=it;class T extends r{constructor(u,w,B){if(!(Array.isArray(u)&&u.reduce((j,J)=>j&&J instanceof r,!0)))throw new TypeError("fields must be array of Layout instances");typeof w=="boolean"&&B===void 0&&(B=w,w=void 0);for(const j of u)if(0>j.span&&j.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let N=-1;try{N=u.reduce((j,J)=>j+J.getSpan(),0)}catch{}super(N,w),this.fields=u,this.decodePrefixes=!!B}getSpan(u,w=0){if(0<=this.span)return this.span;let B=0;try{B=this.fields.reduce((N,j)=>{const J=j.getSpan(u,w);return w+=J,N+J},0)}catch{throw new RangeError("indeterminate span")}return B}decode(u,w=0){t(u);const B=this.makeDestinationObject();for(const N of this.fields)if(N.property!==void 0&&(B[N.property]=N.decode(u,w)),w+=N.getSpan(u,w),this.decodePrefixes&&u.length===w)break;return B}encode(u,w,B=0){const N=B;let j=0,J=0;for(const tt of this.fields){let pt=tt.span;if(J=0<pt?pt:0,tt.property!==void 0){const gt=u[tt.property];gt!==void 0&&(J=tt.encode(gt,w,B),0>pt&&(pt=tt.getSpan(w,B)))}j=B,B+=pt}return j+J-N}fromArray(u){const w=this.makeDestinationObject();for(const B of this.fields)B.property!==void 0&&0<u.length&&(w[B.property]=u.shift());return w}layoutFor(u){if(typeof u!="string")throw new TypeError("property must be string");for(const w of this.fields)if(w.property===u)return w}offsetOf(u){if(typeof u!="string")throw new TypeError("property must be string");let w=0;for(const B of this.fields){if(B.property===u)return w;0>B.span?w=-1:0<=w&&(w+=B.span)}}}V.Structure=T;class C{constructor(u){this.property=u}decode(u,w){throw new Error("UnionDiscriminator is abstract")}encode(u,w,B){throw new Error("UnionDiscriminator is abstract")}}V.UnionDiscriminator=C;class K extends C{constructor(u,w){if(!(u instanceof l&&u.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(w||u.property||"variant"),this.layout=u}decode(u,w){return this.layout.decode(u,w)}encode(u,w,B){return this.layout.encode(u,w,B)}}V.UnionLayoutDiscriminator=K;class H extends r{constructor(u,w,B){let N;if(u instanceof I||u instanceof R)N=new K(new y(u));else if(u instanceof l&&u.isCount())N=new K(u);else if(u instanceof C)N=u;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(w===void 0&&(w=null),!(w===null||w instanceof r))throw new TypeError("defaultLayout must be null or a Layout");if(w!==null){if(0>w.span)throw new Error("defaultLayout must have constant span");w.property===void 0&&(w=w.replicate("content"))}let j=-1;w&&(j=w.span,0<=j&&(u instanceof I||u instanceof R)&&(j+=N.layout.span)),super(j,B),this.discriminator=N,this.usesPrefixDiscriminator=u instanceof I||u instanceof R,this.defaultLayout=w,this.registry={};let J=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(tt){return J(tt)},this.configGetSourceVariant=function(tt){J=tt.bind(this)}}getSpan(u,w=0){if(0<=this.span)return this.span;const B=this.getVariant(u,w);if(!B)throw new Error("unable to determine span for unrecognized variant");return B.getSpan(u,w)}defaultGetSourceVariant(u){if(Object.prototype.hasOwnProperty.call(u,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(u,this.defaultLayout.property))return;const w=this.registry[u[this.discriminator.property]];if(w&&(!w.layout||w.property&&Object.prototype.hasOwnProperty.call(u,w.property)))return w}else for(const w in this.registry){const B=this.registry[w];if(B.property&&Object.prototype.hasOwnProperty.call(u,B.property))return B}throw new Error("unable to infer src variant")}decode(u,w=0){let B;const N=this.discriminator,j=N.decode(u,w),J=this.registry[j];if(J===void 0){const tt=this.defaultLayout;let pt=0;this.usesPrefixDiscriminator&&(pt=N.layout.span),B=this.makeDestinationObject(),B[N.property]=j,B[tt.property]=tt.decode(u,w+pt)}else B=J.decode(u,w);return B}encode(u,w,B=0){const N=this.getSourceVariant(u);if(N===void 0){const j=this.discriminator,J=this.defaultLayout;let tt=0;return this.usesPrefixDiscriminator&&(tt=j.layout.span),j.encode(u[j.property],w,B),tt+J.encode(u[J.property],w,B+tt)}return N.encode(u,w,B)}addVariant(u,w,B){const N=new g(this,u,w,B);return this.registry[u]=N,N}getVariant(u,w=0){let B;return u instanceof Uint8Array?B=this.discriminator.decode(u,w):B=u,this.registry[B]}}V.Union=H;class g extends r{constructor(u,w,B,N){if(!(u instanceof H))throw new TypeError("union must be a Union");if(!Number.isInteger(w)||0>w)throw new TypeError("variant must be a (non-negative) integer");if(typeof B=="string"&&N===void 0&&(N=B,B=null),B){if(!(B instanceof r))throw new TypeError("layout must be a Layout");if(u.defaultLayout!==null&&0<=B.span&&B.span>u.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof N!="string")throw new TypeError("variant must have a String property")}let j=u.span;0>u.span&&(j=B?B.span:0,0<=j&&u.usesPrefixDiscriminator&&(j+=u.discriminator.layout.span)),super(j,N),this.union=u,this.variant=w,this.layout=B||null}getSpan(u,w=0){if(0<=this.span)return this.span;let B=0;this.union.usesPrefixDiscriminator&&(B=this.union.discriminator.layout.span);let N=0;return this.layout&&(N=this.layout.getSpan(u,w+B)),B+N}decode(u,w=0){const B=this.makeDestinationObject();if(this!==this.union.getVariant(u,w))throw new Error("variant mismatch");let N=0;return this.union.usesPrefixDiscriminator&&(N=this.union.discriminator.layout.span),this.layout?B[this.property]=this.layout.decode(u,w+N):this.property?B[this.property]=!0:this.union.usesPrefixDiscriminator&&(B[this.union.discriminator.property]=this.variant),B}encode(u,w,B=0){let N=0;if(this.union.usesPrefixDiscriminator&&(N=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(u,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,w,B);let j=N;if(this.layout&&(this.layout.encode(u[this.property],w,B+N),j+=this.layout.getSpan(w,B+N),0<=this.union.span&&j>this.union.span))throw new Error("encoded variant overruns containing union");return j}fromArray(u){if(this.layout)return this.layout.fromArray(u)}}V.VariantLayout=g;function i(s){return 0>s&&(s+=4294967296),s}class c extends r{constructor(u,w,B){if(!(u instanceof I||u instanceof R))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof w=="string"&&B===void 0&&(B=w,w=!1),4<u.span)throw new RangeError("word cannot exceed 32 bits");super(u.span,B),this.word=u,this.msb=!!w,this.fields=[];let N=0;this._packedSetValue=function(j){return N=i(j),this},this._packedGetValue=function(){return N}}decode(u,w=0){const B=this.makeDestinationObject(),N=this.word.decode(u,w);this._packedSetValue(N);for(const j of this.fields)j.property!==void 0&&(B[j.property]=j.decode(u));return B}encode(u,w,B=0){const N=this.word.decode(w,B);this._packedSetValue(N);for(const j of this.fields)if(j.property!==void 0){const J=u[j.property];J!==void 0&&j.encode(J)}return this.word.encode(this._packedGetValue(),w,B)}addField(u,w){const B=new p(this,u,w);return this.fields.push(B),B}addBoolean(u){const w=new v(this,u);return this.fields.push(w),w}fieldFor(u){if(typeof u!="string")throw new TypeError("property must be string");for(const w of this.fields)if(w.property===u)return w}}V.BitStructure=c;class p{constructor(u,w,B){if(!(u instanceof c))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(w)||0>=w)throw new TypeError("bits must be positive integer");const N=8*u.span,j=u.fields.reduce((J,tt)=>J+tt.bits,0);if(w+j>N)throw new Error("bits too long for span remainder ("+(N-j)+" of "+N+" remain)");this.container=u,this.bits=w,this.valueMask=(1<<w)-1,w===32&&(this.valueMask=4294967295),this.start=j,this.container.msb&&(this.start=N-j-w),this.wordMask=i(this.valueMask<<this.start),this.property=B}decode(u,w){const B=this.container._packedGetValue();return i(B&this.wordMask)>>>this.start}encode(u){if(typeof u!="number"||!Number.isInteger(u)||u!==i(u&this.valueMask))throw new TypeError(a("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const w=this.container._packedGetValue(),B=i(u<<this.start);this.container._packedSetValue(i(w&~this.wordMask)|B)}}V.BitField=p;class v extends p{constructor(u,w){super(u,1,w)}decode(u,w){return!!super.decode(u,w)}encode(u){typeof u=="boolean"&&(u=+u),super.encode(u)}}V.Boolean=v;class E extends r{constructor(u,w){if(!(u instanceof l&&u.isCount()||Number.isInteger(u)&&0<=u))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let B=-1;u instanceof l||(B=u),super(B,w),this.length=u}getSpan(u,w){let B=this.span;return 0>B&&(B=this.length.decode(u,w)),B}decode(u,w=0){let B=this.span;return 0>B&&(B=this.length.decode(u,w)),n(u).slice(w,w+B)}encode(u,w,B){let N=this.length;if(this.length instanceof l&&(N=u.length),!(u instanceof Uint8Array&&N===u.length))throw new TypeError(a("Blob.encode",this)+" requires (length "+N+") Uint8Array as src");if(B+N>w.length)throw new RangeError("encoding overruns Uint8Array");const j=n(u);return n(w).write(j.toString("hex"),B,N,"hex"),this.length instanceof l&&this.length.encode(N,w,B),N}}V.Blob=E;class A extends r{constructor(u){super(-1,u)}getSpan(u,w=0){t(u);let B=w;for(;B<u.length&&u[B]!==0;)B+=1;return 1+B-w}decode(u,w=0){const B=this.getSpan(u,w);return n(u).slice(w,w+B-1).toString("utf-8")}encode(u,w,B=0){typeof u!="string"&&(u=String(u));const N=e.Buffer.from(u,"utf8"),j=N.length;if(B+j>w.length)throw new RangeError("encoding overruns Buffer");const J=n(w);return N.copy(J,B),J[B+j]=0,j+1}}V.CString=A;class k extends r{constructor(u,w){if(typeof u=="string"&&w===void 0&&(w=u,u=void 0),u===void 0)u=-1;else if(!Number.isInteger(u))throw new TypeError("maxSpan must be an integer");super(-1,w),this.maxSpan=u}getSpan(u,w=0){return t(u),u.length-w}decode(u,w=0){const B=this.getSpan(u,w);if(0<=this.maxSpan&&this.maxSpan<B)throw new RangeError("text length exceeds maxSpan");return n(u).slice(w,w+B).toString("utf-8")}encode(u,w,B=0){typeof u!="string"&&(u=String(u));const N=e.Buffer.from(u,"utf8"),j=N.length;if(0<=this.maxSpan&&this.maxSpan<j)throw new RangeError("text length exceeds maxSpan");if(B+j>w.length)throw new RangeError("encoding overruns Buffer");return N.copy(n(w),B),j}}V.UTF8=k;class b extends r{constructor(u,w){super(0,w),this.value=u}decode(u,w){return this.value}encode(u,w,B){return 0}}return V.Constant=b,V.greedy=((s,u)=>new d(s,u)),V.offset=((s,u,w)=>new y(s,u,w)),V.u8=(s=>new I(1,s)),V.u16=(s=>new I(2,s)),V.u24=(s=>new I(3,s)),V.u32=(s=>new I(4,s)),V.u40=(s=>new I(5,s)),V.u48=(s=>new I(6,s)),V.nu64=(s=>new q(s)),V.u16be=(s=>new R(2,s)),V.u24be=(s=>new R(3,s)),V.u32be=(s=>new R(4,s)),V.u40be=(s=>new R(5,s)),V.u48be=(s=>new R(6,s)),V.nu64be=(s=>new z(s)),V.s8=(s=>new U(1,s)),V.s16=(s=>new U(2,s)),V.s24=(s=>new U(3,s)),V.s32=(s=>new U(4,s)),V.s40=(s=>new U(5,s)),V.s48=(s=>new U(6,s)),V.ns64=(s=>new G(s)),V.s16be=(s=>new _(2,s)),V.s24be=(s=>new _(3,s)),V.s32be=(s=>new _(4,s)),V.s40be=(s=>new _(5,s)),V.s48be=(s=>new _(6,s)),V.ns64be=(s=>new P(s)),V.f32=(s=>new Q(s)),V.f32be=(s=>new W(s)),V.f64=(s=>new nt(s)),V.f64be=(s=>new at(s)),V.struct=((s,u,w)=>new T(s,u,w)),V.bits=((s,u,w)=>new c(s,u,w)),V.seq=((s,u,w)=>new it(s,u,w)),V.union=((s,u,w)=>new H(s,u,w)),V.unionLayoutDiscriminator=((s,u)=>new K(s,u)),V.blob=((s,u)=>new E(s,u)),V.cstr=(s=>new A(s)),V.utf8=((s,u)=>new k(s,u)),V.constant=((s,u)=>new b(s,u)),V}var M=ma(),wa=8078e3,ba=8078001,va=8078004,xa=8078005,Ea=8078006,Ba=8078011;function Mo(e){return Array.isArray(e)?"%5B"+e.map(Mo).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function Aa([e,t]){return`${e}=${Mo(t)}`}function Sa(e){const t=Object.entries(e).map(Aa).join("&");return btoa(t)}function Ia(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${Sa(t)}'`),`${n}\``}}var Xe=class extends Error{cause=this.cause;context;constructor(...[e,t]){let n,r;if(t){const{cause:o,...l}=t;o&&(r={cause:o}),Object.keys(l).length>0&&(n=l)}const a=Ia(e,n);super(a,r),this.context={__code:e,...n},this.name="SolanaError"}};function Ma(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function _a(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(Ma(t,e));return e.write(t,n,0),n}})}function ka(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}function Ge(e){return"fixedSize"in e&&typeof e.fixedSize=="number"}function Ra(e,t){if(Ge(e)!==Ge(t))throw new Xe(va);if(Ge(e)&&Ge(t)&&e.fixedSize!==t.fixedSize)throw new Xe(xa,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!Ge(e)&&!Ge(t)&&e.maxSize!==t.maxSize)throw new Xe(Ea,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function Ua(e,t,n=0){if(t.length-n<=0)throw new Xe(wa,{codecDescription:e})}function La(e,t,n,r=0){const a=n.length-r;if(a<t)throw new Xe(ba,{bytesLength:a,codecDescription:e,expected:t})}function Fa(e,t,n,r){if(r<t||r>n)throw new Xe(Ba,{codecDescription:e,max:n,min:t,value:r})}function _o(e){return e?.endian!==1}function Ta(e){return _a({fixedSize:e.size,write(t,n,r){e.range&&Fa(e.name,e.range[0],e.range[1],t);const a=new ArrayBuffer(e.size);return e.set(new DataView(a),t,_o(e.config)),n.set(new Uint8Array(a),r),r+e.size}})}function Oa(e){return ka({fixedSize:e.size,read(t,n=0){Ua(e.name,t,n),La(e.name,e.size,t,n);const r=new DataView(Ca(t,n,e.size));return[e.get(r,_o(e.config)),n+e.size]}})}function Ca(e,t,n){const r=e.byteOffset+(t??0),a=n??e.byteLength;return e.buffer.slice(r,r+a)}var Na=(e={})=>Ta({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(t,n,r)=>t.setBigUint64(0,BigInt(n),r),size:8}),qa=(e={})=>Oa({config:e,get:(t,n)=>t.getBigUint64(0,n),name:"u64",size:8}),Da=(e={})=>Ra(Na(e),qa(e));class za extends TypeError{constructor(t,n){let r;const{message:a,explanation:o,...l}=t,{path:d}=t,y=d.length===0?a:`At path: ${d.join(".")} -- ${a}`;super(o??y),o!=null&&(this.cause=y),Object.assign(this,l),this.name=this.constructor.name,this.failures=()=>r??(r=[t,...n()])}}function Ka(e){return pr(e)&&typeof e[Symbol.iterator]=="function"}function pr(e){return typeof e=="object"&&e!=null}function Nr(e){return pr(e)&&!Array.isArray(e)}function ye(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function Pa(e){const{done:t,value:n}=e.next();return t?void 0:n}function $a(e,t,n,r){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:a,branch:o}=t,{type:l}=n,{refinement:d,message:y=`Expected a value of type \`${l}\`${d?` with refinement \`${d}\``:""}, but received: \`${ye(r)}\``}=e;return{value:r,type:l,refinement:d,key:a[a.length-1],path:a,branch:o,...e,message:y}}function*Di(e,t,n,r){Ka(e)||(e=[e]);for(const a of e){const o=$a(a,t,n,r);o&&(yield o)}}function*Jn(e,t,n={}){const{path:r=[],branch:a=[e],coerce:o=!1,mask:l=!1}=n,d={path:r,branch:a,mask:l};o&&(e=t.coercer(e,d));let y="valid";for(const I of t.validator(e,d))I.explanation=n.message,y="not_valid",yield[I,void 0];for(let[I,R,U]of t.entries(e,d)){const _=Jn(R,U,{path:I===void 0?r:[...r,I],branch:I===void 0?a:[...a,R],coerce:o,mask:l,message:n.message});for(const S of _)S[0]?(y=S[0].refinement!=null?"not_refined":"not_valid",yield[S[0],void 0]):o&&(R=S[1],I===void 0?e=R:e instanceof Map?e.set(I,R):e instanceof Set?e.add(R):pr(e)&&(R!==void 0||I in e)&&(e[I]=R))}if(y!=="not_valid")for(const I of t.refiner(e,d))I.explanation=n.message,y="not_refined",yield[I,void 0];y==="valid"&&(yield[void 0,e])}let xe=class{constructor(t){const{type:n,schema:r,validator:a,refiner:o,coercer:l=y=>y,entries:d=function*(){}}=t;this.type=n,this.schema=r,this.entries=d,this.coercer=l,a?this.validator=(y,I)=>{const R=a(y,I);return Di(R,I,this,y)}:this.validator=()=>[],o?this.refiner=(y,I)=>{const R=o(y,I);return Di(R,I,this,y)}:this.refiner=()=>[]}assert(t,n){return Va(t,this,n)}create(t,n){return fr(t,this,n)}is(t){return ko(t,this)}mask(t,n){return Ha(t,this,n)}validate(t,n={}){return gr(t,this,n)}};function Va(e,t,n){const r=gr(e,t,{message:n});if(r[0])throw r[0]}function fr(e,t,n){const r=gr(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function Ha(e,t,n){const r=gr(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function ko(e,t){return!gr(e,t)[0]}function gr(e,t,n={}){const r=Jn(e,t,n),a=Pa(r);return a[0]?[new za(a[0],function*(){for(const l of r)l[0]&&(yield l[0])}),void 0]:[void 0,a[1]]}function Pe(e,t){return new xe({type:e,schema:null,validator:t})}function Za(){return Pe("any",()=>!0)}function et(e){return new xe({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${ye(t)}`}})}function ve(){return Pe("boolean",e=>typeof e=="boolean")}function Qn(e){return Pe("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${ye(t)}`)}function St(e){const t=ye(e),n=typeof e;return new xe({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?e:null,validator(r){return r===e||`Expected the literal \`${t}\`, but received: ${ye(r)}`}})}function ja(){return Pe("never",()=>!1)}function rt(e){return new xe({...e,validator:(t,n)=>t===null||e.validator(t,n),refiner:(t,n)=>t===null||e.refiner(t,n)})}function $(){return Pe("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${ye(e)}`)}function ot(e){return new xe({...e,validator:(t,n)=>t===void 0||e.validator(t,n),refiner:(t,n)=>t===void 0||e.refiner(t,n)})}function Ro(e,t){return new xe({type:"record",schema:null,*entries(n){if(pr(n))for(const r in n){const a=n[r];yield[r,r,e],yield[r,a,t]}},validator(n){return Nr(n)||`Expected an object, but received: ${ye(n)}`},coercer(n){return Nr(n)?{...n}:n}})}function X(){return Pe("string",e=>typeof e=="string"||`Expected a string, but received: ${ye(e)}`)}function ti(e){const t=ja();return new xe({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let a=0;a<r;a++)yield[a,n[a],e[a]||t]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${ye(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function Y(e){const t=Object.keys(e);return new xe({type:"type",schema:e,*entries(n){if(pr(n))for(const r of t)yield[r,n[r],e[r]]},validator(n){return Nr(n)||`Expected an object, but received: ${ye(n)}`},coercer(n){return Nr(n)?{...n}:n}})}function ae(e){const t=e.map(n=>n.type).join(" | ");return new xe({type:"union",schema:null,coercer(n,r){for(const a of e){const[o,l]=a.validate(n,{coerce:!0,mask:r.mask});if(!o)return l}return n},validator(n,r){const a=[];for(const o of e){const[...l]=Jn(n,o,r),[d]=l;if(d[0])for(const[y]of l)y&&a.push(y);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${ye(n)}`,...a]}})}function or(){return Pe("unknown",()=>!0)}function yr(e,t,n){return new xe({...e,coercer:(r,a)=>ko(r,t)?e.coercer(n(r,a),a):e.coercer(r,a)})}var Sr,Ga=new Uint8Array(16);function Uo(){if(!Sr&&(Sr=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Sr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Sr(Ga)}const Ya=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Vr(e){return typeof e=="string"&&Ya.test(e)}var Qt=[];for(var Mn=0;Mn<256;++Mn)Qt.push((Mn+256).toString(16).substr(1));function Hr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Qt[e[t+0]]+Qt[e[t+1]]+Qt[e[t+2]]+Qt[e[t+3]]+"-"+Qt[e[t+4]]+Qt[e[t+5]]+"-"+Qt[e[t+6]]+Qt[e[t+7]]+"-"+Qt[e[t+8]]+Qt[e[t+9]]+"-"+Qt[e[t+10]]+Qt[e[t+11]]+Qt[e[t+12]]+Qt[e[t+13]]+Qt[e[t+14]]+Qt[e[t+15]]).toLowerCase();if(!Vr(n))throw TypeError("Stringified UUID is invalid");return n}var zi,_n,kn=0,Rn=0;function Wa(e,t,n){var r=t&&n||0,a=t||new Array(16);e=e||{};var o=e.node||zi,l=e.clockseq!==void 0?e.clockseq:_n;if(o==null||l==null){var d=e.random||(e.rng||Uo)();o==null&&(o=zi=[d[0]|1,d[1],d[2],d[3],d[4],d[5]]),l==null&&(l=_n=(d[6]<<8|d[7])&16383)}var y=e.msecs!==void 0?e.msecs:Date.now(),I=e.nsecs!==void 0?e.nsecs:Rn+1,R=y-kn+(I-Rn)/1e4;if(R<0&&e.clockseq===void 0&&(l=l+1&16383),(R<0||y>kn)&&e.nsecs===void 0&&(I=0),I>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");kn=y,Rn=I,_n=l,y+=122192928e5;var U=((y&268435455)*1e4+I)%4294967296;a[r++]=U>>>24&255,a[r++]=U>>>16&255,a[r++]=U>>>8&255,a[r++]=U&255;var _=y/4294967296*1e4&268435455;a[r++]=_>>>8&255,a[r++]=_&255,a[r++]=_>>>24&15|16,a[r++]=_>>>16&255,a[r++]=l>>>8|128,a[r++]=l&255;for(var S=0;S<6;++S)a[r+S]=o[S];return t||Hr(a)}function Lo(e){if(!Vr(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}function Xa(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}var Ja="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Qa="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Fo(e,t,n){function r(a,o,l,d){if(typeof a=="string"&&(a=Xa(a)),typeof o=="string"&&(o=Lo(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var y=new Uint8Array(16+a.length);if(y.set(o),y.set(a,o.length),y=n(y),y[6]=y[6]&15|t,y[8]=y[8]&63|128,l){d=d||0;for(var I=0;I<16;++I)l[d+I]=y[I];return l}return Hr(y)}try{r.name=e}catch{}return r.DNS=Ja,r.URL=Qa,r}function tu(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return eu(ru(nu(e),e.length*8))}function eu(e){for(var t=[],n=e.length*32,r="0123456789abcdef",a=0;a<n;a+=8){var o=e[a>>5]>>>a%32&255,l=parseInt(r.charAt(o>>>4&15)+r.charAt(o&15),16);t.push(l)}return t}function To(e){return(e+64>>>9<<4)+14+1}function ru(e,t){e[t>>5]|=128<<t%32,e[To(t)-1]=t;for(var n=1732584193,r=-271733879,a=-1732584194,o=271733878,l=0;l<e.length;l+=16){var d=n,y=r,I=a,R=o;n=re(n,r,a,o,e[l],7,-680876936),o=re(o,n,r,a,e[l+1],12,-389564586),a=re(a,o,n,r,e[l+2],17,606105819),r=re(r,a,o,n,e[l+3],22,-1044525330),n=re(n,r,a,o,e[l+4],7,-176418897),o=re(o,n,r,a,e[l+5],12,1200080426),a=re(a,o,n,r,e[l+6],17,-1473231341),r=re(r,a,o,n,e[l+7],22,-45705983),n=re(n,r,a,o,e[l+8],7,1770035416),o=re(o,n,r,a,e[l+9],12,-1958414417),a=re(a,o,n,r,e[l+10],17,-42063),r=re(r,a,o,n,e[l+11],22,-1990404162),n=re(n,r,a,o,e[l+12],7,1804603682),o=re(o,n,r,a,e[l+13],12,-40341101),a=re(a,o,n,r,e[l+14],17,-1502002290),r=re(r,a,o,n,e[l+15],22,1236535329),n=ne(n,r,a,o,e[l+1],5,-165796510),o=ne(o,n,r,a,e[l+6],9,-1069501632),a=ne(a,o,n,r,e[l+11],14,643717713),r=ne(r,a,o,n,e[l],20,-373897302),n=ne(n,r,a,o,e[l+5],5,-701558691),o=ne(o,n,r,a,e[l+10],9,38016083),a=ne(a,o,n,r,e[l+15],14,-660478335),r=ne(r,a,o,n,e[l+4],20,-405537848),n=ne(n,r,a,o,e[l+9],5,568446438),o=ne(o,n,r,a,e[l+14],9,-1019803690),a=ne(a,o,n,r,e[l+3],14,-187363961),r=ne(r,a,o,n,e[l+8],20,1163531501),n=ne(n,r,a,o,e[l+13],5,-1444681467),o=ne(o,n,r,a,e[l+2],9,-51403784),a=ne(a,o,n,r,e[l+7],14,1735328473),r=ne(r,a,o,n,e[l+12],20,-1926607734),n=ie(n,r,a,o,e[l+5],4,-378558),o=ie(o,n,r,a,e[l+8],11,-2022574463),a=ie(a,o,n,r,e[l+11],16,1839030562),r=ie(r,a,o,n,e[l+14],23,-35309556),n=ie(n,r,a,o,e[l+1],4,-1530992060),o=ie(o,n,r,a,e[l+4],11,1272893353),a=ie(a,o,n,r,e[l+7],16,-155497632),r=ie(r,a,o,n,e[l+10],23,-1094730640),n=ie(n,r,a,o,e[l+13],4,681279174),o=ie(o,n,r,a,e[l],11,-358537222),a=ie(a,o,n,r,e[l+3],16,-722521979),r=ie(r,a,o,n,e[l+6],23,76029189),n=ie(n,r,a,o,e[l+9],4,-640364487),o=ie(o,n,r,a,e[l+12],11,-421815835),a=ie(a,o,n,r,e[l+15],16,530742520),r=ie(r,a,o,n,e[l+2],23,-995338651),n=oe(n,r,a,o,e[l],6,-198630844),o=oe(o,n,r,a,e[l+7],10,1126891415),a=oe(a,o,n,r,e[l+14],15,-1416354905),r=oe(r,a,o,n,e[l+5],21,-57434055),n=oe(n,r,a,o,e[l+12],6,1700485571),o=oe(o,n,r,a,e[l+3],10,-1894986606),a=oe(a,o,n,r,e[l+10],15,-1051523),r=oe(r,a,o,n,e[l+1],21,-2054922799),n=oe(n,r,a,o,e[l+8],6,1873313359),o=oe(o,n,r,a,e[l+15],10,-30611744),a=oe(a,o,n,r,e[l+6],15,-1560198380),r=oe(r,a,o,n,e[l+13],21,1309151649),n=oe(n,r,a,o,e[l+4],6,-145523070),o=oe(o,n,r,a,e[l+11],10,-1120210379),a=oe(a,o,n,r,e[l+2],15,718787259),r=oe(r,a,o,n,e[l+9],21,-343485551),n=Fe(n,d),r=Fe(r,y),a=Fe(a,I),o=Fe(o,R)}return[n,r,a,o]}function nu(e){if(e.length===0)return[];for(var t=e.length*8,n=new Uint32Array(To(t)),r=0;r<t;r+=8)n[r>>5]|=(e[r/8]&255)<<r%32;return n}function Fe(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function iu(e,t){return e<<t|e>>>32-t}function Zr(e,t,n,r,a,o){return Fe(iu(Fe(Fe(t,e),Fe(r,o)),a),n)}function re(e,t,n,r,a,o,l){return Zr(t&n|~t&r,e,t,a,o,l)}function ne(e,t,n,r,a,o,l){return Zr(t&r|n&~r,e,t,a,o,l)}function ie(e,t,n,r,a,o,l){return Zr(t^n^r,e,t,a,o,l)}function oe(e,t,n,r,a,o,l){return Zr(n^(t|~r),e,t,a,o,l)}var ou=Fo("v3",48,tu);function su(e,t,n){e=e||{};var r=e.random||(e.rng||Uo)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return Hr(r)}function au(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function Un(e,t){return e<<t|e>>>32-t}function uu(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var r=unescape(encodeURIComponent(e));e=[];for(var a=0;a<r.length;++a)e.push(r.charCodeAt(a))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,l=Math.ceil(o/16),d=new Array(l),y=0;y<l;++y){for(var I=new Uint32Array(16),R=0;R<16;++R)I[R]=e[y*64+R*4]<<24|e[y*64+R*4+1]<<16|e[y*64+R*4+2]<<8|e[y*64+R*4+3];d[y]=I}d[l-1][14]=(e.length-1)*8/Math.pow(2,32),d[l-1][14]=Math.floor(d[l-1][14]),d[l-1][15]=(e.length-1)*8&4294967295;for(var U=0;U<l;++U){for(var _=new Uint32Array(80),S=0;S<16;++S)_[S]=d[U][S];for(var F=16;F<80;++F)_[F]=Un(_[F-3]^_[F-8]^_[F-14]^_[F-16],1);for(var L=n[0],q=n[1],z=n[2],G=n[3],P=n[4],Q=0;Q<80;++Q){var W=Math.floor(Q/20),nt=Un(L,5)+au(W,q,z,G)+P+t[W]+_[Q]>>>0;P=G,G=z,z=Un(q,30)>>>0,q=L,L=nt}n[0]=n[0]+L>>>0,n[1]=n[1]+q>>>0,n[2]=n[2]+z>>>0,n[3]=n[3]+G>>>0,n[4]=n[4]+P>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var fu=Fo("v5",80,uu);const cu="00000000-0000-0000-0000-000000000000";function hu(e){if(!Vr(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}const lu=Object.freeze(Object.defineProperty({__proto__:null,NIL:cu,parse:Lo,stringify:Hr,v1:Wa,v3:ou,v4:su,v5:fu,validate:Vr,version:hu},Symbol.toStringTag,{value:"Module"})),Oo=$n(lu);var Ln,Ki;function du(){if(Ki)return Ln;Ki=1;const e=Oo.v4;return Ln=function(n,r,a,o){if(typeof n!="string")throw new TypeError(n+" must be a string");o=o||{};const l=typeof o.version=="number"?o.version:2;if(l!==1&&l!==2)throw new TypeError(l+" must be 1 or 2");const d={method:n};if(l===2&&(d.jsonrpc="2.0"),r){if(typeof r!="object"&&!Array.isArray(r))throw new TypeError(r+" must be an object, array or omitted");d.params=r}if(typeof a>"u"){const y=typeof o.generator=="function"?o.generator:function(){return e()};d.id=y(d,o)}else l===2&&a===null?o.notificationIdNull&&(d.id=null):d.id=a;return d},Ln}var Fn,Pi;function pu(){if(Pi)return Fn;Pi=1;const e=Oo.v4,t=du(),n=function(r,a){if(!(this instanceof n))return new n(r,a);a||(a={}),this.options={reviver:typeof a.reviver<"u"?a.reviver:null,replacer:typeof a.replacer<"u"?a.replacer:null,generator:typeof a.generator<"u"?a.generator:function(){return e()},version:typeof a.version<"u"?a.version:2,notificationIdNull:typeof a.notificationIdNull=="boolean"?a.notificationIdNull:!1},this.callServer=r};return Fn=n,n.prototype.request=function(r,a,o,l){const d=this;let y=null;const I=Array.isArray(r)&&typeof a=="function";if(this.options.version===1&&I)throw new TypeError("JSON-RPC 1.0 does not support batching");if(I||!I&&r&&typeof r=="object"&&typeof a=="function")l=a,y=r;else{typeof o=="function"&&(l=o,o=void 0);const _=typeof l=="function";try{y=t(r,a,o,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(S){if(_){l(S);return}throw S}if(!_)return y}let U;try{U=JSON.stringify(y,this.options.replacer)}catch(_){l(_);return}return this.callServer(U,function(_,S){d._parseResponse(_,S,l)}),y},n.prototype._parseResponse=function(r,a,o){if(r){o(r);return}if(!a){o();return}let l;try{l=JSON.parse(a,this.options.reviver)}catch(d){o(d);return}if(o.length===3)if(Array.isArray(l)){const d=function(I){return typeof I.error<"u"},y=function(I){return!d(I)};o(null,l.filter(d),l.filter(y));return}else{o(null,l.error,l.result);return}o(null,l)},Fn}pu();var Tn={exports:{}},$i;function gu(){return $i||($i=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(y,I,R){this.fn=y,this.context=I,this.once=R||!1}function o(y,I,R,U,_){if(typeof R!="function")throw new TypeError("The listener must be a function");var S=new a(R,U||y,_),F=n?n+I:I;return y._events[F]?y._events[F].fn?y._events[F]=[y._events[F],S]:y._events[F].push(S):(y._events[F]=S,y._eventsCount++),y}function l(y,I){--y._eventsCount===0?y._events=new r:delete y._events[I]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var I=[],R,U;if(this._eventsCount===0)return I;for(U in R=this._events)t.call(R,U)&&I.push(n?U.slice(1):U);return Object.getOwnPropertySymbols?I.concat(Object.getOwnPropertySymbols(R)):I},d.prototype.listeners=function(I){var R=n?n+I:I,U=this._events[R];if(!U)return[];if(U.fn)return[U.fn];for(var _=0,S=U.length,F=new Array(S);_<S;_++)F[_]=U[_].fn;return F},d.prototype.listenerCount=function(I){var R=n?n+I:I,U=this._events[R];return U?U.fn?1:U.length:0},d.prototype.emit=function(I,R,U,_,S,F){var L=n?n+I:I;if(!this._events[L])return!1;var q=this._events[L],z=arguments.length,G,P;if(q.fn){switch(q.once&&this.removeListener(I,q.fn,void 0,!0),z){case 1:return q.fn.call(q.context),!0;case 2:return q.fn.call(q.context,R),!0;case 3:return q.fn.call(q.context,R,U),!0;case 4:return q.fn.call(q.context,R,U,_),!0;case 5:return q.fn.call(q.context,R,U,_,S),!0;case 6:return q.fn.call(q.context,R,U,_,S,F),!0}for(P=1,G=new Array(z-1);P<z;P++)G[P-1]=arguments[P];q.fn.apply(q.context,G)}else{var Q=q.length,W;for(P=0;P<Q;P++)switch(q[P].once&&this.removeListener(I,q[P].fn,void 0,!0),z){case 1:q[P].fn.call(q[P].context);break;case 2:q[P].fn.call(q[P].context,R);break;case 3:q[P].fn.call(q[P].context,R,U);break;case 4:q[P].fn.call(q[P].context,R,U,_);break;default:if(!G)for(W=1,G=new Array(z-1);W<z;W++)G[W-1]=arguments[W];q[P].fn.apply(q[P].context,G)}}return!0},d.prototype.on=function(I,R,U){return o(this,I,R,U,!1)},d.prototype.once=function(I,R,U){return o(this,I,R,U,!0)},d.prototype.removeListener=function(I,R,U,_){var S=n?n+I:I;if(!this._events[S])return this;if(!R)return l(this,S),this;var F=this._events[S];if(F.fn)F.fn===R&&(!_||F.once)&&(!U||F.context===U)&&l(this,S);else{for(var L=0,q=[],z=F.length;L<z;L++)(F[L].fn!==R||_&&!F[L].once||U&&F[L].context!==U)&&q.push(F[L]);q.length?this._events[S]=q.length===1?q[0]:q:l(this,S)}return this},d.prototype.removeAllListeners=function(I){var R;return I?(R=n?n+I:I,this._events[R]&&l(this,R)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,e.exports=d})(Tn)),Tn.exports}gu();class Co extends Qi{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Xi(t);const r=Hn(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const a=this.blockLen,o=new Uint8Array(a);o.set(r.length>a?t.create().update(r).digest():r);for(let l=0;l<o.length;l++)o[l]^=54;this.iHash.update(o),this.oHash=t.create();for(let l=0;l<o.length;l++)o[l]^=106;this.oHash.update(o),tr(o)}update(t){return kr(this),this.iHash.update(t),this}digestInto(t){kr(this),ze(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:a,destroyed:o,blockLen:l,outputLen:d}=this;return t=t,t.finished=a,t.destroyed=o,t.blockLen=l,t.outputLen=d,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const No=(e,t,n)=>new Co(e,t).update(n).digest();No.create=(e,t)=>new Co(e,t);const Vi=(e,t)=>(e+(e>=0?t:-t)/qo)/t;function yu(e,t,n){const[[r,a],[o,l]]=t,d=Vi(l*e,n),y=Vi(-a*e,n);let I=e-d*r-y*o,R=-d*a-y*l;const U=I<Me,_=R<Me;U&&(I=-I),_&&(R=-R);const S=hr(Math.ceil(so(n)/2))+Je;if(I<Me||I>=S||R<Me||R>=S)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:U,k1:I,k2neg:_,k2:R}}function Dn(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function On(e,t){const n={};for(let r of Object.keys(t))n[r]=e[r]===void 0?t[r]:e[r];return De(n.lowS,"lowS"),De(n.prehash,"prehash"),n.format!==void 0&&Dn(n.format),n}class mu extends Error{constructor(t=""){super(t)}}const Ae={Err:mu,_tlv:{encode:(e,t)=>{const{Err:n}=Ae;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,a=Br(r);if(a.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?Br(a.length/2|128):"";return Br(e)+o+a+t},decode(e,t){const{Err:n}=Ae;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const a=t[r++],o=!!(a&128);let l=0;if(!o)l=a;else{const y=a&127;if(!y)throw new n("tlv.decode(long): indefinite length not supported");if(y>4)throw new n("tlv.decode(long): byte length is too big");const I=t.subarray(r,r+y);if(I.length!==y)throw new n("tlv.decode: length bytes not complete");if(I[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const R of I)l=l<<8|R;if(r+=y,l<128)throw new n("tlv.decode(long): not minimal encoding")}const d=t.subarray(r,r+l);if(d.length!==l)throw new n("tlv.decode: wrong value length");return{v:d,l:t.subarray(r+l)}}},_int:{encode(e){const{Err:t}=Ae;if(e<Me)throw new t("integer: negative integers are not allowed");let n=Br(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Ae;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Pr(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Ae,a=Ut("signature",e),{v:o,l}=r.decode(48,a);if(l.length)throw new t("invalid signature: left bytes after parsing");const{v:d,l:y}=r.decode(2,o),{v:I,l:R}=r.decode(2,y);if(R.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(d),s:n.decode(I)}},hexFromSig(e){const{_tlv:t,_int:n}=Ae,r=t.encode(2,n.encode(e.r)),a=t.encode(2,n.encode(e.s)),o=r+a;return t.encode(48,o)}},Me=BigInt(0),Je=BigInt(1),qo=BigInt(2),Ir=BigInt(3),wu=BigInt(4);function Ye(e,t){const{BYTES:n}=e;let r;if(typeof t=="bigint")r=t;else{let a=Ut("private key",t);try{r=e.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function bu(e,t={}){const n=Bo("weierstrass",e,t),{Fp:r,Fn:a}=n;let o=n.CURVE;const{h:l,n:d}=o;lr(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:y}=t;if(y&&(!r.is0(o.a)||typeof y.beta!="bigint"||!Array.isArray(y.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const I=zo(r,a);function R(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function U(H,g,i){const{x:c,y:p}=g.toAffine(),v=r.toBytes(c);if(De(i,"isCompressed"),i){R();const E=!r.isOdd(p);return be(Do(E),v)}else return be(Uint8Array.of(4),v,r.toBytes(p))}function _(H){ge(H,void 0,"Point");const{publicKey:g,publicKeyUncompressed:i}=I,c=H.length,p=H[0],v=H.subarray(1);if(c===g&&(p===2||p===3)){const E=r.fromBytes(v);if(!r.isValid(E))throw new Error("bad point: is not on curve, wrong x");const A=L(E);let k;try{k=r.sqrt(A)}catch(u){const w=u instanceof Error?": "+u.message:"";throw new Error("bad point: is not on curve, sqrt error"+w)}R();const b=r.isOdd(k);return(p&1)===1!==b&&(k=r.neg(k)),{x:E,y:k}}else if(c===i&&p===4){const E=r.BYTES,A=r.fromBytes(v.subarray(0,E)),k=r.fromBytes(v.subarray(E,E*2));if(!q(A,k))throw new Error("bad point: is not on curve");return{x:A,y:k}}else throw new Error(`bad point: got length ${c}, expected compressed=${g} or uncompressed=${i}`)}const S=t.toBytes||U,F=t.fromBytes||_;function L(H){const g=r.sqr(H),i=r.mul(g,H);return r.add(r.add(i,r.mul(H,o.a)),o.b)}function q(H,g){const i=r.sqr(g),c=L(H);return r.eql(i,c)}if(!q(o.Gx,o.Gy))throw new Error("bad curve params: generator point");const z=r.mul(r.pow(o.a,Ir),wu),G=r.mul(r.sqr(o.b),BigInt(27));if(r.is0(r.add(z,G)))throw new Error("bad curve params: a or b");function P(H,g,i=!1){if(!r.isValid(g)||i&&r.is0(g))throw new Error(`bad point coordinate ${H}`);return g}function Q(H){if(!(H instanceof T))throw new Error("ProjectivePoint expected")}function W(H){if(!y||!y.basises)throw new Error("no endo");return yu(H,y.basises,a.ORDER)}const nt=Ur((H,g)=>{const{X:i,Y:c,Z:p}=H;if(r.eql(p,r.ONE))return{x:i,y:c};const v=H.is0();g==null&&(g=v?r.ONE:r.inv(p));const E=r.mul(i,g),A=r.mul(c,g),k=r.mul(p,g);if(v)return{x:r.ZERO,y:r.ZERO};if(!r.eql(k,r.ONE))throw new Error("invZ was invalid");return{x:E,y:A}}),at=Ur(H=>{if(H.is0()){if(t.allowInfinityPoint&&!r.is0(H.Y))return;throw new Error("bad point: ZERO")}const{x:g,y:i}=H.toAffine();if(!r.isValid(g)||!r.isValid(i))throw new Error("bad point: x or y not field elements");if(!q(g,i))throw new Error("bad point: equation left != right");if(!H.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function it(H,g,i,c,p){return i=new T(r.mul(i.X,H),i.Y,i.Z),g=Lr(c,g),i=Lr(p,i),g.add(i)}class T{constructor(g,i,c){this.X=P("x",g),this.Y=P("y",i,!0),this.Z=P("z",c),Object.freeze(this)}static CURVE(){return o}static fromAffine(g){const{x:i,y:c}=g||{};if(!g||!r.isValid(i)||!r.isValid(c))throw new Error("invalid affine point");if(g instanceof T)throw new Error("projective point not allowed");return r.is0(i)&&r.is0(c)?T.ZERO:new T(i,c,r.ONE)}static fromBytes(g){const i=T.fromAffine(F(ge(g,void 0,"point")));return i.assertValidity(),i}static fromHex(g){return T.fromBytes(Ut("pointHex",g))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(g=8,i=!0){return K.createCache(this,g),i||this.multiply(Ir),this}assertValidity(){at(this)}hasEvenY(){const{y:g}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(g)}equals(g){Q(g);const{X:i,Y:c,Z:p}=this,{X:v,Y:E,Z:A}=g,k=r.eql(r.mul(i,A),r.mul(v,p)),b=r.eql(r.mul(c,A),r.mul(E,p));return k&&b}negate(){return new T(this.X,r.neg(this.Y),this.Z)}double(){const{a:g,b:i}=o,c=r.mul(i,Ir),{X:p,Y:v,Z:E}=this;let A=r.ZERO,k=r.ZERO,b=r.ZERO,s=r.mul(p,p),u=r.mul(v,v),w=r.mul(E,E),B=r.mul(p,v);return B=r.add(B,B),b=r.mul(p,E),b=r.add(b,b),A=r.mul(g,b),k=r.mul(c,w),k=r.add(A,k),A=r.sub(u,k),k=r.add(u,k),k=r.mul(A,k),A=r.mul(B,A),b=r.mul(c,b),w=r.mul(g,w),B=r.sub(s,w),B=r.mul(g,B),B=r.add(B,b),b=r.add(s,s),s=r.add(b,s),s=r.add(s,w),s=r.mul(s,B),k=r.add(k,s),w=r.mul(v,E),w=r.add(w,w),s=r.mul(w,B),A=r.sub(A,s),b=r.mul(w,u),b=r.add(b,b),b=r.add(b,b),new T(A,k,b)}add(g){Q(g);const{X:i,Y:c,Z:p}=this,{X:v,Y:E,Z:A}=g;let k=r.ZERO,b=r.ZERO,s=r.ZERO;const u=o.a,w=r.mul(o.b,Ir);let B=r.mul(i,v),N=r.mul(c,E),j=r.mul(p,A),J=r.add(i,c),tt=r.add(v,E);J=r.mul(J,tt),tt=r.add(B,N),J=r.sub(J,tt),tt=r.add(i,p);let pt=r.add(v,A);return tt=r.mul(tt,pt),pt=r.add(B,j),tt=r.sub(tt,pt),pt=r.add(c,p),k=r.add(E,A),pt=r.mul(pt,k),k=r.add(N,j),pt=r.sub(pt,k),s=r.mul(u,tt),k=r.mul(w,j),s=r.add(k,s),k=r.sub(N,s),s=r.add(N,s),b=r.mul(k,s),N=r.add(B,B),N=r.add(N,B),j=r.mul(u,j),tt=r.mul(w,tt),N=r.add(N,j),j=r.sub(B,j),j=r.mul(u,j),tt=r.add(tt,j),B=r.mul(N,tt),b=r.add(b,B),B=r.mul(pt,tt),k=r.mul(J,k),k=r.sub(k,B),B=r.mul(J,N),s=r.mul(pt,s),s=r.add(s,B),new T(k,b,s)}subtract(g){return this.add(g.negate())}is0(){return this.equals(T.ZERO)}multiply(g){const{endo:i}=t;if(!a.isValidNot0(g))throw new Error("invalid scalar: out of range");let c,p;const v=E=>K.cached(this,E,A=>Ne(T,A));if(i){const{k1neg:E,k1:A,k2neg:k,k2:b}=W(g),{p:s,f:u}=v(A),{p:w,f:B}=v(b);p=u.add(B),c=it(i.beta,s,w,E,k)}else{const{p:E,f:A}=v(g);c=E,p=A}return Ne(T,[c,p])[0]}multiplyUnsafe(g){const{endo:i}=t,c=this;if(!a.isValid(g))throw new Error("invalid scalar: out of range");if(g===Me||c.is0())return T.ZERO;if(g===Je)return c;if(K.hasCache(this))return this.multiply(g);if(i){const{k1neg:p,k1:v,k2neg:E,k2:A}=W(g),{p1:k,p2:b}=zs(T,c,v,A);return it(i.beta,k,b,p,E)}else return K.unsafe(c,g)}multiplyAndAddUnsafe(g,i,c){const p=this.multiplyUnsafe(i).add(g.multiplyUnsafe(c));return p.is0()?void 0:p}toAffine(g){return nt(this,g)}isTorsionFree(){const{isTorsionFree:g}=t;return l===Je?!0:g?g(T,this):K.unsafe(this,d).is0()}clearCofactor(){const{clearCofactor:g}=t;return l===Je?this:g?g(T,this):this.multiplyUnsafe(l)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}toBytes(g=!0){return De(g,"isCompressed"),this.assertValidity(),S(T,this,g)}toHex(g=!0){return qe(this.toBytes(g))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(g=!0){return this.toBytes(g)}_setWindowSize(g){this.precompute(g)}static normalizeZ(g){return Ne(T,g)}static msm(g,i){return Eo(T,a,g,i)}static fromPrivateKey(g){return T.BASE.multiply(Ye(a,g))}}T.BASE=new T(o.Gx,o.Gy,r.ONE),T.ZERO=new T(r.ZERO,r.ONE,r.ZERO),T.Fp=r,T.Fn=a;const C=a.BITS,K=new xo(T,t.endo?Math.ceil(C/2):C);return T.BASE.precompute(8),T}function Do(e){return Uint8Array.of(e?2:3)}function zo(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function vu(e,t={}){const{Fn:n}=e,r=t.randomBytes||Zn,a=Object.assign(zo(e.Fp,n),{seed:wo(n.ORDER)});function o(S){try{return!!Ye(n,S)}catch{return!1}}function l(S,F){const{publicKey:L,publicKeyUncompressed:q}=a;try{const z=S.length;return F===!0&&z!==L||F===!1&&z!==q?!1:!!e.fromBytes(S)}catch{return!1}}function d(S=r(a.seed)){return Ns(ge(S,a.seed,"seed"),n.ORDER)}function y(S,F=!0){return e.BASE.multiply(Ye(n,S)).toBytes(F)}function I(S){const F=d(S);return{secretKey:F,publicKey:y(F)}}function R(S){if(typeof S=="bigint")return!1;if(S instanceof e)return!0;const{secretKey:F,publicKey:L,publicKeyUncompressed:q}=a;if(n.allowedLengths||F===L)return;const z=Ut("key",S).length;return z===L||z===q}function U(S,F,L=!0){if(R(S)===!0)throw new Error("first arg must be private key");if(R(F)===!1)throw new Error("second arg must be public key");const q=Ye(n,S);return e.fromHex(F).multiply(q).toBytes(L)}return Object.freeze({getPublicKey:y,getSharedSecret:U,keygen:I,Point:e,utils:{isValidSecretKey:o,isValidPublicKey:l,randomSecretKey:d,isValidPrivateKey:o,randomPrivateKey:d,normPrivateKeyToScalar:S=>Ye(n,S),precompute(S=8,F=e.BASE){return F.precompute(S,!1)}},lengths:a})}function xu(e,t,n={}){Xi(t),lr(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||Zn,a=n.hmac||((i,...c)=>No(t,i,be(...c))),{Fp:o,Fn:l}=e,{ORDER:d,BITS:y}=l,{keygen:I,getPublicKey:R,getSharedSecret:U,utils:_,lengths:S}=vu(e,n),F={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},L="compact";function q(i){const c=d>>Je;return i>c}function z(i,c){if(!l.isValidNot0(c))throw new Error(`invalid signature ${i}: out of range 1..Point.Fn.ORDER`);return c}function G(i,c){Dn(c);const p=S.signature,v=c==="compact"?p:c==="recovered"?p+1:void 0;return ge(i,v,`${c} signature`)}class P{constructor(c,p,v){this.r=z("r",c),this.s=z("s",p),v!=null&&(this.recovery=v),Object.freeze(this)}static fromBytes(c,p=L){G(c,p);let v;if(p==="der"){const{r:b,s}=Ae.toSig(ge(c));return new P(b,s)}p==="recovered"&&(v=c[0],p="compact",c=c.subarray(1));const E=l.BYTES,A=c.subarray(0,E),k=c.subarray(E,E*2);return new P(l.fromBytes(A),l.fromBytes(k),v)}static fromHex(c,p){return this.fromBytes(Rr(c),p)}addRecoveryBit(c){return new P(this.r,this.s,c)}recoverPublicKey(c){const p=o.ORDER,{r:v,s:E,recovery:A}=this;if(A==null||![0,1,2,3].includes(A))throw new Error("recovery id invalid");if(d*qo<p&&A>1)throw new Error("recovery id is ambiguous for h>1 curve");const b=A===2||A===3?v+d:v;if(!o.isValid(b))throw new Error("recovery id 2 or 3 invalid");const s=o.toBytes(b),u=e.fromBytes(be(Do((A&1)===0),s)),w=l.inv(b),B=W(Ut("msgHash",c)),N=l.create(-B*w),j=l.create(E*w),J=e.BASE.multiplyUnsafe(N).add(u.multiplyUnsafe(j));if(J.is0())throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return q(this.s)}toBytes(c=L){if(Dn(c),c==="der")return Rr(Ae.hexFromSig(this));const p=l.toBytes(this.r),v=l.toBytes(this.s);if(c==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return be(Uint8Array.of(this.recovery),p,v)}return be(p,v)}toHex(c){return qe(this.toBytes(c))}assertValidity(){}static fromCompact(c){return P.fromBytes(Ut("sig",c),"compact")}static fromDER(c){return P.fromBytes(Ut("sig",c),"der")}normalizeS(){return this.hasHighS()?new P(this.r,l.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return qe(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return qe(this.toBytes("compact"))}}const Q=n.bits2int||function(c){if(c.length>8192)throw new Error("input is too large");const p=Pr(c),v=c.length*8-y;return v>0?p>>BigInt(v):p},W=n.bits2int_modN||function(c){return l.create(Q(c))},nt=hr(y);function at(i){return qn("num < 2^"+y,i,Me,nt),l.toBytes(i)}function it(i,c){return ge(i,void 0,"message"),c?ge(t(i),void 0,"prehashed message"):i}function T(i,c,p){if(["recovered","canonical"].some(N=>N in p))throw new Error("sign() legacy options not supported");const{lowS:v,prehash:E,extraEntropy:A}=On(p,F);i=it(i,E);const k=W(i),b=Ye(l,c),s=[at(b),at(k)];if(A!=null&&A!==!1){const N=A===!0?r(S.secretKey):A;s.push(Ut("extraEntropy",N))}const u=be(...s),w=k;function B(N){const j=Q(N);if(!l.isValidNot0(j))return;const J=l.inv(j),tt=e.BASE.multiply(j).toAffine(),pt=l.create(tt.x);if(pt===Me)return;const gt=l.create(J*l.create(w+pt*b));if(gt===Me)return;let mt=(tt.x===pt?0:2)|Number(tt.y&Je),de=gt;return v&&q(gt)&&(de=l.neg(gt),mt^=1),new P(pt,de,mt)}return{seed:u,k2sig:B}}function C(i,c,p={}){i=Ut("message",i);const{seed:v,k2sig:E}=T(i,c,p);return Ms(t.outputLen,l.BYTES,a)(v,E)}function K(i){let c;const p=typeof i=="string"||cr(i),v=!p&&i!==null&&typeof i=="object"&&typeof i.r=="bigint"&&typeof i.s=="bigint";if(!p&&!v)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(v)c=new P(i.r,i.s);else if(p){try{c=P.fromBytes(Ut("sig",i),"der")}catch(E){if(!(E instanceof Ae.Err))throw E}if(!c)try{c=P.fromBytes(Ut("sig",i),"compact")}catch{return!1}}return c||!1}function H(i,c,p,v={}){const{lowS:E,prehash:A,format:k}=On(v,F);if(p=Ut("publicKey",p),c=it(Ut("message",c),A),"strict"in v)throw new Error("options.strict was renamed to lowS");const b=k===void 0?K(i):P.fromBytes(Ut("sig",i),k);if(b===!1)return!1;try{const s=e.fromBytes(p);if(E&&b.hasHighS())return!1;const{r:u,s:w}=b,B=W(c),N=l.inv(w),j=l.create(B*N),J=l.create(u*N),tt=e.BASE.multiplyUnsafe(j).add(s.multiplyUnsafe(J));return tt.is0()?!1:l.create(tt.x)===u}catch{return!1}}function g(i,c,p={}){const{prehash:v}=On(p,F);return c=it(c,v),P.fromBytes(i,"recovered").recoverPublicKey(c).toBytes()}return Object.freeze({keygen:I,getPublicKey:R,getSharedSecret:U,utils:_,lengths:S,Point:e,sign:C,verify:H,recoverPublicKey:g,Signature:P,hash:t})}function Eu(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp;let r=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(l=>Math.ceil(l/2)))):void 0;const a=Ke(t.n,{BITS:e.nBitLength,allowedLengths:r,modFromBytes:e.wrapPrivateKey}),o={Fp:n,Fn:a,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:o}}function Bu(e){const{CURVE:t,curveOpts:n}=Eu(e),r={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,hash:e.hash,ecdsaOpts:r}}function Au(e,t){const n=t.Point;return Object.assign({},t,{ProjectivePoint:n,CURVE:Object.assign({},e,yo(n.Fn.ORDER,n.Fn.BITS))})}function Su(e){const{CURVE:t,curveOpts:n,hash:r,ecdsaOpts:a}=Bu(e),o=bu(t,n),l=xu(o,r,a);return Au(e,l)}function Iu(e,t){const n=r=>Su({...e,hash:r});return{...n(t),create:n}}const ei={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},Mu={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},Hi=BigInt(2);function _u(e){const t=ei.p,n=BigInt(3),r=BigInt(6),a=BigInt(11),o=BigInt(22),l=BigInt(23),d=BigInt(44),y=BigInt(88),I=e*e*e%t,R=I*I*e%t,U=Rt(R,n,t)*R%t,_=Rt(U,n,t)*R%t,S=Rt(_,Hi,t)*I%t,F=Rt(S,a,t)*S%t,L=Rt(F,o,t)*F%t,q=Rt(L,d,t)*L%t,z=Rt(q,y,t)*q%t,G=Rt(z,d,t)*L%t,P=Rt(G,n,t)*R%t,Q=Rt(P,l,t)*F%t,W=Rt(Q,r,t)*I%t,nt=Rt(W,Hi,t);if(!zn.eql(zn.sqr(nt),e))throw new Error("Cannot find square root");return nt}const zn=Ke(ei.p,{sqrt:_u}),ku=Iu({...ei,Fp:zn,lowS:!0,endo:Mu},no);dr.utils.randomPrivateKey;dr.getPublicKey;function Zi(e){try{return dr.ExtendedPoint.fromHex(e),!0}catch{return!1}}const Ko=(e,t)=>dr.sign(e,t.slice(0,32)),Ru=dr.verify,ri=e=>lt.Buffer.isBuffer(e)?e:e instanceof Uint8Array?lt.Buffer.from(e.buffer,e.byteOffset,e.byteLength):lt.Buffer.from(e);class Uu{constructor(t){Object.assign(this,t)}encode(){return lt.Buffer.from(In.serialize(_r,this))}static decode(t){return In.deserialize(_r,this,t)}static decodeUnchecked(t){return In.deserializeUnchecked(_r,this,t)}}const _r=new Map;var Po;const Lu=32,Te=32;function Fu(e){return e._bn!==void 0}let ji=1;class ct extends Uu{constructor(t){if(super({}),this._bn=void 0,Fu(t))this._bn=t._bn;else{if(typeof t=="string"){const n=se.decode(t);if(n.length!=Te)throw new Error("Invalid public key input");this._bn=new Li(n)}else this._bn=new Li(t);if(this._bn.byteLength()>Te)throw new Error("Invalid public key input")}}static unique(){const t=new ct(ji);return ji+=1,new ct(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return se.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(lt.Buffer);if(t.length===Te)return t;const n=lt.Buffer.alloc(32);return t.copy(n,32-t.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,n,r){const a=lt.Buffer.concat([t.toBuffer(),lt.Buffer.from(n),r.toBuffer()]),o=Ci(a);return new ct(o)}static createProgramAddressSync(t,n){let r=lt.Buffer.alloc(0);t.forEach(function(o){if(o.length>Lu)throw new TypeError("Max seed length exceeded");r=lt.Buffer.concat([r,ri(o)])}),r=lt.Buffer.concat([r,n.toBuffer(),lt.Buffer.from("ProgramDerivedAddress")]);const a=Ci(r);if(Zi(a))throw new Error("Invalid seeds, address must fall off the curve");return new ct(a)}static async createProgramAddress(t,n){return this.createProgramAddressSync(t,n)}static findProgramAddressSync(t,n){let r=255,a;for(;r!=0;){try{const o=t.concat(lt.Buffer.from([r]));a=this.createProgramAddressSync(o,n)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[a,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,n){return this.findProgramAddressSync(t,n)}static isOnCurve(t){const n=new ct(t);return Zi(n.toBytes())}}Po=ct;ct.default=new Po("11111111111111111111111111111111");_r.set(ct,{kind:"struct",fields:[["_bn","u256"]]});new ct("BPFLoader1111111111111111111111111111111111");const Qe=1232,ni=127,qr=64;class Dr{constructor(t,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=n}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const n of this.keySegments()){if(t<n.length)return n[t];t-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((o,l)=>{r.set(o.toBase58(),l)});const a=o=>{const l=r.get(o.toBase58());if(l===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return l};return t.map(o=>({programIdIndex:a(o.programId),accountKeyIndexes:o.keys.map(l=>a(l.pubkey)),data:o.data}))}}const dt=(e="publicKey")=>M.blob(32,e),Tu=(e="signature")=>M.blob(64,e),We=(e="string")=>{const t=M.struct([M.u32("length"),M.u32("lengthPadding"),M.blob(M.offset(M.u32(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t),a=t;return a.decode=(o,l)=>n(o,l).chars.toString(),a.encode=(o,l,d)=>{const y={chars:lt.Buffer.from(o,"utf8")};return r(y,l,d)},a.alloc=o=>M.u32().span+M.u32().span+lt.Buffer.from(o,"utf8").length,a},Ou=(e="authorized")=>M.struct([dt("staker"),dt("withdrawer")],e),Cu=(e="lockup")=>M.struct([M.ns64("unixTimestamp"),M.ns64("epoch"),dt("custodian")],e),Nu=(e="voteInit")=>M.struct([dt("nodePubkey"),dt("authorizedVoter"),dt("authorizedWithdrawer"),M.u8("commission")],e),qu=(e="voteAuthorizeWithSeedArgs")=>M.struct([M.u32("voteAuthorizationType"),dt("currentAuthorityDerivedKeyOwnerPubkey"),We("currentAuthorityDerivedKeySeed"),dt("newAuthorized")],e);function ce(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(r&127)<<n*7,n+=1,(r&128)===0)break}return t}function he(e,t){let n=t;for(;;){let r=n&127;if(n>>=7,n==0){e.push(r);break}else r|=128,e.push(r)}}function Xt(e,t){if(!e)throw new Error(t||"Assertion failed")}class jr{constructor(t,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=n}static compile(t,n){const r=new Map,a=l=>{const d=l.toBase58();let y=r.get(d);return y===void 0&&(y={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(d,y)),y},o=a(n);o.isSigner=!0,o.isWritable=!0;for(const l of t){a(l.programId).isInvoked=!0;for(const d of l.keys){const y=a(d.pubkey);y.isSigner||=d.isSigner,y.isWritable||=d.isWritable}}return new jr(n,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];Xt(t.length<=256,"Max static account keys length exceeded");const n=t.filter(([,y])=>y.isSigner&&y.isWritable),r=t.filter(([,y])=>y.isSigner&&!y.isWritable),a=t.filter(([,y])=>!y.isSigner&&y.isWritable),o=t.filter(([,y])=>!y.isSigner&&!y.isWritable),l={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:o.length};{Xt(n.length>0,"Expected at least one writable signer key");const[y]=n[0];Xt(y===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const d=[...n.map(([y])=>new ct(y)),...r.map(([y])=>new ct(y)),...a.map(([y])=>new ct(y)),...o.map(([y])=>new ct(y))];return[l,d]}extractTableLookup(t){const[n,r]=this.drainKeysFoundInLookupTable(t.state.addresses,l=>!l.isSigner&&!l.isInvoked&&l.isWritable),[a,o]=this.drainKeysFoundInLookupTable(t.state.addresses,l=>!l.isSigner&&!l.isInvoked&&!l.isWritable);if(!(n.length===0&&a.length===0))return[{accountKey:t.key,writableIndexes:n,readonlyIndexes:a},{writable:r,readonly:o}]}drainKeysFoundInLookupTable(t,n){const r=new Array,a=new Array;for(const[o,l]of this.keyMetaMap.entries())if(n(l)){const d=new ct(o),y=t.findIndex(I=>I.equals(d));y>=0&&(Xt(y<256,"Max lookup table index exceeded"),r.push(y),a.push(d),this.keyMetaMap.delete(o))}return[r,a]}}const $o="Reached end of buffer unexpectedly";function Ie(e){if(e.length===0)throw new Error($o);return e.shift()}function le(e,...t){const[n]=t;if(t.length===2?n+(t[1]??0)>e.length:n>=e.length)throw new Error($o);return e.splice(...t)}class nr{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(n=>new ct(n)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:se.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Dr(this.staticAccountKeys)}static compile(t){const n=jr.compile(t.instructions,t.payerKey),[r,a]=n.getMessageComponents(),l=new Dr(a).compileInstructions(t.instructions).map(d=>({programIdIndex:d.programIdIndex,accounts:d.accountKeyIndexes,data:se.encode(d.data)}));return new nr({header:r,accountKeys:a,recentBlockhash:t.recentBlockhash,instructions:l})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const r=t-n,o=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<o}else{const r=n-this.header.numReadonlySignedAccounts;return t<r}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,n)=>!this.isProgramId(n))}serialize(){const t=this.accountKeys.length;let n=[];he(n,t);const r=this.instructions.map(U=>{const{accounts:_,programIdIndex:S}=U,F=Array.from(se.decode(U.data));let L=[];he(L,_.length);let q=[];return he(q,F.length),{programIdIndex:S,keyIndicesCount:lt.Buffer.from(L),keyIndices:_,dataLength:lt.Buffer.from(q),data:F}});let a=[];he(a,r.length);let o=lt.Buffer.alloc(Qe);lt.Buffer.from(a).copy(o);let l=a.length;r.forEach(U=>{const S=M.struct([M.u8("programIdIndex"),M.blob(U.keyIndicesCount.length,"keyIndicesCount"),M.seq(M.u8("keyIndex"),U.keyIndices.length,"keyIndices"),M.blob(U.dataLength.length,"dataLength"),M.seq(M.u8("userdatum"),U.data.length,"data")]).encode(U,o,l);l+=S}),o=o.slice(0,l);const d=M.struct([M.blob(1,"numRequiredSignatures"),M.blob(1,"numReadonlySignedAccounts"),M.blob(1,"numReadonlyUnsignedAccounts"),M.blob(n.length,"keyCount"),M.seq(dt("key"),t,"keys"),dt("recentBlockhash")]),y={numRequiredSignatures:lt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:lt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:lt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:lt.Buffer.from(n),keys:this.accountKeys.map(U=>ri(U.toBytes())),recentBlockhash:se.decode(this.recentBlockhash)};let I=lt.Buffer.alloc(2048);const R=d.encode(y,I);return o.copy(I,R),I.slice(0,R+o.length)}static from(t){let n=[...t];const r=Ie(n);if(r!==(r&ni))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const a=Ie(n),o=Ie(n),l=ce(n);let d=[];for(let _=0;_<l;_++){const S=le(n,0,Te);d.push(new ct(lt.Buffer.from(S)))}const y=le(n,0,Te),I=ce(n);let R=[];for(let _=0;_<I;_++){const S=Ie(n),F=ce(n),L=le(n,0,F),q=ce(n),z=le(n,0,q),G=se.encode(lt.Buffer.from(z));R.push({programIdIndex:S,accounts:L,data:G})}const U={header:{numRequiredSignatures:r,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:o},recentBlockhash:se.encode(lt.Buffer.from(y)),accountKeys:d,instructions:R};return new nr(U)}}class zr{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const n of this.addressTableLookups)t+=n.readonlyIndexes.length+n.writableIndexes.length;return t}getAccountKeys(t){let n;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)n=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Dr(this.staticAccountKeys,n)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(t>=r){const a=t-r,o=this.addressTableLookups.reduce((l,d)=>l+d.writableIndexes.length,0);return a<o}else if(t>=this.header.numRequiredSignatures){const a=t-n,l=r-n-this.header.numReadonlyUnsignedAccounts;return a<l}else{const a=n-this.header.numReadonlySignedAccounts;return t<a}}resolveAddressTableLookups(t){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const a=t.find(o=>o.key.equals(r.accountKey));if(!a)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const o of r.writableIndexes)if(o<a.state.addresses.length)n.writable.push(a.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`);for(const o of r.readonlyIndexes)if(o<a.state.addresses.length)n.readonly.push(a.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(t){const n=jr.compile(t.instructions,t.payerKey),r=new Array,a={writable:new Array,readonly:new Array},o=t.addressLookupTableAccounts||[];for(const R of o){const U=n.extractTableLookup(R);if(U!==void 0){const[_,{writable:S,readonly:F}]=U;r.push(_),a.writable.push(...S),a.readonly.push(...F)}}const[l,d]=n.getMessageComponents(),I=new Dr(d,a).compileInstructions(t.instructions);return new zr({header:l,staticAccountKeys:d,recentBlockhash:t.recentBlockhash,compiledInstructions:I,addressTableLookups:r})}serialize(){const t=Array();he(t,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();he(r,this.compiledInstructions.length);const a=this.serializeAddressTableLookups(),o=Array();he(o,this.addressTableLookups.length);const l=M.struct([M.u8("prefix"),M.struct([M.u8("numRequiredSignatures"),M.u8("numReadonlySignedAccounts"),M.u8("numReadonlyUnsignedAccounts")],"header"),M.blob(t.length,"staticAccountKeysLength"),M.seq(dt(),this.staticAccountKeys.length,"staticAccountKeys"),dt("recentBlockhash"),M.blob(r.length,"instructionsLength"),M.blob(n.length,"serializedInstructions"),M.blob(o.length,"addressTableLookupsLength"),M.blob(a.length,"serializedAddressTableLookups")]),d=new Uint8Array(Qe),I=l.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(R=>R.toBytes()),recentBlockhash:se.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:a},d);return d.slice(0,I)}serializeInstructions(){let t=0;const n=new Uint8Array(Qe);for(const r of this.compiledInstructions){const a=Array();he(a,r.accountKeyIndexes.length);const o=Array();he(o,r.data.length);const l=M.struct([M.u8("programIdIndex"),M.blob(a.length,"encodedAccountKeyIndexesLength"),M.seq(M.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),M.blob(o.length,"encodedDataLength"),M.blob(r.data.length,"data")]);t+=l.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(a),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:r.data},n,t)}return n.slice(0,t)}serializeAddressTableLookups(){let t=0;const n=new Uint8Array(Qe);for(const r of this.addressTableLookups){const a=Array();he(a,r.writableIndexes.length);const o=Array();he(o,r.readonlyIndexes.length);const l=M.struct([dt("accountKey"),M.blob(a.length,"encodedWritableIndexesLength"),M.seq(M.u8(),r.writableIndexes.length,"writableIndexes"),M.blob(o.length,"encodedReadonlyIndexesLength"),M.seq(M.u8(),r.readonlyIndexes.length,"readonlyIndexes")]);t+=l.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(a),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:r.readonlyIndexes},n,t)}return n.slice(0,t)}static deserialize(t){let n=[...t];const r=Ie(n),a=r&ni;Xt(r!==a,"Expected versioned message but received legacy message");const o=a;Xt(o===0,`Expected versioned message with version 0 but found version ${o}`);const l={numRequiredSignatures:Ie(n),numReadonlySignedAccounts:Ie(n),numReadonlyUnsignedAccounts:Ie(n)},d=[],y=ce(n);for(let F=0;F<y;F++)d.push(new ct(le(n,0,Te)));const I=se.encode(le(n,0,Te)),R=ce(n),U=[];for(let F=0;F<R;F++){const L=Ie(n),q=ce(n),z=le(n,0,q),G=ce(n),P=new Uint8Array(le(n,0,G));U.push({programIdIndex:L,accountKeyIndexes:z,data:P})}const _=ce(n),S=[];for(let F=0;F<_;F++){const L=new ct(le(n,0,Te)),q=ce(n),z=le(n,0,q),G=ce(n),P=le(n,0,G);S.push({accountKey:L,writableIndexes:z,readonlyIndexes:P})}return new zr({header:l,staticAccountKeys:d,recentBlockhash:I,compiledInstructions:U,addressTableLookups:S})}}const Vo={deserializeMessageVersion(e){const t=e[0],n=t&ni;return n===t?"legacy":n},deserialize:e=>{const t=Vo.deserializeMessageVersion(e);if(t==="legacy")return nr.from(e);if(t===0)return zr.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}},Du=lt.Buffer.alloc(qr).fill(0);class Gi{constructor(t){this.keys=void 0,this.programId=void 0,this.data=lt.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:n,isWritable:r})=>({pubkey:t.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Kn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=t;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=t;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new Gi(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(t=this.recentBlockhash,n=this.instructions),!t)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let L=0;L<n.length;L++)if(n[L].programId===void 0)throw new Error(`Transaction instruction index ${L} has undefined program id`);const a=[],o=[];n.forEach(L=>{L.keys.forEach(z=>{o.push({...z})});const q=L.programId.toString();a.includes(q)||a.push(q)}),a.forEach(L=>{o.push({pubkey:new ct(L),isSigner:!1,isWritable:!1})});const l=[];o.forEach(L=>{const q=L.pubkey.toString(),z=l.findIndex(G=>G.pubkey.toString()===q);z>-1?(l[z].isWritable=l[z].isWritable||L.isWritable,l[z].isSigner=l[z].isSigner||L.isSigner):l.push(L)}),l.sort(function(L,q){if(L.isSigner!==q.isSigner)return L.isSigner?-1:1;if(L.isWritable!==q.isWritable)return L.isWritable?-1:1;const z={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return L.pubkey.toBase58().localeCompare(q.pubkey.toBase58(),"en",z)});const d=l.findIndex(L=>L.pubkey.equals(r));if(d>-1){const[L]=l.splice(d,1);L.isSigner=!0,L.isWritable=!0,l.unshift(L)}else l.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const L of this.signatures){const q=l.findIndex(z=>z.pubkey.equals(L.publicKey));if(q>-1)l[q].isSigner||(l[q].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${L.publicKey.toString()}`)}let y=0,I=0,R=0;const U=[],_=[];l.forEach(({pubkey:L,isSigner:q,isWritable:z})=>{q?(U.push(L.toString()),y+=1,z||(I+=1)):(_.push(L.toString()),z||(R+=1))});const S=U.concat(_),F=n.map(L=>{const{data:q,programId:z}=L;return{programIdIndex:S.indexOf(z.toString()),accounts:L.keys.map(G=>S.indexOf(G.pubkey.toString())),data:se.encode(q)}});return F.forEach(L=>{Xt(L.programIdIndex>=0),L.accounts.forEach(q=>Xt(q>=0))}),new nr({header:{numRequiredSignatures:y,numReadonlySignedAccounts:I,numReadonlyUnsignedAccounts:R},accountKeys:S,recentBlockhash:t,instructions:F})}_compile(){const t=this.compileMessage(),n=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((a,o)=>n[o].equals(a.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const n=new Set;this.signatures=t.filter(r=>{const a=r.toString();return n.has(a)?!1:(n.add(a),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of t){const l=o.publicKey.toString();n.has(l)||(n.add(l),r.push(o))}this.signatures=r.map(o=>({signature:null,publicKey:o.publicKey}));const a=this._compile();this._partialSign(a,...r)}partialSign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of t){const l=o.publicKey.toString();n.has(l)||(n.add(l),r.push(o))}const a=this._compile();this._partialSign(a,...r)}_partialSign(t,...n){const r=t.serialize();n.forEach(a=>{const o=Ko(r,a.secretKey);this._addSignature(a.publicKey,ri(o))})}addSignature(t,n){this._compile(),this._addSignature(t,n)}_addSignature(t,n){Xt(n.length===64);const r=this.signatures.findIndex(a=>t.equals(a.publicKey));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=lt.Buffer.from(n)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,n){const r={};for(const{signature:a,publicKey:o}of this.signatures)a===null?n&&(r.missing||=[]).push(o):Ru(a,t,o.toBytes())||(r.invalid||=[]).push(o);return r.invalid||r.missing?r:void 0}serialize(t){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),a=this.serializeMessage();if(r){const o=this._getMessageSignednessErrors(a,n);if(o){let l="Signature verification failed.";throw o.invalid&&(l+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(d=>d.toBase58()).join("`, `")}\`].`),o.missing&&(l+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(d=>d.toBase58()).join("`, `")}\`].`),new Error(l)}}return this._serialize(a)}_serialize(t){const{signatures:n}=this,r=[];he(r,n.length);const a=r.length+n.length*64+t.length,o=lt.Buffer.alloc(a);return Xt(n.length<256),lt.Buffer.from(r).copy(o,0),n.forEach(({signature:l},d)=>{l!==null&&(Xt(l.length===64,"signature has invalid length"),lt.Buffer.from(l).copy(o,r.length+d*64))}),t.copy(o,r.length+n.length*64),Xt(o.length<=Qe,`Transaction too large: ${o.length} > ${Qe}`),o}get keys(){return Xt(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return Xt(this.instructions.length===1),this.instructions[0].programId}get data(){return Xt(this.instructions.length===1),this.instructions[0].data}static from(t){let n=[...t];const r=ce(n);let a=[];for(let o=0;o<r;o++){const l=le(n,0,qr);a.push(se.encode(lt.Buffer.from(l)))}return Kn.populate(nr.from(n),a)}static populate(t,n=[]){const r=new Kn;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),n.forEach((a,o)=>{const l={signature:a==se.encode(Du)?null:se.decode(a),publicKey:t.accountKeys[o]};r.signatures.push(l)}),t.instructions.forEach(a=>{const o=a.accounts.map(l=>{const d=t.accountKeys[l];return{pubkey:d,isSigner:r.signatures.some(y=>y.publicKey.toString()===d.toString())||t.isAccountSigner(l),isWritable:t.isAccountWritable(l)}});r.instructions.push(new Gi({keys:o,programId:t.accountKeys[a.programIdIndex],data:se.decode(a.data)}))}),r._message=t,r._json=r.toJSON(),r}}class Ho{get version(){return this.message.version}constructor(t,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)Xt(n.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let a=0;a<t.header.numRequiredSignatures;a++)r.push(new Uint8Array(qr));this.signatures=r}this.message=t}serialize(){const t=this.message.serialize(),n=Array();he(n,this.signatures.length);const r=M.struct([M.blob(n.length,"encodedSignaturesLength"),M.seq(Tu(),this.signatures.length,"signatures"),M.blob(t.length,"serializedMessage")]),a=new Uint8Array(2048),o=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:t},a);return a.slice(0,o)}static deserialize(t){let n=[...t];const r=[],a=ce(n);for(let l=0;l<a;l++)r.push(new Uint8Array(le(n,0,qr)));const o=Vo.deserialize(new Uint8Array(n));return new Ho(o,r)}sign(t){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const a of t){const o=r.findIndex(l=>l.equals(a.publicKey));Xt(o>=0,`Cannot sign with non signer key ${a.publicKey.toBase58()}`),this.signatures[o]=Ko(n,a.secretKey)}}addSignature(t,n){Xt(n.byteLength===64,"Signature must be 64 bytes long");const a=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(t));Xt(a>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[a]=n}}new ct("SysvarC1ock11111111111111111111111111111111");new ct("SysvarEpochSchedu1e111111111111111111111111");new ct("Sysvar1nstructions1111111111111111111111111");new ct("SysvarRecentB1ockHashes11111111111111111111");new ct("SysvarRent111111111111111111111111111111111");new ct("SysvarRewards111111111111111111111111111111");new ct("SysvarS1otHashes111111111111111111111111111");new ct("SysvarS1otHistory11111111111111111111111111");new ct("SysvarStakeHistory1111111111111111111111111");const zu=M.nu64("lamportsPerSignature"),Ku=M.struct([M.u32("version"),M.u32("state"),dt("authorizedPubkey"),dt("nonce"),M.struct([zu],"feeCalculator")]);Ku.span;function ir(e){const t=M.blob(8,e),n=t.decode.bind(t),r=t.encode.bind(t),a=t,o=Da();return a.decode=(l,d)=>{const y=n(l,d);return o.decode(y)},a.encode=(l,d,y)=>{const I=o.encode(l);return r(I,d,y)},a}Object.freeze({Create:{index:0,layout:M.struct([M.u32("instruction"),M.ns64("lamports"),M.ns64("space"),dt("programId")])},Assign:{index:1,layout:M.struct([M.u32("instruction"),dt("programId")])},Transfer:{index:2,layout:M.struct([M.u32("instruction"),ir("lamports")])},CreateWithSeed:{index:3,layout:M.struct([M.u32("instruction"),dt("base"),We("seed"),M.ns64("lamports"),M.ns64("space"),dt("programId")])},AdvanceNonceAccount:{index:4,layout:M.struct([M.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:M.struct([M.u32("instruction"),M.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:M.struct([M.u32("instruction"),dt("authorized")])},AuthorizeNonceAccount:{index:7,layout:M.struct([M.u32("instruction"),dt("authorized")])},Allocate:{index:8,layout:M.struct([M.u32("instruction"),M.ns64("space")])},AllocateWithSeed:{index:9,layout:M.struct([M.u32("instruction"),dt("base"),We("seed"),M.ns64("space"),dt("programId")])},AssignWithSeed:{index:10,layout:M.struct([M.u32("instruction"),dt("base"),We("seed"),dt("programId")])},TransferWithSeed:{index:11,layout:M.struct([M.u32("instruction"),ir("lamports"),We("seed"),dt("programId")])},UpgradeNonceAccount:{index:12,layout:M.struct([M.u32("instruction")])}});new ct("11111111111111111111111111111111");new ct("BPFLoader2111111111111111111111111111111111");M.struct([M.u32("typeIndex"),ir("deactivationSlot"),M.nu64("lastExtendedSlot"),M.u8("lastExtendedStartIndex"),M.u8(),M.seq(dt(),M.offset(M.u8(),-1),"authority")]);const Lt=yr(Qn(ct),X(),e=>new ct(e)),Zo=ti([X(),St("base64")]),ii=yr(Qn(lt.Buffer),Zo,e=>lt.Buffer.from(e[0],"base64"));function jo(e){return ae([Y({jsonrpc:St("2.0"),id:X(),result:e}),Y({jsonrpc:St("2.0"),id:X(),error:Y({code:or(),message:X(),data:ot(Za())})})])}const Pu=jo(or());function bt(e){return yr(jo(e),Pu,t=>"error"in t?t:{...t,result:fr(t.result,e)})}function me(e){return bt(Y({context:Y({slot:$()}),value:e}))}function Gr(e){return Y({context:Y({slot:$()}),value:e})}const $u=Y({foundation:$(),foundationTerm:$(),initial:$(),taper:$(),terminal:$()});bt(et(rt(Y({epoch:$(),effectiveSlot:$(),amount:$(),postBalance:$(),commission:ot(rt($()))}))));const Vu=et(Y({slot:$(),prioritizationFee:$()})),Hu=Y({total:$(),validator:$(),foundation:$(),epoch:$()}),Zu=Y({epoch:$(),slotIndex:$(),slotsInEpoch:$(),absoluteSlot:$(),blockHeight:ot($()),transactionCount:ot($())}),ju=Y({slotsPerEpoch:$(),leaderScheduleSlotOffset:$(),warmup:ve(),firstNormalEpoch:$(),firstNormalSlot:$()}),Gu=Ro(X(),et($())),$e=rt(ae([Y({}),X()])),Yu=Y({err:$e}),Wu=St("receivedSignature");Y({"solana-core":X(),"feature-set":ot($())});const Xu=Y({program:X(),programId:Lt,parsed:or()}),Ju=Y({programId:Lt,accounts:et(Lt),data:X()});me(Y({err:rt(ae([Y({}),X()])),logs:rt(et(X())),accounts:ot(rt(et(rt(Y({executable:ve(),owner:X(),lamports:$(),data:et(X()),rentEpoch:ot($())}))))),unitsConsumed:ot($()),returnData:ot(rt(Y({programId:X(),data:ti([X(),St("base64")])}))),innerInstructions:ot(rt(et(Y({index:$(),instructions:et(ae([Xu,Ju]))}))))}));me(Y({byIdentity:Ro(X(),et($())),range:Y({firstSlot:$(),lastSlot:$()})}));bt($u);bt(Hu);bt(Vu);bt(Zu);bt(ju);bt(Gu);bt($());me(Y({total:$(),circulating:$(),nonCirculating:$(),nonCirculatingAccounts:et(Lt)}));const Qu=Y({amount:X(),uiAmount:rt($()),decimals:$(),uiAmountString:ot(X())});me(et(Y({address:Lt,amount:X(),uiAmount:rt($()),decimals:$(),uiAmountString:ot(X())})));me(et(Y({pubkey:Lt,account:Y({executable:ve(),owner:Lt,lamports:$(),data:ii,rentEpoch:$()})})));const Pn=Y({program:X(),parsed:or(),space:$()});me(et(Y({pubkey:Lt,account:Y({executable:ve(),owner:Lt,lamports:$(),data:Pn,rentEpoch:$()})})));me(et(Y({lamports:$(),address:Lt})));const oi=Y({executable:ve(),owner:Lt,lamports:$(),data:ii,rentEpoch:$()});Y({pubkey:Lt,account:oi});const tf=yr(ae([Qn(lt.Buffer),Pn]),ae([Zo,Pn]),e=>Array.isArray(e)?fr(e,ii):e),ef=Y({executable:ve(),owner:Lt,lamports:$(),data:tf,rentEpoch:$()});Y({pubkey:Lt,account:ef});Y({state:ae([St("active"),St("inactive"),St("activating"),St("deactivating")]),active:$(),inactive:$()});bt(et(Y({signature:X(),slot:$(),err:$e,memo:rt(X()),blockTime:ot(rt($()))})));bt(et(Y({signature:X(),slot:$(),err:$e,memo:rt(X()),blockTime:ot(rt($()))})));Y({subscription:$(),result:Gr(oi)});const rf=Y({pubkey:Lt,account:oi});Y({subscription:$(),result:Gr(rf)});const nf=Y({parent:$(),slot:$(),root:$()});Y({subscription:$(),result:nf});const of=ae([Y({type:ae([St("firstShredReceived"),St("completed"),St("optimisticConfirmation"),St("root")]),slot:$(),timestamp:$()}),Y({type:St("createdBank"),parent:$(),slot:$(),timestamp:$()}),Y({type:St("frozen"),slot:$(),timestamp:$(),stats:Y({numTransactionEntries:$(),numSuccessfulTransactions:$(),numFailedTransactions:$(),maxTransactionsPerEntry:$()})}),Y({type:St("dead"),slot:$(),timestamp:$(),err:X()})]);Y({subscription:$(),result:of});Y({subscription:$(),result:Gr(ae([Yu,Wu]))});Y({subscription:$(),result:$()});Y({pubkey:X(),gossip:rt(X()),tpu:rt(X()),rpc:rt(X()),version:rt(X())});const Yi=Y({votePubkey:X(),nodePubkey:X(),activatedStake:$(),epochVoteAccount:ve(),epochCredits:et(ti([$(),$(),$()])),commission:$(),lastVote:$(),rootSlot:rt($())});bt(Y({current:et(Yi),delinquent:et(Yi)}));const sf=ae([St("processed"),St("confirmed"),St("finalized")]),af=Y({slot:$(),confirmations:rt($()),err:$e,confirmationStatus:ot(sf)});me(et(rt(af)));bt($());const Go=Y({accountKey:Lt,writableIndexes:et($()),readonlyIndexes:et($())}),si=Y({signatures:et(X()),message:Y({accountKeys:et(X()),header:Y({numRequiredSignatures:$(),numReadonlySignedAccounts:$(),numReadonlyUnsignedAccounts:$()}),instructions:et(Y({accounts:et($()),data:X(),programIdIndex:$()})),recentBlockhash:X(),addressTableLookups:ot(et(Go))})}),Yo=Y({pubkey:Lt,signer:ve(),writable:ve(),source:ot(ae([St("transaction"),St("lookupTable")]))}),Wo=Y({accountKeys:et(Yo),signatures:et(X())}),Xo=Y({parsed:or(),program:X(),programId:Lt}),Jo=Y({accounts:et(Lt),data:X(),programId:Lt}),uf=ae([Jo,Xo]),ff=ae([Y({parsed:or(),program:X(),programId:X()}),Y({accounts:et(X()),data:X(),programId:X()})]),Qo=yr(uf,ff,e=>"accounts"in e?fr(e,Jo):fr(e,Xo)),ts=Y({signatures:et(X()),message:Y({accountKeys:et(Yo),instructions:et(Qo),recentBlockhash:X(),addressTableLookups:ot(rt(et(Go)))})}),Kr=Y({accountIndex:$(),mint:X(),owner:ot(X()),programId:ot(X()),uiTokenAmount:Qu}),es=Y({writable:et(Lt),readonly:et(Lt)}),Yr=Y({err:$e,fee:$(),innerInstructions:ot(rt(et(Y({index:$(),instructions:et(Y({accounts:et($()),data:X(),programIdIndex:$()}))})))),preBalances:et($()),postBalances:et($()),logMessages:ot(rt(et(X()))),preTokenBalances:ot(rt(et(Kr))),postTokenBalances:ot(rt(et(Kr))),loadedAddresses:ot(es),computeUnitsConsumed:ot($()),costUnits:ot($())}),ai=Y({err:$e,fee:$(),innerInstructions:ot(rt(et(Y({index:$(),instructions:et(Qo)})))),preBalances:et($()),postBalances:et($()),logMessages:ot(rt(et(X()))),preTokenBalances:ot(rt(et(Kr))),postTokenBalances:ot(rt(et(Kr))),loadedAddresses:ot(es),computeUnitsConsumed:ot($()),costUnits:ot($())}),sr=ae([St(0),St("legacy")]),Ve=Y({pubkey:X(),lamports:$(),postBalance:rt($()),rewardType:rt(X()),commission:ot(rt($()))});bt(rt(Y({blockhash:X(),previousBlockhash:X(),parentSlot:$(),transactions:et(Y({transaction:si,meta:rt(Yr),version:ot(sr)})),rewards:ot(et(Ve)),blockTime:rt($()),blockHeight:rt($())})));bt(rt(Y({blockhash:X(),previousBlockhash:X(),parentSlot:$(),rewards:ot(et(Ve)),blockTime:rt($()),blockHeight:rt($())})));bt(rt(Y({blockhash:X(),previousBlockhash:X(),parentSlot:$(),transactions:et(Y({transaction:Wo,meta:rt(Yr),version:ot(sr)})),rewards:ot(et(Ve)),blockTime:rt($()),blockHeight:rt($())})));bt(rt(Y({blockhash:X(),previousBlockhash:X(),parentSlot:$(),transactions:et(Y({transaction:ts,meta:rt(ai),version:ot(sr)})),rewards:ot(et(Ve)),blockTime:rt($()),blockHeight:rt($())})));bt(rt(Y({blockhash:X(),previousBlockhash:X(),parentSlot:$(),transactions:et(Y({transaction:Wo,meta:rt(ai),version:ot(sr)})),rewards:ot(et(Ve)),blockTime:rt($()),blockHeight:rt($())})));bt(rt(Y({blockhash:X(),previousBlockhash:X(),parentSlot:$(),rewards:ot(et(Ve)),blockTime:rt($()),blockHeight:rt($())})));bt(rt(Y({blockhash:X(),previousBlockhash:X(),parentSlot:$(),transactions:et(Y({transaction:si,meta:rt(Yr)})),rewards:ot(et(Ve)),blockTime:rt($())})));bt(rt(Y({blockhash:X(),previousBlockhash:X(),parentSlot:$(),signatures:et(X()),blockTime:rt($())})));bt(rt(Y({slot:$(),meta:rt(Yr),blockTime:ot(rt($())),transaction:si,version:ot(sr)})));bt(rt(Y({slot:$(),transaction:ts,meta:rt(ai),blockTime:ot(rt($())),version:ot(sr)})));me(Y({blockhash:X(),lastValidBlockHeight:$()}));me(ve());const cf=Y({slot:$(),numTransactions:$(),numSlots:$(),samplePeriodSecs:$()});bt(et(cf));me(rt(Y({feeCalculator:Y({lamportsPerSignature:$()})})));bt(X());bt(X());const hf=Y({err:$e,logs:et(X()),signature:X()});Y({result:Gr(hf),subscription:$()});Object.freeze({CreateLookupTable:{index:0,layout:M.struct([M.u32("instruction"),ir("recentSlot"),M.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:M.struct([M.u32("instruction")])},ExtendLookupTable:{index:2,layout:M.struct([M.u32("instruction"),ir(),M.seq(dt(),M.offset(M.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:M.struct([M.u32("instruction")])},CloseLookupTable:{index:4,layout:M.struct([M.u32("instruction")])}});new ct("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:M.struct([M.u8("instruction"),M.u32("units"),M.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:M.struct([M.u8("instruction"),M.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:M.struct([M.u8("instruction"),M.u32("units")])},SetComputeUnitPrice:{index:3,layout:M.struct([M.u8("instruction"),ir("microLamports")])}});new ct("ComputeBudget111111111111111111111111111111");M.struct([M.u8("numSignatures"),M.u8("padding"),M.u16("signatureOffset"),M.u16("signatureInstructionIndex"),M.u16("publicKeyOffset"),M.u16("publicKeyInstructionIndex"),M.u16("messageDataOffset"),M.u16("messageDataSize"),M.u16("messageInstructionIndex")]);new ct("Ed25519SigVerify111111111111111111111111111");ku.utils.isValidPrivateKey;M.struct([M.u8("numSignatures"),M.u16("signatureOffset"),M.u8("signatureInstructionIndex"),M.u16("ethAddressOffset"),M.u8("ethAddressInstructionIndex"),M.u16("messageDataOffset"),M.u16("messageDataSize"),M.u8("messageInstructionIndex"),M.blob(20,"ethAddress"),M.blob(64,"signature"),M.u8("recoveryId")]);new ct("KeccakSecp256k11111111111111111111111111111");var rs;new ct("StakeConfig11111111111111111111111111111111");class ns{constructor(t,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=n,this.custodian=r}}rs=ns;ns.default=new rs(0,0,ct.default);Object.freeze({Initialize:{index:0,layout:M.struct([M.u32("instruction"),Ou(),Cu()])},Authorize:{index:1,layout:M.struct([M.u32("instruction"),dt("newAuthorized"),M.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:M.struct([M.u32("instruction")])},Split:{index:3,layout:M.struct([M.u32("instruction"),M.ns64("lamports")])},Withdraw:{index:4,layout:M.struct([M.u32("instruction"),M.ns64("lamports")])},Deactivate:{index:5,layout:M.struct([M.u32("instruction")])},Merge:{index:7,layout:M.struct([M.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:M.struct([M.u32("instruction"),dt("newAuthorized"),M.u32("stakeAuthorizationType"),We("authoritySeed"),dt("authorityOwner")])}});new ct("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:M.struct([M.u32("instruction"),Nu()])},Authorize:{index:1,layout:M.struct([M.u32("instruction"),dt("newAuthorized"),M.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:M.struct([M.u32("instruction"),M.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:M.struct([M.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:M.struct([M.u32("instruction"),qu()])}});new ct("Vote111111111111111111111111111111111111111");new ct("Va1idator1nfo111111111111111111111111111111");Y({name:X(),website:ot(X()),details:ot(X()),iconUrl:ot(X()),keybaseUsername:ot(X())});new ct("Vote111111111111111111111111111111111111111");M.struct([dt("nodePubkey"),dt("authorizedWithdrawer"),M.u8("commission"),M.nu64(),M.seq(M.struct([M.nu64("slot"),M.u32("confirmationCount")]),M.offset(M.u32(),-8),"votes"),M.u8("rootSlotValid"),M.nu64("rootSlot"),M.nu64(),M.seq(M.struct([M.nu64("epoch"),dt("authorizedVoter")]),M.offset(M.u32(),-8),"authorizedVoters"),M.struct([M.seq(M.struct([dt("authorizedPubkey"),M.nu64("epochOfLastAuthorizedSwitch"),M.nu64("targetEpoch")]),32,"buf"),M.nu64("idx"),M.u8("isEmpty")],"priorVoters"),M.nu64(),M.seq(M.struct([M.nu64("epoch"),M.nu64("credits"),M.nu64("prevCredits")]),M.offset(M.u32(),-8),"epochCredits"),M.struct([M.nu64("slot"),M.nu64("timestamp")],"lastTimestamp")]);export{zu as FeeCalculatorLayout,ns as Lockup,Lu as MAX_SEED_LENGTH,nr as Message,Dr as MessageAccountKeys,zr as MessageV0,Qe as PACKET_DATA_SIZE,Te as PUBLIC_KEY_LENGTH,ct as PublicKey,qr as SIGNATURE_LENGTH_IN_BYTES,_r as SOLANA_SCHEMA,Uu as Struct,Kn as Transaction,Gi as TransactionInstruction,ni as VERSION_PREFIX_MASK,Vo as VersionedMessage,Ho as VersionedTransaction};
