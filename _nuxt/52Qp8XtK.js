import{B as m}from"./KtHXgOLn.js";import{e as h,l as k,f as u,w as c,g as r,r as i,o as a,c as o,t as d,F as v,p as B,h as f,a as p,b as w,d as x,_ as C}from"./CXivjDRY.js";import{u as V,C as b}from"./DcyTs7uB.js";import{P as F}from"./BkF1Fm0L.js";const N={key:0,class:"directory__loading"},E={key:1,class:"directory__error"},D={key:2,class:"directory__grid"},L=["src","alt"],P={key:1,class:"directory__desc"},S=["href"],$=h({__name:"directory",setup(j){const g=V(),l=i([]),_=i(!0),n=i(null);k(async()=>{try{const e=await fetch(`${g.value}/api/v1/tenants`);if(!e.ok)throw new Error("Failed to fetch");const s=await e.json();l.value=s.tenants??[]}catch(e){n.value=e instanceof Error?e.message:"Failed to load tenants"}finally{_.value=!1}});function y(e){return`https://${e}.dguild.org`}return(e,s)=>(a(),u(r(F),{title:"Directory"},{default:c(()=>[r(_)?(a(),o("div",N,"Loading...")):r(n)?(a(),o("div",E,d(r(n)),1)):(a(),o("div",D,[(a(!0),o(v,null,B(r(l),t=>(a(),u(r(b),{key:t.slug,class:"directory__card"},{default:c(()=>[t.branding?.logo?(a(),o("img",{key:0,src:t.branding.logo,alt:t.name,class:"directory__logo"},null,8,L)):f("",!0),p("h3",null,d(t.name),1),t.description?(a(),o("p",P,d(t.description),1)):f("",!0),p("a",{href:y(t.slug),target:"_blank",rel:"noopener"},[w(r(m),{variant:"secondary"},{default:c(()=>[...s[0]||(s[0]=[x("Visit",-1)])]),_:1})],8,S)]),_:2},1024))),128))]))]),_:1}))}}),U=C($,[["__scopeId","data-v-cfc4d4a8"]]);export{U as default};
