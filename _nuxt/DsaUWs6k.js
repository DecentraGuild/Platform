import{B as y}from"./BKGEyXAW.js";import{C as h}from"./aR-VXlP9.js";import{P as k}from"./rOAvZnyW.js";import{e as v,l as B,f as u,w as i,g as r,p as w,r as c,o as t,c as o,t as d,F as C,q as b,h as f,a as p,b as x,d as V,_ as F}from"./QrRSspQ2.js";const N={key:0,class:"directory__loading"},E={key:1,class:"directory__error"},S={key:2,class:"directory__grid"},$=["src","alt"],D={key:1,class:"directory__desc"},L=["href"],P=v({__name:"directory",setup(U){const g=w(),l=c([]),_=c(!0),n=c(null);B(async()=>{try{const a=(g.public.apiUrl??"").toString().replace(/\/$/,""),s=await fetch(`${a}/api/v1/tenants`);if(!s.ok)throw new Error("Failed to fetch");const e=await s.json();l.value=e.tenants??[]}catch(a){n.value=a instanceof Error?a.message:"Failed to load tenants"}finally{_.value=!1}});function m(a){return`https://${a}.dguild.org`}return(a,s)=>(t(),u(r(k),{title:"Directory"},{default:i(()=>[r(_)?(t(),o("div",N,"Loading...")):r(n)?(t(),o("div",E,d(r(n)),1)):(t(),o("div",S,[(t(!0),o(C,null,b(r(l),e=>(t(),u(r(h),{key:e.slug,class:"directory__card"},{default:i(()=>[e.branding?.logo?(t(),o("img",{key:0,src:e.branding.logo,alt:e.name,class:"directory__logo"},null,8,$)):f("",!0),p("h3",null,d(e.name),1),e.description?(t(),o("p",D,d(e.description),1)):f("",!0),p("a",{href:m(e.slug),target:"_blank",rel:"noopener"},[x(r(y),{variant:"secondary"},{default:i(()=>[...s[0]||(s[0]=[V("Visit",-1)])]),_:1})],8,L)]),_:2},1024))),128))]))]),_:1}))}}),R=F(P,[["__scopeId","data-v-9f5e4def"]]);export{R as default};
