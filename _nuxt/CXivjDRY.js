const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BRrKfyf9.js","./450G_oY8.js","./KtHXgOLn.js","./ColorInput.ChOYo0Ez.css","./BkF1Fm0L.js","./index.o1kTfTl5.css","./BTvBqZbO.js","./DcyTs7uB.js","./BKNbpn1I.js","./AuthWidget.CeRIouQ5.css","./onboard.JyA9TpB3.css","./52Qp8XtK.js","./directory.BpgOkXmq.css","./BZvZv_c0.js","./default.7NLj0qGy.css","./DV-ogLd3.js","./error-404.l4Nm0DR6.css","./Bs9lSMVD.js","./error-500.BmDcXgkF.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function lf(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const nt={},Qs=[],rr=()=>{},Vg=()=>!1,vi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ff=e=>e.startsWith("onUpdate:"),$t=Object.assign,hf=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Ob=Object.prototype.hasOwnProperty,qe=(e,t)=>Ob.call(e,t),Oe=Array.isArray,Xs=e=>Ao(e)==="[object Map]",qg=e=>Ao(e)==="[object Set]",zh=e=>Ao(e)==="[object Date]",Bb=e=>Ao(e)==="[object RegExp]",Be=e=>typeof e=="function",rt=e=>typeof e=="string",zn=e=>typeof e=="symbol",Ke=e=>e!==null&&typeof e=="object",df=e=>(Ke(e)||Be(e))&&Be(e.then)&&Be(e.catch),Zg=Object.prototype.toString,Ao=e=>Zg.call(e),Pb=e=>Ao(e).slice(8,-1),Gg=e=>Ao(e)==="[object Object]",sc=e=>rt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ys=lf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),oc=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},Lb=/-\w/g,Rn=oc(e=>e.replace(Lb,t=>t.slice(1).toUpperCase())),Db=/\B([A-Z])/g,Qr=oc(e=>e.replace(Db,"-$1").toLowerCase()),ic=oc(e=>e.charAt(0).toUpperCase()+e.slice(1)),su=oc(e=>e?`on${ic(e)}`:""),Kr=(e,t)=>!Object.is(e,t),Vo=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Yg=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},zb=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Jg=e=>{const t=rt(e)?Number(e):NaN;return isNaN(t)?e:t};let Uh;const ac=()=>Uh||(Uh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function cc(e){if(Oe(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=rt(r)?Fb(r):cc(r);if(s)for(const o in s)t[o]=s[o]}return t}else if(rt(e)||Ke(e))return e}const Ub=/;(?![^(]*\))/g,jb=/:([^]+)/,$b=/\/\*[^]*?\*\//g;function Fb(e){const t={};return e.replace($b,"").split(Ub).forEach(n=>{if(n){const r=n.split(jb);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function uc(e){let t="";if(rt(e))t=e;else if(Oe(e))for(let n=0;n<e.length;n++){const r=uc(e[n]);r&&(t+=r+" ")}else if(Ke(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Wb(e){if(!e)return null;let{class:t,style:n}=e;return t&&!rt(t)&&(e.class=uc(t)),n&&(e.style=cc(n)),e}const Hb="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Kb=lf(Hb);function Qg(e){return!!e||e===""}function Vb(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=pf(e[r],t[r]);return n}function pf(e,t){if(e===t)return!0;let n=zh(e),r=zh(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=zn(e),r=zn(t),n||r)return e===t;if(n=Oe(e),r=Oe(t),n||r)return n&&r?Vb(e,t):!1;if(n=Ke(e),r=Ke(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,o=Object.keys(t).length;if(s!==o)return!1;for(const i in e){const a=e.hasOwnProperty(i),c=t.hasOwnProperty(i);if(a&&!c||!a&&c||!pf(e[i],t[i]))return!1}}return String(e)===String(t)}const Xg=e=>!!(e&&e.__v_isRef===!0),qb=e=>rt(e)?e:e==null?"":Oe(e)||Ke(e)&&(e.toString===Zg||!Be(e.toString))?Xg(e)?qb(e.value):JSON.stringify(e,ey,2):String(e),ey=(e,t)=>Xg(t)?ey(e,t.value):Xs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],o)=>(n[ou(r,o)+" =>"]=s,n),{})}:qg(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>ou(n))}:zn(t)?ou(t):Ke(t)&&!Oe(t)&&!Gg(t)?String(t):t,ou=(e,t="")=>{var n;return zn(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};let nn;class ty{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.__v_skip=!0,this.parent=nn,!t&&nn&&(this.index=(nn.scopes||(nn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=nn;try{return nn=this,t()}finally{nn=n}}}on(){++this._on===1&&(this.prevScope=nn,nn=this)}off(){this._on>0&&--this._on===0&&(nn=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function ny(e){return new ty(e)}function gf(){return nn}function Zb(e,t=!1){nn&&nn.cleanups.push(e)}let et;const iu=new WeakSet;class ry{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,nn&&nn.active&&nn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,iu.has(this)&&(iu.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||oy(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,jh(this),iy(this);const t=et,n=Ln;et=this,Ln=!0;try{return this.fn()}finally{ay(this),et=t,Ln=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)wf(t);this.deps=this.depsTail=void 0,jh(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?iu.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){hl(this)&&this.run()}get dirty(){return hl(this)}}let sy=0,qo,Zo;function oy(e,t=!1){if(e.flags|=8,t){e.next=Zo,Zo=e;return}e.next=qo,qo=e}function yf(){sy++}function mf(){if(--sy>0)return;if(Zo){let t=Zo;for(Zo=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;qo;){let t=qo;for(qo=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function iy(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ay(e){let t,n=e.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),wf(r),Gb(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}e.deps=t,e.depsTail=n}function hl(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(cy(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function cy(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===si)||(e.globalVersion=si,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!hl(e))))return;e.flags|=2;const t=e.dep,n=et,r=Ln;et=e,Ln=!0;try{iy(e);const s=e.fn(e._value);(t.version===0||Kr(s,e._value))&&(e.flags|=128,e._value=s,t.version++)}catch(s){throw t.version++,s}finally{et=n,Ln=r,ay(e),e.flags&=-3}}function wf(e,t=!1){const{dep:n,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)wf(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Gb(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Ln=!0;const uy=[];function Er(){uy.push(Ln),Ln=!1}function kr(){const e=uy.pop();Ln=e===void 0?!0:e}function jh(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=et;et=void 0;try{t()}finally{et=n}}}let si=0;class Yb{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class bf{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!et||!Ln||et===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==et)n=this.activeLink=new Yb(et,this),et.deps?(n.prevDep=et.depsTail,et.depsTail.nextDep=n,et.depsTail=n):et.deps=et.depsTail=n,ly(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=et.depsTail,n.nextDep=void 0,et.depsTail.nextDep=n,et.depsTail=n,et.deps===n&&(et.deps=r)}return n}trigger(t){this.version++,si++,this.notify(t)}notify(t){yf();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{mf()}}}function ly(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)ly(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const xa=new WeakMap,ms=Symbol(""),dl=Symbol(""),oi=Symbol("");function rn(e,t,n){if(Ln&&et){let r=xa.get(e);r||xa.set(e,r=new Map);let s=r.get(n);s||(r.set(n,s=new bf),s.map=r,s.key=n),s.track()}}function wr(e,t,n,r,s,o){const i=xa.get(e);if(!i){si++;return}const a=c=>{c&&c.trigger()};if(yf(),t==="clear")i.forEach(a);else{const c=Oe(e),l=c&&sc(n);if(c&&n==="length"){const u=Number(r);i.forEach((h,g)=>{(g==="length"||g===oi||!zn(g)&&g>=u)&&a(h)})}else switch((n!==void 0||i.has(void 0))&&a(i.get(n)),l&&a(i.get(oi)),t){case"add":c?l&&a(i.get("length")):(a(i.get(ms)),Xs(e)&&a(i.get(dl)));break;case"delete":c||(a(i.get(ms)),Xs(e)&&a(i.get(dl)));break;case"set":Xs(e)&&a(i.get(ms));break}}mf()}function Jb(e,t){const n=xa.get(e);return n&&n.get(t)}function Ls(e){const t=Fe(e);return t===e?t:(rn(t,"iterate",oi),_n(e)?t:t.map(Un))}function lc(e){return rn(e=Fe(e),"iterate",oi),e}function zr(e,t){return ir(e)?lo(Vr(e)?Un(t):t):Un(t)}const Qb={__proto__:null,[Symbol.iterator](){return au(this,Symbol.iterator,e=>zr(this,e))},concat(...e){return Ls(this).concat(...e.map(t=>Oe(t)?Ls(t):t))},entries(){return au(this,"entries",e=>(e[1]=zr(this,e[1]),e))},every(e,t){return ur(this,"every",e,t,void 0,arguments)},filter(e,t){return ur(this,"filter",e,t,n=>n.map(r=>zr(this,r)),arguments)},find(e,t){return ur(this,"find",e,t,n=>zr(this,n),arguments)},findIndex(e,t){return ur(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return ur(this,"findLast",e,t,n=>zr(this,n),arguments)},findLastIndex(e,t){return ur(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return ur(this,"forEach",e,t,void 0,arguments)},includes(...e){return cu(this,"includes",e)},indexOf(...e){return cu(this,"indexOf",e)},join(e){return Ls(this).join(e)},lastIndexOf(...e){return cu(this,"lastIndexOf",e)},map(e,t){return ur(this,"map",e,t,void 0,arguments)},pop(){return No(this,"pop")},push(...e){return No(this,"push",e)},reduce(e,...t){return $h(this,"reduce",e,t)},reduceRight(e,...t){return $h(this,"reduceRight",e,t)},shift(){return No(this,"shift")},some(e,t){return ur(this,"some",e,t,void 0,arguments)},splice(...e){return No(this,"splice",e)},toReversed(){return Ls(this).toReversed()},toSorted(e){return Ls(this).toSorted(e)},toSpliced(...e){return Ls(this).toSpliced(...e)},unshift(...e){return No(this,"unshift",e)},values(){return au(this,"values",e=>zr(this,e))}};function au(e,t,n){const r=lc(e),s=r[t]();return r!==e&&!_n(e)&&(s._next=s.next,s.next=()=>{const o=s._next();return o.done||(o.value=n(o.value)),o}),s}const Xb=Array.prototype;function ur(e,t,n,r,s,o){const i=lc(e),a=i!==e&&!_n(e),c=i[t];if(c!==Xb[t]){const h=c.apply(e,o);return a?Un(h):h}let l=n;i!==e&&(a?l=function(h,g){return n.call(this,zr(e,h),g,e)}:n.length>2&&(l=function(h,g){return n.call(this,h,g,e)}));const u=c.call(i,l,r);return a&&s?s(u):u}function $h(e,t,n,r){const s=lc(e);let o=n;return s!==e&&(_n(e)?n.length>3&&(o=function(i,a,c){return n.call(this,i,a,c,e)}):o=function(i,a,c){return n.call(this,i,zr(e,a),c,e)}),s[t](o,...r)}function cu(e,t,n){const r=Fe(e);rn(r,"iterate",oi);const s=r[t](...n);return(s===-1||s===!1)&&fc(n[0])?(n[0]=Fe(n[0]),r[t](...n)):s}function No(e,t,n=[]){Er(),yf();const r=Fe(e)[t].apply(e,n);return mf(),kr(),r}const ev=lf("__proto__,__v_isRef,__isVue"),fy=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(zn));function tv(e){zn(e)||(e=String(e));const t=Fe(this);return rn(t,"has",e),t.hasOwnProperty(e)}class hy{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(s?o?fv:yy:o?gy:py).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const i=Oe(t);if(!s){let c;if(i&&(c=Qb[n]))return c;if(n==="hasOwnProperty")return tv}const a=Reflect.get(t,n,zt(t)?t:r);if((zn(n)?fy.has(n):ev(n))||(s||rn(t,"get",n),o))return a;if(zt(a)){const c=i&&sc(n)?a:a.value;return s&&Ke(c)?gl(c):c}return Ke(a)?s?gl(a):Xr(a):a}}class dy extends hy{constructor(t=!1){super(!1,t)}set(t,n,r,s){let o=t[n];const i=Oe(t)&&sc(n);if(!this._isShallow){const l=ir(o);if(!_n(r)&&!ir(r)&&(o=Fe(o),r=Fe(r)),!i&&zt(o)&&!zt(r))return l||(o.value=r),!0}const a=i?Number(n)<t.length:qe(t,n),c=Reflect.set(t,n,r,zt(t)?t:s);return t===Fe(s)&&(a?Kr(r,o)&&wr(t,"set",n,r):wr(t,"add",n,r)),c}deleteProperty(t,n){const r=qe(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&wr(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!zn(n)||!fy.has(n))&&rn(t,"has",n),r}ownKeys(t){return rn(t,"iterate",Oe(t)?"length":ms),Reflect.ownKeys(t)}}class nv extends hy{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const rv=new dy,sv=new nv,ov=new dy(!0);const pl=e=>e,Li=e=>Reflect.getPrototypeOf(e);function iv(e,t,n){return function(...r){const s=this.__v_raw,o=Fe(s),i=Xs(o),a=e==="entries"||e===Symbol.iterator&&i,c=e==="keys"&&i,l=s[e](...r),u=n?pl:t?lo:Un;return!t&&rn(o,"iterate",c?dl:ms),$t(Object.create(l),{next(){const{value:h,done:g}=l.next();return g?{value:h,done:g}:{value:a?[u(h[0]),u(h[1])]:u(h),done:g}}})}}function Di(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function av(e,t){const n={get(s){const o=this.__v_raw,i=Fe(o),a=Fe(s);e||(Kr(s,a)&&rn(i,"get",s),rn(i,"get",a));const{has:c}=Li(i),l=t?pl:e?lo:Un;if(c.call(i,s))return l(o.get(s));if(c.call(i,a))return l(o.get(a));o!==i&&o.get(s)},get size(){const s=this.__v_raw;return!e&&rn(Fe(s),"iterate",ms),s.size},has(s){const o=this.__v_raw,i=Fe(o),a=Fe(s);return e||(Kr(s,a)&&rn(i,"has",s),rn(i,"has",a)),s===a?o.has(s):o.has(s)||o.has(a)},forEach(s,o){const i=this,a=i.__v_raw,c=Fe(a),l=t?pl:e?lo:Un;return!e&&rn(c,"iterate",ms),a.forEach((u,h)=>s.call(o,l(u),l(h),i))}};return $t(n,e?{add:Di("add"),set:Di("set"),delete:Di("delete"),clear:Di("clear")}:{add(s){!t&&!_n(s)&&!ir(s)&&(s=Fe(s));const o=Fe(this);return Li(o).has.call(o,s)||(o.add(s),wr(o,"add",s,s)),this},set(s,o){!t&&!_n(o)&&!ir(o)&&(o=Fe(o));const i=Fe(this),{has:a,get:c}=Li(i);let l=a.call(i,s);l||(s=Fe(s),l=a.call(i,s));const u=c.call(i,s);return i.set(s,o),l?Kr(o,u)&&wr(i,"set",s,o):wr(i,"add",s,o),this},delete(s){const o=Fe(this),{has:i,get:a}=Li(o);let c=i.call(o,s);c||(s=Fe(s),c=i.call(o,s)),a&&a.call(o,s);const l=o.delete(s);return c&&wr(o,"delete",s,void 0),l},clear(){const s=Fe(this),o=s.size!==0,i=s.clear();return o&&wr(s,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=iv(s,e,t)}),n}function vf(e,t){const n=av(e,t);return(r,s,o)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(qe(n,s)&&s in r?n:r,s,o)}const cv={get:vf(!1,!1)},uv={get:vf(!1,!0)},lv={get:vf(!0,!1)};const py=new WeakMap,gy=new WeakMap,yy=new WeakMap,fv=new WeakMap;function hv(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function dv(e){return e.__v_skip||!Object.isExtensible(e)?0:hv(Pb(e))}function Xr(e){return ir(e)?e:_f(e,!1,rv,cv,py)}function nr(e){return _f(e,!1,ov,uv,gy)}function gl(e){return _f(e,!0,sv,lv,yy)}function _f(e,t,n,r,s){if(!Ke(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=dv(e);if(o===0)return e;const i=s.get(e);if(i)return i;const a=new Proxy(e,o===2?r:n);return s.set(e,a),a}function Vr(e){return ir(e)?Vr(e.__v_raw):!!(e&&e.__v_isReactive)}function ir(e){return!!(e&&e.__v_isReadonly)}function _n(e){return!!(e&&e.__v_isShallow)}function fc(e){return e?!!e.__v_raw:!1}function Fe(e){const t=e&&e.__v_raw;return t?Fe(t):e}function my(e){return!qe(e,"__v_skip")&&Object.isExtensible(e)&&Yg(e,"__v_skip",!0),e}const Un=e=>Ke(e)?Xr(e):e,lo=e=>Ke(e)?gl(e):e;function zt(e){return e?e.__v_isRef===!0:!1}function fn(e){return wy(e,!1)}function Ar(e){return wy(e,!0)}function wy(e,t){return zt(e)?e:new pv(e,t)}class pv{constructor(t,n){this.dep=new bf,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Fe(t),this._value=n?t:Un(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||_n(t)||ir(t);t=r?t:Fe(t),Kr(t,n)&&(this._rawValue=t,this._value=r?t:Un(t),this.dep.trigger())}}function Je(e){return zt(e)?e.value:e}function gv(e){return Be(e)?e():Je(e)}const yv={get:(e,t,n)=>t==="__v_raw"?e:Je(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return zt(s)&&!zt(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function by(e){return Vr(e)?e:new Proxy(e,yv)}class mv{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0,this._raw=Fe(t);let s=!0,o=t;if(!Oe(t)||!sc(String(n)))do s=!fc(o)||_n(o);while(s&&(o=o.__v_raw));this._shallow=s}get value(){let t=this._object[this._key];return this._shallow&&(t=Je(t)),this._value=t===void 0?this._defaultValue:t}set value(t){if(this._shallow&&zt(this._raw[this._key])){const n=this._object[this._key];if(zt(n)){n.value=t;return}}this._object[this._key]=t}get dep(){return Jb(this._raw,this._key)}}class wv{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function bv(e,t,n){return zt(e)?e:Be(e)?new wv(e):Ke(e)&&arguments.length>1?vv(e,t,n):fn(e)}function vv(e,t,n){return new mv(e,t,n)}class _v{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new bf(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=si-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&et!==this)return oy(this,!0),!0}get value(){const t=this.dep.track();return cy(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Sv(e,t,n=!1){let r,s;return Be(e)?r=e:(r=e.get,s=e.set),new _v(r,s,n)}const zi={},Ia=new WeakMap;let is;function Ev(e,t=!1,n=is){if(n){let r=Ia.get(n);r||Ia.set(n,r=[]),r.push(e)}}function kv(e,t,n=nt){const{immediate:r,deep:s,once:o,scheduler:i,augmentJob:a,call:c}=n,l=B=>s?B:_n(B)||s===!1||s===0?$r(B,1):$r(B);let u,h,g,p,v=!1,_=!1;if(zt(e)?(h=()=>e.value,v=_n(e)):Vr(e)?(h=()=>l(e),v=!0):Oe(e)?(_=!0,v=e.some(B=>Vr(B)||_n(B)),h=()=>e.map(B=>{if(zt(B))return B.value;if(Vr(B))return l(B);if(Be(B))return c?c(B,2):B()})):Be(e)?t?h=c?()=>c(e,2):e:h=()=>{if(g){Er();try{g()}finally{kr()}}const B=is;is=u;try{return c?c(e,3,[p]):e(p)}finally{is=B}}:h=rr,t&&s){const B=h,F=s===!0?1/0:s;h=()=>$r(B(),F)}const x=gf(),R=()=>{u.stop(),x&&x.active&&hf(x.effects,u)};if(o&&t){const B=t;t=(...F)=>{B(...F),R()}}let N=_?new Array(e.length).fill(zi):zi;const k=B=>{if(!(!(u.flags&1)||!u.dirty&&!B))if(t){const F=u.run();if(s||v||(_?F.some((Z,te)=>Kr(Z,N[te])):Kr(F,N))){g&&g();const Z=is;is=u;try{const te=[F,N===zi?void 0:_&&N[0]===zi?[]:N,p];N=F,c?c(t,3,te):t(...te)}finally{is=Z}}}else u.run()};return a&&a(k),u=new ry(h),u.scheduler=i?()=>i(k,!1):k,p=B=>Ev(B,!1,u),g=u.onStop=()=>{const B=Ia.get(u);if(B){if(c)c(B,4);else for(const F of B)F();Ia.delete(u)}},t?r?k(!0):N=u.run():i?i(k.bind(null,!0),!0):u.run(),R.pause=u.pause.bind(u),R.resume=u.resume.bind(u),R.stop=R,R}function $r(e,t=1/0,n){if(t<=0||!Ke(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,zt(e))$r(e.value,t,n);else if(Oe(e))for(let r=0;r<e.length;r++)$r(e[r],t,n);else if(qg(e)||Xs(e))e.forEach(r=>{$r(r,t,n)});else if(Gg(e)){for(const r in e)$r(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&$r(e[r],t,n)}return e}function _i(e,t,n,r){try{return r?e(...r):e()}catch(s){xo(s,t,n)}}function jn(e,t,n,r){if(Be(e)){const s=_i(e,t,n,r);return s&&df(s)&&s.catch(o=>{xo(o,t,n)}),s}if(Oe(e)){const s=[];for(let o=0;o<e.length;o++)s.push(jn(e[o],t,n,r));return s}}function xo(e,t,n,r=!0){const s=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||nt;if(t){let a=t.parent;const c=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](e,c,l)===!1)return}a=a.parent}if(o){Er(),_i(o,null,10,[e,c,l]),kr();return}}Av(e,n,s,r,i)}function Av(e,t,n,r=!0,s=!1){if(s)throw e;console.error(e)}const un=[];let Vn=-1;const eo=[];let Ur=null,Hs=0;const vy=Promise.resolve();let Ta=null;function fo(e){const t=Ta||vy;return e?t.then(this?e.bind(this):e):t}function xv(e){let t=Vn+1,n=un.length;for(;t<n;){const r=t+n>>>1,s=un[r],o=ii(s);o<e||o===e&&s.flags&2?t=r+1:n=r}return t}function Sf(e){if(!(e.flags&1)){const t=ii(e),n=un[un.length-1];!n||!(e.flags&2)&&t>=ii(n)?un.push(e):un.splice(xv(t),0,e),e.flags|=1,_y()}}function _y(){Ta||(Ta=vy.then(Sy))}function yl(e){Oe(e)?eo.push(...e):Ur&&e.id===-1?Ur.splice(Hs+1,0,e):e.flags&1||(eo.push(e),e.flags|=1),_y()}function Fh(e,t,n=Vn+1){for(;n<un.length;n++){const r=un[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;un.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Ma(e){if(eo.length){const t=[...new Set(eo)].sort((n,r)=>ii(n)-ii(r));if(eo.length=0,Ur){Ur.push(...t);return}for(Ur=t,Hs=0;Hs<Ur.length;Hs++){const n=Ur[Hs];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ur=null,Hs=0}}const ii=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Sy(e){try{for(Vn=0;Vn<un.length;Vn++){const t=un[Vn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),_i(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Vn<un.length;Vn++){const t=un[Vn];t&&(t.flags&=-2)}Vn=-1,un.length=0,Ma(),Ta=null,(un.length||eo.length)&&Sy()}}let ln=null,Ey=null;function Ra(e){const t=ln;return ln=e,Ey=e&&e.type.__scopeId||null,t}function Ef(e,t=ln,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&Pa(-1);const o=Ra(t);let i;try{i=e(...s)}finally{Ra(o),r._d&&Pa(1)}return i};return r._n=!0,r._c=!0,r._d=!0,r}function qn(e,t,n,r){const s=e.dirs,o=t&&t.dirs;for(let i=0;i<s.length;i++){const a=s[i];o&&(a.oldValue=o[i].value);let c=a.dir[r];c&&(Er(),jn(c,n,8,[e.el,a,e,t]),kr())}}function qr(e,t){if(qt){let n=qt.provides;const r=qt.parent&&qt.parent.provides;r===n&&(n=qt.provides=Object.create(r)),n[e]=t}}function Gt(e,t,n=!1){const r=Ts();if(r||ws){let s=ws?ws._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&Be(t)?t.call(r&&r.proxy):t}}function hc(){return!!(Ts()||ws)}const Iv=Symbol.for("v-scx"),Tv=()=>Gt(Iv);function Mv(e,t){return kf(e,null,t)}function to(e,t,n){return kf(e,t,n)}function kf(e,t,n=nt){const{immediate:r,deep:s,flush:o,once:i}=n,a=$t({},n),c=t&&r||!t&&o!=="post";let l;if(go){if(o==="sync"){const p=Tv();l=p.__watcherHandles||(p.__watcherHandles=[])}else if(!c){const p=()=>{};return p.stop=rr,p.resume=rr,p.pause=rr,p}}const u=qt;a.call=(p,v,_)=>jn(p,u,v,_);let h=!1;o==="post"?a.scheduler=p=>{wt(p,u&&u.suspense)}:o!=="sync"&&(h=!0,a.scheduler=(p,v)=>{v?p():Sf(p)}),a.augmentJob=p=>{t&&(p.flags|=4),h&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const g=kv(e,t,a);return go&&(l?l.push(g):c&&g()),g}function Rv(e,t,n){const r=this.proxy,s=rt(e)?e.includes(".")?ky(r,e):()=>r[e]:e.bind(r,r);let o;Be(t)?o=t:(o=t.handler,n=t);const i=ki(this),a=kf(s,o.bind(r),n);return i(),a}function ky(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const Ay=Symbol("_vte"),xy=e=>e.__isTeleport,Go=e=>e&&(e.disabled||e.disabled===""),Wh=e=>e&&(e.defer||e.defer===""),Hh=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Kh=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,ml=(e,t)=>{const n=e&&e.to;return rt(n)?t?t(n):null:n},Iy={name:"Teleport",__isTeleport:!0,process(e,t,n,r,s,o,i,a,c,l){const{mc:u,pc:h,pbc:g,o:{insert:p,querySelector:v,createText:_,createComment:x}}=l,R=Go(t.props);let{shapeFlag:N,children:k,dynamicChildren:B}=t;if(e==null){const F=t.el=_(""),Z=t.anchor=_("");p(F,n,r),p(Z,n,r);const te=(P,D)=>{N&16&&u(k,P,D,s,o,i,a,c)},oe=()=>{const P=t.target=ml(t.props,v),D=wl(P,t,_,p);P&&(i!=="svg"&&Hh(P)?i="svg":i!=="mathml"&&Kh(P)&&(i="mathml"),s&&s.isCE&&(s.ce._teleportTargets||(s.ce._teleportTargets=new Set)).add(P),R||(te(P,D),ha(t,!1)))};R&&(te(n,Z),ha(t,!0)),Wh(t.props)?(t.el.__isMounted=!1,wt(()=>{oe(),delete t.el.__isMounted},o)):oe()}else{if(Wh(t.props)&&e.el.__isMounted===!1){wt(()=>{Iy.process(e,t,n,r,s,o,i,a,c,l)},o);return}t.el=e.el,t.targetStart=e.targetStart;const F=t.anchor=e.anchor,Z=t.target=e.target,te=t.targetAnchor=e.targetAnchor,oe=Go(e.props),P=oe?n:Z,D=oe?F:te;if(i==="svg"||Hh(Z)?i="svg":(i==="mathml"||Kh(Z))&&(i="mathml"),B?(g(e.dynamicChildren,B,P,s,o,i,a),Tf(e,t,!0)):c||h(e,t,P,D,s,o,i,a,!1),R)oe?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Ui(t,n,F,l,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const V=t.target=ml(t.props,v);V&&Ui(t,V,null,l,0)}else oe&&Ui(t,Z,te,l,1);ha(t,R)}},remove(e,t,n,{um:r,o:{remove:s}},o){const{shapeFlag:i,children:a,anchor:c,targetStart:l,targetAnchor:u,target:h,props:g}=e;if(h&&(s(l),s(u)),o&&s(c),i&16){const p=o||!Go(g);for(let v=0;v<a.length;v++){const _=a[v];r(_,t,n,p,!!_.dynamicChildren)}}},move:Ui,hydrate:Cv};function Ui(e,t,n,{o:{insert:r},m:s},o=2){o===0&&r(e.targetAnchor,t,n);const{el:i,anchor:a,shapeFlag:c,children:l,props:u}=e,h=o===2;if(h&&r(i,t,n),(!h||Go(u))&&c&16)for(let g=0;g<l.length;g++)s(l[g],t,n,2);h&&r(a,t,n)}function Cv(e,t,n,r,s,o,{o:{nextSibling:i,parentNode:a,querySelector:c,insert:l,createText:u}},h){function g(x,R){let N=R;for(;N;){if(N&&N.nodeType===8){if(N.data==="teleport start anchor")t.targetStart=N;else if(N.data==="teleport anchor"){t.targetAnchor=N,x._lpa=t.targetAnchor&&i(t.targetAnchor);break}}N=i(N)}}function p(x,R){R.anchor=h(i(x),R,a(x),n,r,s,o)}const v=t.target=ml(t.props,c),_=Go(t.props);if(v){const x=v._lpa||v.firstChild;t.shapeFlag&16&&(_?(p(e,t),g(v,x),t.targetAnchor||wl(v,t,u,l,a(e)===v?e:null)):(t.anchor=i(e),g(v,x),t.targetAnchor||wl(v,t,u,l),h(x&&i(x),t,v,n,r,s,o))),ha(t,_)}else _&&t.shapeFlag&16&&(p(e,t),t.targetStart=e,t.targetAnchor=i(e));return t.anchor&&i(t.anchor)}const mL=Iy;function ha(e,t){const n=e.ctx;if(n&&n.ut){let r,s;for(t?(r=e.el,s=e.anchor):(r=e.targetStart,s=e.targetAnchor);r&&r!==s;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function wl(e,t,n,r,s=null){const o=t.targetStart=n(""),i=t.targetAnchor=n("");return o[Ay]=i,e&&(r(o,e,s),r(i,e,s)),i}const Zn=Symbol("_leaveCb"),Oo=Symbol("_enterCb");function Nv(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ai(()=>{e.isMounted=!0}),Ei(()=>{e.isUnmounting=!0}),e}const kn=[Function,Array],Ty={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:kn,onEnter:kn,onAfterEnter:kn,onEnterCancelled:kn,onBeforeLeave:kn,onLeave:kn,onAfterLeave:kn,onLeaveCancelled:kn,onBeforeAppear:kn,onAppear:kn,onAfterAppear:kn,onAppearCancelled:kn},My=e=>{const t=e.subTree;return t.component?My(t.component):t},Ov={name:"BaseTransition",props:Ty,setup(e,{slots:t}){const n=Ts(),r=Nv();return()=>{const s=t.default&&Ny(t.default(),!0);if(!s||!s.length)return;const o=Ry(s),i=Fe(e),{mode:a}=i;if(r.isLeaving)return uu(o);const c=Vh(o);if(!c)return uu(o);let l=bl(c,i,r,n,h=>l=h);c.type!==Dt&&ho(c,l);let u=n.subTree&&Vh(n.subTree);if(u&&u.type!==Dt&&!Bn(u,c)&&My(n).type!==Dt){let h=bl(u,i,r,n);if(ho(u,h),a==="out-in"&&c.type!==Dt)return r.isLeaving=!0,h.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete h.afterLeave,u=void 0},uu(o);a==="in-out"&&c.type!==Dt?h.delayLeave=(g,p,v)=>{const _=Cy(r,u);_[String(u.key)]=u,g[Zn]=()=>{p(),g[Zn]=void 0,delete l.delayedLeave,u=void 0},l.delayedLeave=()=>{v(),delete l.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return o}}};function Ry(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Dt){t=n;break}}return t}const Bv=Ov;function Cy(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function bl(e,t,n,r,s){const{appear:o,mode:i,persisted:a=!1,onBeforeEnter:c,onEnter:l,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:g,onLeave:p,onAfterLeave:v,onLeaveCancelled:_,onBeforeAppear:x,onAppear:R,onAfterAppear:N,onAppearCancelled:k}=t,B=String(e.key),F=Cy(n,e),Z=(P,D)=>{P&&jn(P,r,9,D)},te=(P,D)=>{const V=D[1];Z(P,D),Oe(P)?P.every(j=>j.length<=1)&&V():P.length<=1&&V()},oe={mode:i,persisted:a,beforeEnter(P){let D=c;if(!n.isMounted)if(o)D=x||c;else return;P[Zn]&&P[Zn](!0);const V=F[B];V&&Bn(e,V)&&V.el[Zn]&&V.el[Zn](),Z(D,[P])},enter(P){let D=l,V=u,j=h;if(!n.isMounted)if(o)D=R||l,V=N||u,j=k||h;else return;let E=!1;P[Oo]=w=>{E||(E=!0,w?Z(j,[P]):Z(V,[P]),oe.delayedLeave&&oe.delayedLeave(),P[Oo]=void 0)};const f=P[Oo].bind(null,!1);D?te(D,[P,f]):f()},leave(P,D){const V=String(e.key);if(P[Oo]&&P[Oo](!0),n.isUnmounting)return D();Z(g,[P]);let j=!1;P[Zn]=f=>{j||(j=!0,D(),f?Z(_,[P]):Z(v,[P]),P[Zn]=void 0,F[V]===e&&delete F[V])};const E=P[Zn].bind(null,!1);F[V]=e,p?te(p,[P,E]):E()},clone(P){const D=bl(P,t,n,r,s);return s&&s(D),D}};return oe}function uu(e){if(Si(e))return e=Mn(e),e.children=null,e}function Vh(e){if(!Si(e))return xy(e.type)&&e.children?Ry(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Be(n.default))return n.default()}}function ho(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ho(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ny(e,t=!1,n){let r=[],s=0;for(let o=0;o<e.length;o++){let i=e[o];const a=n==null?i.key:String(n)+String(i.key!=null?i.key:o);i.type===sn?(i.patchFlag&128&&s++,r=r.concat(Ny(i.children,t,a))):(t||i.type!==Dt)&&r.push(a!=null?Mn(i,{key:a}):i)}if(s>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}function Ir(e,t){return Be(e)?$t({name:e.name},t,{setup:e}):e}function Af(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function qh(e,t){let n;return!!((n=Object.getOwnPropertyDescriptor(e,t))&&!n.configurable)}const Ca=new WeakMap;function no(e,t,n,r,s=!1){if(Oe(e)){e.forEach((_,x)=>no(_,t&&(Oe(t)?t[x]:t),n,r,s));return}if(Sr(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&no(e,t,n,r.component.subTree);return}const o=r.shapeFlag&4?Cf(r.component):r.el,i=s?null:o,{i:a,r:c}=e,l=t&&t.r,u=a.refs===nt?a.refs={}:a.refs,h=a.setupState,g=Fe(h),p=h===nt?Vg:_=>qh(u,_)?!1:qe(g,_),v=(_,x)=>!(x&&qh(u,x));if(l!=null&&l!==c){if(Zh(t),rt(l))u[l]=null,p(l)&&(h[l]=null);else if(zt(l)){const _=t;v(l,_.k)&&(l.value=null),_.k&&(u[_.k]=null)}}if(Be(c))_i(c,a,12,[i,u]);else{const _=rt(c),x=zt(c);if(_||x){const R=()=>{if(e.f){const N=_?p(c)?h[c]:u[c]:v()||!e.k?c.value:u[e.k];if(s)Oe(N)&&hf(N,o);else if(Oe(N))N.includes(o)||N.push(o);else if(_)u[c]=[o],p(c)&&(h[c]=u[c]);else{const k=[o];v(c,e.k)&&(c.value=k),e.k&&(u[e.k]=k)}}else _?(u[c]=i,p(c)&&(h[c]=i)):x&&(v(c,e.k)&&(c.value=i),e.k&&(u[e.k]=i))};if(i){const N=()=>{R(),Ca.delete(e)};N.id=-1,Ca.set(e,N),wt(N,n)}else Zh(e),R()}}}function Zh(e){const t=Ca.get(e);t&&(t.flags|=8,Ca.delete(e))}let Gh=!1;const Ds=()=>{Gh||(console.error("Hydration completed but contains mismatches."),Gh=!0)},Pv=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",Lv=e=>e.namespaceURI.includes("MathML"),ji=e=>{if(e.nodeType===1){if(Pv(e))return"svg";if(Lv(e))return"mathml"}},qs=e=>e.nodeType===8;function Dv(e){const{mt:t,p:n,o:{patchProp:r,createText:s,nextSibling:o,parentNode:i,remove:a,insert:c,createComment:l}}=e,u=(k,B)=>{if(!B.hasChildNodes()){n(null,k,B),Ma(),B._vnode=k;return}h(B.firstChild,k,null,null,null),Ma(),B._vnode=k},h=(k,B,F,Z,te,oe=!1)=>{oe=oe||!!B.dynamicChildren;const P=qs(k)&&k.data==="[",D=()=>_(k,B,F,Z,te,P),{type:V,ref:j,shapeFlag:E,patchFlag:f}=B;let w=k.nodeType;B.el=k,f===-2&&(oe=!1,B.dynamicChildren=null);let S=null;switch(V){case bs:w!==3?B.children===""?(c(B.el=s(""),i(k),k),S=k):S=D():(k.data!==B.children&&(Ds(),k.data=B.children),S=o(k));break;case Dt:N(k)?(S=o(k),R(B.el=k.content.firstChild,k,F)):w!==8||P?S=D():S=o(k);break;case Jo:if(P&&(k=o(k),w=k.nodeType),w===1||w===3){S=k;const I=!B.children.length;for(let M=0;M<B.staticCount;M++)I&&(B.children+=S.nodeType===1?S.outerHTML:S.data),M===B.staticCount-1&&(B.anchor=S),S=o(S);return P?o(S):S}else D();break;case sn:P?S=v(k,B,F,Z,te,oe):S=D();break;default:if(E&1)(w!==1||B.type.toLowerCase()!==k.tagName.toLowerCase())&&!N(k)?S=D():S=g(k,B,F,Z,te,oe);else if(E&6){B.slotScopeIds=te;const I=i(k);if(P?S=x(k):qs(k)&&k.data==="teleport start"?S=x(k,k.data,"teleport end"):S=o(k),t(B,I,null,F,Z,ji(I),oe),Sr(B)&&!B.type.__asyncResolved){let M;P?(M=at(sn),M.anchor=S?S.previousSibling:I.lastChild):M=k.nodeType===3?d0(""):at("div"),M.el=k,B.component.subTree=M}}else E&64?w!==8?S=D():S=B.type.hydrate(k,B,F,Z,te,oe,e,p):E&128&&(S=B.type.hydrate(k,B,F,Z,ji(i(k)),te,oe,e,h))}return j!=null&&no(j,null,Z,B),S},g=(k,B,F,Z,te,oe)=>{oe=oe||!!B.dynamicChildren;const{type:P,props:D,patchFlag:V,shapeFlag:j,dirs:E,transition:f}=B,w=P==="input"||P==="option";if(w||V!==-1){E&&qn(B,null,F,"created");let S=!1;if(N(k)){S=r0(null,f)&&F&&F.vnode.props&&F.vnode.props.appear;const M=k.content.firstChild;if(S){const U=M.getAttribute("class");U&&(M.$cls=U),f.beforeEnter(M)}R(M,k,F),B.el=k=M}if(j&16&&!(D&&(D.innerHTML||D.textContent))){let M=p(k.firstChild,B,k,F,Z,te,oe);for(;M;){$i(k,1)||Ds();const U=M;M=M.nextSibling,a(U)}}else if(j&8){let M=B.children;M[0]===`
`&&(k.tagName==="PRE"||k.tagName==="TEXTAREA")&&(M=M.slice(1));const{textContent:U}=k;U!==M&&U!==M.replace(/\r\n|\r/g,`
`)&&($i(k,0)||Ds(),k.textContent=B.children)}if(D){if(w||!oe||V&48){const M=k.tagName.includes("-");for(const U in D)(w&&(U.endsWith("value")||U==="indeterminate")||vi(U)&&!ys(U)||U[0]==="."||M&&!ys(U))&&r(k,U,null,D[U],void 0,F)}else if(D.onClick)r(k,"onClick",null,D.onClick,void 0,F);else if(V&4&&Vr(D.style))for(const M in D.style)D.style[M]}let I;(I=D&&D.onVnodeBeforeMount)&&dn(I,F,B),E&&qn(B,null,F,"beforeMount"),((I=D&&D.onVnodeMounted)||E||S)&&a0(()=>{I&&dn(I,F,B),S&&f.enter(k),E&&qn(B,null,F,"mounted")},Z)}return k.nextSibling},p=(k,B,F,Z,te,oe,P)=>{P=P||!!B.dynamicChildren;const D=B.children,V=D.length;for(let j=0;j<V;j++){const E=P?D[j]:D[j]=vn(D[j]),f=E.type===bs;k?(f&&!P&&j+1<V&&vn(D[j+1]).type===bs&&(c(s(k.data.slice(E.children.length)),F,o(k)),k.data=E.children),k=h(k,E,Z,te,oe,P)):f&&!E.children?c(E.el=s(""),F):($i(F,1)||Ds(),n(null,E,F,null,Z,te,ji(F),oe))}return k},v=(k,B,F,Z,te,oe)=>{const{slotScopeIds:P}=B;P&&(te=te?te.concat(P):P);const D=i(k),V=p(o(k),B,D,F,Z,te,oe);return V&&qs(V)&&V.data==="]"?o(B.anchor=V):(Ds(),c(B.anchor=l("]"),D,V),V)},_=(k,B,F,Z,te,oe)=>{if($i(k.parentElement,1)||Ds(),B.el=null,oe){const V=x(k);for(;;){const j=o(k);if(j&&j!==V)a(j);else break}}const P=o(k),D=i(k);return a(k),n(null,B,D,P,F,Z,ji(D),te),F&&(F.vnode.el=B.el,gc(F,B.el)),P},x=(k,B="[",F="]")=>{let Z=0;for(;k;)if(k=o(k),k&&qs(k)&&(k.data===B&&Z++,k.data===F)){if(Z===0)return o(k);Z--}return k},R=(k,B,F)=>{const Z=B.parentNode;Z&&Z.replaceChild(k,B);let te=F;for(;te;)te.vnode.el===B&&(te.vnode.el=te.subTree.el=k),te=te.parent},N=k=>k.nodeType===1&&k.tagName==="TEMPLATE";return[u,h]}const Yh="data-allow-mismatch",zv={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function $i(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute(Yh);)e=e.parentElement;const n=e&&e.getAttribute(Yh);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return t===0&&r.includes("children")?!0:r.includes(zv[t])}}ac().requestIdleCallback;ac().cancelIdleCallback;function Uv(e,t){if(qs(e)&&e.data==="["){let n=1,r=e.nextSibling;for(;r;){if(r.nodeType===1){if(t(r)===!1)break}else if(qs(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else t(e)}const Sr=e=>!!e.type.__asyncLoader;function vl(e){Be(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:r,delay:s=200,hydrate:o,timeout:i,suspensible:a=!0,onError:c}=e;let l=null,u,h=0;const g=()=>(h++,l=null,p()),p=()=>{let v;return l||(v=l=t().catch(_=>{if(_=_ instanceof Error?_:new Error(String(_)),c)return new Promise((x,R)=>{c(_,()=>x(g()),()=>R(_),h+1)});throw _}).then(_=>v!==l&&l?l:(_&&(_.__esModule||_[Symbol.toStringTag]==="Module")&&(_=_.default),u=_,_)))};return Ir({name:"AsyncComponentWrapper",__asyncLoader:p,__asyncHydrate(v,_,x){let R=!1;(_.bu||(_.bu=[])).push(()=>R=!0);const N=()=>{R||x()},k=o?()=>{const B=o(N,F=>Uv(v,F));B&&(_.bum||(_.bum=[])).push(B)}:N;u?k():p().then(()=>!_.isUnmounted&&k())},get __asyncResolved(){return u},setup(){const v=qt;if(Af(v),u)return()=>Fi(u,v);const _=k=>{l=null,xo(k,v,13,!r)};if(a&&v.suspense||go)return p().then(k=>()=>Fi(k,v)).catch(k=>(_(k),()=>r?at(r,{error:k}):null));const x=fn(!1),R=fn(),N=fn(!!s);return s&&setTimeout(()=>{N.value=!1},s),i!=null&&setTimeout(()=>{if(!x.value&&!R.value){const k=new Error(`Async component timed out after ${i}ms.`);_(k),R.value=k}},i),p().then(()=>{x.value=!0,v.parent&&Si(v.parent.vnode)&&v.parent.update()}).catch(k=>{_(k),R.value=k}),()=>{if(x.value&&u)return Fi(u,v);if(R.value&&r)return at(r,{error:R.value});if(n&&!N.value)return Fi(n,v)}}})}function Fi(e,t){const{ref:n,props:r,children:s,ce:o}=t.vnode,i=at(e,r,s);return i.ref=n,i.ce=o,delete t.vnode.ce,i}const Si=e=>e.type.__isKeepAlive,jv={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=Ts(),r=n.ctx;if(!r.renderer)return()=>{const N=t.default&&t.default();return N&&N.length===1?N[0]:N};const s=new Map,o=new Set;let i=null;const a=n.suspense,{renderer:{p:c,m:l,um:u,o:{createElement:h}}}=r,g=h("div");r.activate=(N,k,B,F,Z)=>{const te=N.component;l(N,k,B,0,a),c(te.vnode,N,k,B,te,a,F,N.slotScopeIds,Z),wt(()=>{te.isDeactivated=!1,te.a&&Vo(te.a);const oe=N.props&&N.props.onVnodeMounted;oe&&dn(oe,te.parent,N)},a)},r.deactivate=N=>{const k=N.component;Oa(k.m),Oa(k.a),l(N,g,null,1,a),wt(()=>{k.da&&Vo(k.da);const B=N.props&&N.props.onVnodeUnmounted;B&&dn(B,k.parent,N),k.isDeactivated=!0},a)};function p(N){lu(N),u(N,n,a,!0)}function v(N){s.forEach((k,B)=>{const F=Tl(Sr(k)?k.type.__asyncResolved||{}:k.type);F&&!N(F)&&_(B)})}function _(N){const k=s.get(N);k&&(!i||!Bn(k,i))?p(k):i&&lu(i),s.delete(N),o.delete(N)}to(()=>[e.include,e.exclude],([N,k])=>{N&&v(B=>Wo(N,B)),k&&v(B=>!Wo(k,B))},{flush:"post",deep:!0});let x=null;const R=()=>{x!=null&&(Ba(n.subTree.type)?wt(()=>{s.set(x,Wi(n.subTree))},n.subTree.suspense):s.set(x,Wi(n.subTree)))};return ai(R),Ly(R),Ei(()=>{s.forEach(N=>{const{subTree:k,suspense:B}=n,F=Wi(k);if(N.type===F.type&&N.key===F.key){lu(F);const Z=F.component.da;Z&&wt(Z,B);return}p(N)})}),()=>{if(x=null,!t.default)return i=null;const N=t.default(),k=N[0];if(N.length>1)return i=null,N;if(!Es(k)||!(k.shapeFlag&4)&&!(k.shapeFlag&128))return i=null,k;let B=Wi(k);if(B.type===Dt)return i=null,B;const F=B.type,Z=Tl(Sr(B)?B.type.__asyncResolved||{}:F),{include:te,exclude:oe,max:P}=e;if(te&&(!Z||!Wo(te,Z))||oe&&Z&&Wo(oe,Z))return B.shapeFlag&=-257,i=B,k;const D=B.key==null?F:B.key,V=s.get(D);return B.el&&(B=Mn(B),k.shapeFlag&128&&(k.ssContent=B)),x=D,V?(B.el=V.el,B.component=V.component,B.transition&&ho(B,B.transition),B.shapeFlag|=512,o.delete(D),o.add(D)):(o.add(D),P&&o.size>parseInt(P,10)&&_(o.values().next().value)),B.shapeFlag|=256,i=B,Ba(k.type)?k:B}}},$v=jv;function Wo(e,t){return Oe(e)?e.some(n=>Wo(n,t)):rt(e)?e.split(",").includes(t):Bb(e)?(e.lastIndex=0,e.test(t)):!1}function Oy(e,t){Py(e,"a",t)}function By(e,t){Py(e,"da",t)}function Py(e,t,n=qt){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(dc(t,r,n),n){let s=n.parent;for(;s&&s.parent;)Si(s.parent.vnode)&&Fv(r,t,n,s),s=s.parent}}function Fv(e,t,n,r){const s=dc(t,e,r,!0);Dy(()=>{hf(r[t],s)},n)}function lu(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Wi(e){return e.shapeFlag&128?e.ssContent:e}function dc(e,t,n=qt,r=!1){if(n){const s=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...i)=>{Er();const a=ki(n),c=jn(t,n,e,i);return a(),kr(),c});return r?s.unshift(o):s.push(o),o}}const Tr=e=>(t,n=qt)=>{(!go||e==="sp")&&dc(e,(...r)=>t(...r),n)},Wv=Tr("bm"),ai=Tr("m"),Hv=Tr("bu"),Ly=Tr("u"),Ei=Tr("bum"),Dy=Tr("um"),Kv=Tr("sp"),Vv=Tr("rtg"),qv=Tr("rtc");function zy(e,t=qt){dc("ec",e,t)}const Uy="components";function wL(e,t){return $y(Uy,e,!0,t)||e}const jy=Symbol.for("v-ndc");function Zv(e){return rt(e)?$y(Uy,e,!1)||e:e||jy}function $y(e,t,n=!0,r=!1){const s=ln||qt;if(s){const o=s.type;{const a=Tl(o,!1);if(a&&(a===t||a===Rn(t)||a===ic(Rn(t))))return o}const i=Jh(s[e]||o[e],t)||Jh(s.appContext[e],t);return!i&&r?o:i}}function Jh(e,t){return e&&(e[t]||e[Rn(t)]||e[ic(Rn(t))])}function bL(e,t,n,r){let s;const o=n,i=Oe(e);if(i||rt(e)){const a=i&&Vr(e);let c=!1,l=!1;a&&(c=!_n(e),l=ir(e),e=lc(e)),s=new Array(e.length);for(let u=0,h=e.length;u<h;u++)s[u]=t(c?l?lo(Un(e[u])):Un(e[u]):e[u],u,void 0,o)}else if(typeof e=="number"){s=new Array(e);for(let a=0;a<e;a++)s[a]=t(a+1,a,void 0,o)}else if(Ke(e))if(e[Symbol.iterator])s=Array.from(e,(a,c)=>t(a,c,void 0,o));else{const a=Object.keys(e);s=new Array(a.length);for(let c=0,l=a.length;c<l;c++){const u=a[c];s[c]=t(e[u],u,c,o)}}else s=[];return s}function vL(e,t,n={},r,s){if(ln.ce||ln.parent&&Sr(ln.parent)&&ln.parent.ce){const l=Object.keys(n).length>0;return t!=="default"&&(n.name=t),In(),Yn(sn,null,[at("slot",n,r)],l?-2:64)}let o=e[t];o&&o._c&&(o._d=!1),In();const i=o&&Fy(o(n)),a=n.key||i&&i.key,c=Yn(sn,{key:(a&&!zn(a)?a:`_${t}`)+(!i&&r?"_fb":"")},i||[],i&&e._===1?64:-2);return o&&o._c&&(o._d=!0),c}function Fy(e){return e.some(t=>Es(t)?!(t.type===Dt||t.type===sn&&!Fy(t.children)):!0)?e:null}const _l=e=>e?g0(e)?Cf(e):_l(e.parent):null,Yo=$t(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>_l(e.parent),$root:e=>_l(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Hy(e),$forceUpdate:e=>e.f||(e.f=()=>{Sf(e.update)}),$nextTick:e=>e.n||(e.n=fo.bind(e.proxy)),$watch:e=>Rv.bind(e)}),fu=(e,t)=>e!==nt&&!e.__isScriptSetup&&qe(e,t),Gv={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:o,accessCache:i,type:a,appContext:c}=e;if(t[0]!=="$"){const g=i[t];if(g!==void 0)switch(g){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return o[t]}else{if(fu(r,t))return i[t]=1,r[t];if(s!==nt&&qe(s,t))return i[t]=2,s[t];if(qe(o,t))return i[t]=3,o[t];if(n!==nt&&qe(n,t))return i[t]=4,n[t];Sl&&(i[t]=0)}}const l=Yo[t];let u,h;if(l)return t==="$attrs"&&rn(e.attrs,"get",""),l(e);if((u=a.__cssModules)&&(u=u[t]))return u;if(n!==nt&&qe(n,t))return i[t]=4,n[t];if(h=c.config.globalProperties,qe(h,t))return h[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:o}=e;return fu(s,t)?(s[t]=n,!0):r!==nt&&qe(r,t)?(r[t]=n,!0):qe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,props:o,type:i}},a){let c;return!!(n[a]||e!==nt&&a[0]!=="$"&&qe(e,a)||fu(t,a)||qe(o,a)||qe(r,a)||qe(Yo,a)||qe(s.config.globalProperties,a)||(c=i.__cssModules)&&c[a])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:qe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Qh(e){return Oe(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Sl=!0;function Yv(e){const t=Hy(e),n=e.proxy,r=e.ctx;Sl=!1,t.beforeCreate&&Xh(t.beforeCreate,e,"bc");const{data:s,computed:o,methods:i,watch:a,provide:c,inject:l,created:u,beforeMount:h,mounted:g,beforeUpdate:p,updated:v,activated:_,deactivated:x,beforeDestroy:R,beforeUnmount:N,destroyed:k,unmounted:B,render:F,renderTracked:Z,renderTriggered:te,errorCaptured:oe,serverPrefetch:P,expose:D,inheritAttrs:V,components:j,directives:E,filters:f}=t;if(l&&Jv(l,r,null),i)for(const I in i){const M=i[I];Be(M)&&(r[I]=M.bind(n))}if(s){const I=s.call(n,n);Ke(I)&&(e.data=Xr(I))}if(Sl=!0,o)for(const I in o){const M=o[I],U=Be(M)?M.bind(n,n):Be(M.get)?M.get.bind(n,n):rr,K=!Be(M)&&Be(M.set)?M.set.bind(n):rr,C=Tn({get:U,set:K});Object.defineProperty(r,I,{enumerable:!0,configurable:!0,get:()=>C.value,set:d=>C.value=d})}if(a)for(const I in a)Wy(a[I],r,n,I);if(c){const I=Be(c)?c.call(n):c;Reflect.ownKeys(I).forEach(M=>{qr(M,I[M])})}u&&Xh(u,e,"c");function S(I,M){Oe(M)?M.forEach(U=>I(U.bind(n))):M&&I(M.bind(n))}if(S(Wv,h),S(ai,g),S(Hv,p),S(Ly,v),S(Oy,_),S(By,x),S(zy,oe),S(qv,Z),S(Vv,te),S(Ei,N),S(Dy,B),S(Kv,P),Oe(D))if(D.length){const I=e.exposed||(e.exposed={});D.forEach(M=>{Object.defineProperty(I,M,{get:()=>n[M],set:U=>n[M]=U,enumerable:!0})})}else e.exposed||(e.exposed={});F&&e.render===rr&&(e.render=F),V!=null&&(e.inheritAttrs=V),j&&(e.components=j),E&&(e.directives=E),P&&Af(e)}function Jv(e,t,n=rr){Oe(e)&&(e=El(e));for(const r in e){const s=e[r];let o;Ke(s)?"default"in s?o=Gt(s.from||r,s.default,!0):o=Gt(s.from||r):o=Gt(s),zt(o)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:i=>o.value=i}):t[r]=o}}function Xh(e,t,n){jn(Oe(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Wy(e,t,n,r){let s=r.includes(".")?ky(n,r):()=>n[r];if(rt(e)){const o=t[e];Be(o)&&to(s,o)}else if(Be(e))to(s,e.bind(n));else if(Ke(e))if(Oe(e))e.forEach(o=>Wy(o,t,n,r));else{const o=Be(e.handler)?e.handler.bind(n):t[e.handler];Be(o)&&to(s,o,e)}}function Hy(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:o,config:{optionMergeStrategies:i}}=e.appContext,a=o.get(t);let c;return a?c=a:!s.length&&!n&&!r?c=t:(c={},s.length&&s.forEach(l=>Na(c,l,i,!0)),Na(c,t,i)),Ke(t)&&o.set(t,c),c}function Na(e,t,n,r=!1){const{mixins:s,extends:o}=t;o&&Na(e,o,n,!0),s&&s.forEach(i=>Na(e,i,n,!0));for(const i in t)if(!(r&&i==="expose")){const a=Qv[i]||n&&n[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const Qv={data:ed,props:td,emits:td,methods:Ho,computed:Ho,beforeCreate:on,created:on,beforeMount:on,mounted:on,beforeUpdate:on,updated:on,beforeDestroy:on,beforeUnmount:on,destroyed:on,unmounted:on,activated:on,deactivated:on,errorCaptured:on,serverPrefetch:on,components:Ho,directives:Ho,watch:e_,provide:ed,inject:Xv};function ed(e,t){return t?e?function(){return $t(Be(e)?e.call(this,this):e,Be(t)?t.call(this,this):t)}:t:e}function Xv(e,t){return Ho(El(e),El(t))}function El(e){if(Oe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function on(e,t){return e?[...new Set([].concat(e,t))]:t}function Ho(e,t){return e?$t(Object.create(null),e,t):t}function td(e,t){return e?Oe(e)&&Oe(t)?[...new Set([...e,...t])]:$t(Object.create(null),Qh(e),Qh(t??{})):t}function e_(e,t){if(!e)return t;if(!t)return e;const n=$t(Object.create(null),e);for(const r in t)n[r]=on(e[r],t[r]);return n}function Ky(){return{app:null,config:{isNativeTag:Vg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let t_=0;function n_(e,t){return function(r,s=null){Be(r)||(r=$t({},r)),s!=null&&!Ke(s)&&(s=null);const o=Ky(),i=new WeakSet,a=[];let c=!1;const l=o.app={_uid:t_++,_component:r,_props:s,_container:null,_context:o,_instance:null,version:L_,get config(){return o.config},set config(u){},use(u,...h){return i.has(u)||(u&&Be(u.install)?(i.add(u),u.install(l,...h)):Be(u)&&(i.add(u),u(l,...h))),l},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),l},component(u,h){return h?(o.components[u]=h,l):o.components[u]},directive(u,h){return h?(o.directives[u]=h,l):o.directives[u]},mount(u,h,g){if(!c){const p=l._ceVNode||at(r,s);return p.appContext=o,g===!0?g="svg":g===!1&&(g=void 0),h&&t?t(p,u):e(p,u,g),c=!0,l._container=u,u.__vue_app__=l,Cf(p.component)}},onUnmount(u){a.push(u)},unmount(){c&&(jn(a,l._instance,16),e(null,l._container),delete l._container.__vue_app__)},provide(u,h){return o.provides[u]=h,l},runWithContext(u){const h=ws;ws=l;try{return u()}finally{ws=h}}};return l}}let ws=null;const r_=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Rn(t)}Modifiers`]||e[`${Qr(t)}Modifiers`];function s_(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||nt;let s=n;const o=t.startsWith("update:"),i=o&&r_(r,t.slice(7));i&&(i.trim&&(s=n.map(u=>rt(u)?u.trim():u)),i.number&&(s=n.map(zb)));let a,c=r[a=su(t)]||r[a=su(Rn(t))];!c&&o&&(c=r[a=su(Qr(t))]),c&&jn(c,e,6,s);const l=r[a+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,jn(l,e,6,s)}}const o_=new WeakMap;function Vy(e,t,n=!1){const r=n?o_:t.emitsCache,s=r.get(e);if(s!==void 0)return s;const o=e.emits;let i={},a=!1;if(!Be(e)){const c=l=>{const u=Vy(l,t,!0);u&&(a=!0,$t(i,u))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!o&&!a?(Ke(e)&&r.set(e,null),null):(Oe(o)?o.forEach(c=>i[c]=null):$t(i,o),Ke(e)&&r.set(e,i),i)}function pc(e,t){return!e||!vi(t)?!1:(t=t.slice(2).replace(/Once$/,""),qe(e,t[0].toLowerCase()+t.slice(1))||qe(e,Qr(t))||qe(e,t))}function hu(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[o],slots:i,attrs:a,emit:c,render:l,renderCache:u,props:h,data:g,setupState:p,ctx:v,inheritAttrs:_}=e,x=Ra(e);let R,N;try{if(n.shapeFlag&4){const B=s||r,F=B;R=vn(l.call(F,B,u,h,p,g,v)),N=a}else{const B=t;R=vn(B.length>1?B(h,{attrs:a,slots:i,emit:c}):B(h,null)),N=t.props?a:a_(a)}}catch(B){Qo.length=0,xo(B,e,1),R=at(Dt)}let k=R;if(N&&_!==!1){const B=Object.keys(N),{shapeFlag:F}=k;B.length&&F&7&&(o&&B.some(ff)&&(N=c_(N,o)),k=Mn(k,N,!1,!0))}return n.dirs&&(k=Mn(k,null,!1,!0),k.dirs=k.dirs?k.dirs.concat(n.dirs):n.dirs),n.transition&&ho(k,n.transition),R=k,Ra(x),R}function i_(e,t=!0){let n;for(let r=0;r<e.length;r++){const s=e[r];if(Es(s)){if(s.type!==Dt||s.children==="v-if"){if(n)return;n=s}}else return}return n}const a_=e=>{let t;for(const n in e)(n==="class"||n==="style"||vi(n))&&((t||(t={}))[n]=e[n]);return t},c_=(e,t)=>{const n={};for(const r in e)(!ff(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function u_(e,t,n){const{props:r,children:s,component:o}=e,{props:i,children:a,patchFlag:c}=t,l=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?nd(r,i,l):!!i;if(c&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const g=u[h];if(qy(i,r,g)&&!pc(l,g))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===i?!1:r?i?nd(r,i,l):!0:!!i;return!1}function nd(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const o=r[s];if(qy(t,e,o)&&!pc(n,o))return!0}return!1}function qy(e,t,n){const r=e[n],s=t[n];return n==="style"&&Ke(r)&&Ke(s)?!pf(r,s):r!==s}function gc({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const Zy={},Gy=()=>Object.create(Zy),Yy=e=>Object.getPrototypeOf(e)===Zy;function l_(e,t,n,r=!1){const s={},o=Gy();e.propsDefaults=Object.create(null),Jy(e,t,s,o);for(const i in e.propsOptions[0])i in s||(s[i]=void 0);n?e.props=r?s:nr(s):e.type.props?e.props=s:e.props=o,e.attrs=o}function f_(e,t,n,r){const{props:s,attrs:o,vnode:{patchFlag:i}}=e,a=Fe(s),[c]=e.propsOptions;let l=!1;if((r||i>0)&&!(i&16)){if(i&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let g=u[h];if(pc(e.emitsOptions,g))continue;const p=t[g];if(c)if(qe(o,g))p!==o[g]&&(o[g]=p,l=!0);else{const v=Rn(g);s[v]=kl(c,a,v,p,e,!1)}else p!==o[g]&&(o[g]=p,l=!0)}}}else{Jy(e,t,s,o)&&(l=!0);let u;for(const h in a)(!t||!qe(t,h)&&((u=Qr(h))===h||!qe(t,u)))&&(c?n&&(n[h]!==void 0||n[u]!==void 0)&&(s[h]=kl(c,a,h,void 0,e,!0)):delete s[h]);if(o!==a)for(const h in o)(!t||!qe(t,h))&&(delete o[h],l=!0)}l&&wr(e.attrs,"set","")}function Jy(e,t,n,r){const[s,o]=e.propsOptions;let i=!1,a;if(t)for(let c in t){if(ys(c))continue;const l=t[c];let u;s&&qe(s,u=Rn(c))?!o||!o.includes(u)?n[u]=l:(a||(a={}))[u]=l:pc(e.emitsOptions,c)||(!(c in r)||l!==r[c])&&(r[c]=l,i=!0)}if(o){const c=Fe(n),l=a||nt;for(let u=0;u<o.length;u++){const h=o[u];n[h]=kl(s,c,h,l[h],e,!qe(l,h))}}return i}function kl(e,t,n,r,s,o){const i=e[n];if(i!=null){const a=qe(i,"default");if(a&&r===void 0){const c=i.default;if(i.type!==Function&&!i.skipFactory&&Be(c)){const{propsDefaults:l}=s;if(n in l)r=l[n];else{const u=ki(s);r=l[n]=c.call(null,t),u()}}else r=c;s.ce&&s.ce._setProp(n,r)}i[0]&&(o&&!a?r=!1:i[1]&&(r===""||r===Qr(n))&&(r=!0))}return r}const h_=new WeakMap;function Qy(e,t,n=!1){const r=n?h_:t.propsCache,s=r.get(e);if(s)return s;const o=e.props,i={},a=[];let c=!1;if(!Be(e)){const u=h=>{c=!0;const[g,p]=Qy(h,t,!0);$t(i,g),p&&a.push(...p)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!c)return Ke(e)&&r.set(e,Qs),Qs;if(Oe(o))for(let u=0;u<o.length;u++){const h=Rn(o[u]);rd(h)&&(i[h]=nt)}else if(o)for(const u in o){const h=Rn(u);if(rd(h)){const g=o[u],p=i[h]=Oe(g)||Be(g)?{type:g}:$t({},g),v=p.type;let _=!1,x=!0;if(Oe(v))for(let R=0;R<v.length;++R){const N=v[R],k=Be(N)&&N.name;if(k==="Boolean"){_=!0;break}else k==="String"&&(x=!1)}else _=Be(v)&&v.name==="Boolean";p[0]=_,p[1]=x,(_||qe(p,"default"))&&a.push(h)}}const l=[i,a];return Ke(e)&&r.set(e,l),l}function rd(e){return e[0]!=="$"&&!ys(e)}const xf=e=>e==="_"||e==="_ctx"||e==="$stable",If=e=>Oe(e)?e.map(vn):[vn(e)],d_=(e,t,n)=>{if(t._n)return t;const r=Ef((...s)=>If(t(...s)),n);return r._c=!1,r},Xy=(e,t,n)=>{const r=e._ctx;for(const s in e){if(xf(s))continue;const o=e[s];if(Be(o))t[s]=d_(s,o,r);else if(o!=null){const i=If(o);t[s]=()=>i}}},e0=(e,t)=>{const n=If(t);e.slots.default=()=>n},t0=(e,t,n)=>{for(const r in t)(n||!xf(r))&&(e[r]=t[r])},p_=(e,t,n)=>{const r=e.slots=Gy();if(e.vnode.shapeFlag&32){const s=t._;s?(t0(r,t,n),n&&Yg(r,"_",s,!0)):Xy(t,r)}else t&&e0(e,t)},g_=(e,t,n)=>{const{vnode:r,slots:s}=e;let o=!0,i=nt;if(r.shapeFlag&32){const a=t._;a?n&&a===1?o=!1:t0(s,t,n):(o=!t.$stable,Xy(t,s)),i=t}else t&&(e0(e,t),i={default:1});if(o)for(const a in s)!xf(a)&&i[a]==null&&delete s[a]},wt=a0;function y_(e){return n0(e)}function m_(e){return n0(e,Dv)}function n0(e,t){const n=ac();n.__VUE__=!0;const{insert:r,remove:s,patchProp:o,createElement:i,createText:a,createComment:c,setText:l,setElementText:u,parentNode:h,nextSibling:g,setScopeId:p=rr,insertStaticContent:v}=e,_=(z,$,J,le=null,se=null,ie=null,we=void 0,fe=null,ue=!!$.dynamicChildren)=>{if(z===$)return;z&&!Bn(z,$)&&(le=H(z),d(z,se,ie,!0),z=null),$.patchFlag===-2&&(ue=!1,$.dynamicChildren=null);const{type:ce,ref:be,shapeFlag:de}=$;switch(ce){case bs:x(z,$,J,le);break;case Dt:R(z,$,J,le);break;case Jo:z==null&&N($,J,le,we);break;case sn:j(z,$,J,le,se,ie,we,fe,ue);break;default:de&1?F(z,$,J,le,se,ie,we,fe,ue):de&6?E(z,$,J,le,se,ie,we,fe,ue):(de&64||de&128)&&ce.process(z,$,J,le,se,ie,we,fe,ue,pe)}be!=null&&se?no(be,z&&z.ref,ie,$||z,!$):be==null&&z&&z.ref!=null&&no(z.ref,null,ie,z,!0)},x=(z,$,J,le)=>{if(z==null)r($.el=a($.children),J,le);else{const se=$.el=z.el;$.children!==z.children&&l(se,$.children)}},R=(z,$,J,le)=>{z==null?r($.el=c($.children||""),J,le):$.el=z.el},N=(z,$,J,le)=>{[z.el,z.anchor]=v(z.children,$,J,le,z.el,z.anchor)},k=({el:z,anchor:$},J,le)=>{let se;for(;z&&z!==$;)se=g(z),r(z,J,le),z=se;r($,J,le)},B=({el:z,anchor:$})=>{let J;for(;z&&z!==$;)J=g(z),s(z),z=J;s($)},F=(z,$,J,le,se,ie,we,fe,ue)=>{if($.type==="svg"?we="svg":$.type==="math"&&(we="mathml"),z==null)Z($,J,le,se,ie,we,fe,ue);else{const ce=z.el&&z.el._isVueCE?z.el:null;try{ce&&ce._beginPatch(),P(z,$,se,ie,we,fe,ue)}finally{ce&&ce._endPatch()}}},Z=(z,$,J,le,se,ie,we,fe)=>{let ue,ce;const{props:be,shapeFlag:de,transition:ke,dirs:Ae}=z;if(ue=z.el=i(z.type,ie,be&&be.is,be),de&8?u(ue,z.children):de&16&&oe(z.children,ue,null,le,se,du(z,ie),we,fe),Ae&&qn(z,null,le,"created"),te(ue,z,z.scopeId,we,le),be){for(const m in be)m!=="value"&&!ys(m)&&o(ue,m,null,be[m],ie,le);"value"in be&&o(ue,"value",null,be.value,ie),(ce=be.onVnodeBeforeMount)&&dn(ce,le,z)}Ae&&qn(z,null,le,"beforeMount");const A=r0(se,ke);A&&ke.beforeEnter(ue),r(ue,$,J),((ce=be&&be.onVnodeMounted)||A||Ae)&&wt(()=>{ce&&dn(ce,le,z),A&&ke.enter(ue),Ae&&qn(z,null,le,"mounted")},se)},te=(z,$,J,le,se)=>{if(J&&p(z,J),le)for(let ie=0;ie<le.length;ie++)p(z,le[ie]);if(se){let ie=se.subTree;if($===ie||Ba(ie.type)&&(ie.ssContent===$||ie.ssFallback===$)){const we=se.vnode;te(z,we,we.scopeId,we.slotScopeIds,se.parent)}}},oe=(z,$,J,le,se,ie,we,fe,ue=0)=>{for(let ce=ue;ce<z.length;ce++){const be=z[ce]=fe?yr(z[ce]):vn(z[ce]);_(null,be,$,J,le,se,ie,we,fe)}},P=(z,$,J,le,se,ie,we)=>{const fe=$.el=z.el;let{patchFlag:ue,dynamicChildren:ce,dirs:be}=$;ue|=z.patchFlag&16;const de=z.props||nt,ke=$.props||nt;let Ae;if(J&&ns(J,!1),(Ae=ke.onVnodeBeforeUpdate)&&dn(Ae,J,$,z),be&&qn($,z,J,"beforeUpdate"),J&&ns(J,!0),(de.innerHTML&&ke.innerHTML==null||de.textContent&&ke.textContent==null)&&u(fe,""),ce?D(z.dynamicChildren,ce,fe,J,le,du($,se),ie):we||M(z,$,fe,null,J,le,du($,se),ie,!1),ue>0){if(ue&16)V(fe,de,ke,J,se);else if(ue&2&&de.class!==ke.class&&o(fe,"class",null,ke.class,se),ue&4&&o(fe,"style",de.style,ke.style,se),ue&8){const A=$.dynamicProps;for(let m=0;m<A.length;m++){const b=A[m],O=de[b],q=ke[b];(q!==O||b==="value")&&o(fe,b,O,q,se,J)}}ue&1&&z.children!==$.children&&u(fe,$.children)}else!we&&ce==null&&V(fe,de,ke,J,se);((Ae=ke.onVnodeUpdated)||be)&&wt(()=>{Ae&&dn(Ae,J,$,z),be&&qn($,z,J,"updated")},le)},D=(z,$,J,le,se,ie,we)=>{for(let fe=0;fe<$.length;fe++){const ue=z[fe],ce=$[fe],be=ue.el&&(ue.type===sn||!Bn(ue,ce)||ue.shapeFlag&198)?h(ue.el):J;_(ue,ce,be,null,le,se,ie,we,!0)}},V=(z,$,J,le,se)=>{if($!==J){if($!==nt)for(const ie in $)!ys(ie)&&!(ie in J)&&o(z,ie,$[ie],null,se,le);for(const ie in J){if(ys(ie))continue;const we=J[ie],fe=$[ie];we!==fe&&ie!=="value"&&o(z,ie,fe,we,se,le)}"value"in J&&o(z,"value",$.value,J.value,se)}},j=(z,$,J,le,se,ie,we,fe,ue)=>{const ce=$.el=z?z.el:a(""),be=$.anchor=z?z.anchor:a("");let{patchFlag:de,dynamicChildren:ke,slotScopeIds:Ae}=$;Ae&&(fe=fe?fe.concat(Ae):Ae),z==null?(r(ce,J,le),r(be,J,le),oe($.children||[],J,be,se,ie,we,fe,ue)):de>0&&de&64&&ke&&z.dynamicChildren&&z.dynamicChildren.length===ke.length?(D(z.dynamicChildren,ke,J,se,ie,we,fe),($.key!=null||se&&$===se.subTree)&&Tf(z,$,!0)):M(z,$,J,be,se,ie,we,fe,ue)},E=(z,$,J,le,se,ie,we,fe,ue)=>{$.slotScopeIds=fe,z==null?$.shapeFlag&512?se.ctx.activate($,J,le,we,ue):f($,J,le,se,ie,we,ue):w(z,$,ue)},f=(z,$,J,le,se,ie,we)=>{const fe=z.component=R_(z,le,se);if(Si(z)&&(fe.ctx.renderer=pe),C_(fe,!1,we),fe.asyncDep){if(se&&se.registerDep(fe,S,we),!z.el){const ue=fe.subTree=at(Dt);R(null,ue,$,J),z.placeholder=ue.el}}else S(fe,z,$,J,se,ie,we)},w=(z,$,J)=>{const le=$.component=z.component;if(u_(z,$,J))if(le.asyncDep&&!le.asyncResolved){I(le,$,J);return}else le.next=$,le.update();else $.el=z.el,le.vnode=$},S=(z,$,J,le,se,ie,we)=>{const fe=()=>{if(z.isMounted){let{next:de,bu:ke,u:Ae,parent:A,vnode:m}=z;{const ee=s0(z);if(ee){de&&(de.el=m.el,I(z,de,we)),ee.asyncDep.then(()=>{wt(()=>{z.isUnmounted||ce()},se)});return}}let b=de,O;ns(z,!1),de?(de.el=m.el,I(z,de,we)):de=m,ke&&Vo(ke),(O=de.props&&de.props.onVnodeBeforeUpdate)&&dn(O,A,de,m),ns(z,!0);const q=hu(z),Y=z.subTree;z.subTree=q,_(Y,q,h(Y.el),H(Y),z,se,ie),de.el=q.el,b===null&&gc(z,q.el),Ae&&wt(Ae,se),(O=de.props&&de.props.onVnodeUpdated)&&wt(()=>dn(O,A,de,m),se)}else{let de;const{el:ke,props:Ae}=$,{bm:A,m,parent:b,root:O,type:q}=z,Y=Sr($);if(ns(z,!1),A&&Vo(A),!Y&&(de=Ae&&Ae.onVnodeBeforeMount)&&dn(de,b,$),ns(z,!0),ke&&Re){const ee=()=>{z.subTree=hu(z),Re(ke,z.subTree,z,se,null)};Y&&q.__asyncHydrate?q.__asyncHydrate(ke,z,ee):ee()}else{O.ce&&O.ce._hasShadowRoot()&&O.ce._injectChildStyle(q);const ee=z.subTree=hu(z);_(null,ee,J,le,z,se,ie),$.el=ee.el}if(m&&wt(m,se),!Y&&(de=Ae&&Ae.onVnodeMounted)){const ee=$;wt(()=>dn(de,b,ee),se)}($.shapeFlag&256||b&&Sr(b.vnode)&&b.vnode.shapeFlag&256)&&z.a&&wt(z.a,se),z.isMounted=!0,$=J=le=null}};z.scope.on();const ue=z.effect=new ry(fe);z.scope.off();const ce=z.update=ue.run.bind(ue),be=z.job=ue.runIfDirty.bind(ue);be.i=z,be.id=z.uid,ue.scheduler=()=>Sf(be),ns(z,!0),ce()},I=(z,$,J)=>{$.component=z;const le=z.vnode.props;z.vnode=$,z.next=null,f_(z,$.props,le,J),g_(z,$.children,J),Er(),Fh(z),kr()},M=(z,$,J,le,se,ie,we,fe,ue=!1)=>{const ce=z&&z.children,be=z?z.shapeFlag:0,de=$.children,{patchFlag:ke,shapeFlag:Ae}=$;if(ke>0){if(ke&128){K(ce,de,J,le,se,ie,we,fe,ue);return}else if(ke&256){U(ce,de,J,le,se,ie,we,fe,ue);return}}Ae&8?(be&16&&G(ce,se,ie),de!==ce&&u(J,de)):be&16?Ae&16?K(ce,de,J,le,se,ie,we,fe,ue):G(ce,se,ie,!0):(be&8&&u(J,""),Ae&16&&oe(de,J,le,se,ie,we,fe,ue))},U=(z,$,J,le,se,ie,we,fe,ue)=>{z=z||Qs,$=$||Qs;const ce=z.length,be=$.length,de=Math.min(ce,be);let ke;for(ke=0;ke<de;ke++){const Ae=$[ke]=ue?yr($[ke]):vn($[ke]);_(z[ke],Ae,J,null,se,ie,we,fe,ue)}ce>be?G(z,se,ie,!0,!1,de):oe($,J,le,se,ie,we,fe,ue,de)},K=(z,$,J,le,se,ie,we,fe,ue)=>{let ce=0;const be=$.length;let de=z.length-1,ke=be-1;for(;ce<=de&&ce<=ke;){const Ae=z[ce],A=$[ce]=ue?yr($[ce]):vn($[ce]);if(Bn(Ae,A))_(Ae,A,J,null,se,ie,we,fe,ue);else break;ce++}for(;ce<=de&&ce<=ke;){const Ae=z[de],A=$[ke]=ue?yr($[ke]):vn($[ke]);if(Bn(Ae,A))_(Ae,A,J,null,se,ie,we,fe,ue);else break;de--,ke--}if(ce>de){if(ce<=ke){const Ae=ke+1,A=Ae<be?$[Ae].el:le;for(;ce<=ke;)_(null,$[ce]=ue?yr($[ce]):vn($[ce]),J,A,se,ie,we,fe,ue),ce++}}else if(ce>ke)for(;ce<=de;)d(z[ce],se,ie,!0),ce++;else{const Ae=ce,A=ce,m=new Map;for(ce=A;ce<=ke;ce++){const xe=$[ce]=ue?yr($[ce]):vn($[ce]);xe.key!=null&&m.set(xe.key,ce)}let b,O=0;const q=ke-A+1;let Y=!1,ee=0;const Pe=new Array(q);for(ce=0;ce<q;ce++)Pe[ce]=0;for(ce=Ae;ce<=de;ce++){const xe=z[ce];if(O>=q){d(xe,se,ie,!0);continue}let je;if(xe.key!=null)je=m.get(xe.key);else for(b=A;b<=ke;b++)if(Pe[b-A]===0&&Bn(xe,$[b])){je=b;break}je===void 0?d(xe,se,ie,!0):(Pe[je-A]=ce+1,je>=ee?ee=je:Y=!0,_(xe,$[je],J,null,se,ie,we,fe,ue),O++)}const Le=Y?w_(Pe):Qs;for(b=Le.length-1,ce=q-1;ce>=0;ce--){const xe=A+ce,je=$[xe],Ce=$[xe+1],ot=xe+1<be?Ce.el||o0(Ce):le;Pe[ce]===0?_(null,je,J,ot,se,ie,we,fe,ue):Y&&(b<0||ce!==Le[b]?C(je,J,ot,2):b--)}}},C=(z,$,J,le,se=null)=>{const{el:ie,type:we,transition:fe,children:ue,shapeFlag:ce}=z;if(ce&6){C(z.component.subTree,$,J,le);return}if(ce&128){z.suspense.move($,J,le);return}if(ce&64){we.move(z,$,J,pe);return}if(we===sn){r(ie,$,J);for(let de=0;de<ue.length;de++)C(ue[de],$,J,le);r(z.anchor,$,J);return}if(we===Jo){k(z,$,J);return}if(le!==2&&ce&1&&fe)if(le===0)fe.beforeEnter(ie),r(ie,$,J),wt(()=>fe.enter(ie),se);else{const{leave:de,delayLeave:ke,afterLeave:Ae}=fe,A=()=>{z.ctx.isUnmounted?s(ie):r(ie,$,J)},m=()=>{ie._isLeaving&&ie[Zn](!0),de(ie,()=>{A(),Ae&&Ae()})};ke?ke(ie,A,m):m()}else r(ie,$,J)},d=(z,$,J,le=!1,se=!1)=>{const{type:ie,props:we,ref:fe,children:ue,dynamicChildren:ce,shapeFlag:be,patchFlag:de,dirs:ke,cacheIndex:Ae}=z;if(de===-2&&(se=!1),fe!=null&&(Er(),no(fe,null,J,z,!0),kr()),Ae!=null&&($.renderCache[Ae]=void 0),be&256){$.ctx.deactivate(z);return}const A=be&1&&ke,m=!Sr(z);let b;if(m&&(b=we&&we.onVnodeBeforeUnmount)&&dn(b,$,z),be&6)L(z.component,J,le);else{if(be&128){z.suspense.unmount(J,le);return}A&&qn(z,null,$,"beforeUnmount"),be&64?z.type.remove(z,$,J,pe,le):ce&&!ce.hasOnce&&(ie!==sn||de>0&&de&64)?G(ce,$,J,!1,!0):(ie===sn&&de&384||!se&&be&16)&&G(ue,$,J),le&&y(z)}(m&&(b=we&&we.onVnodeUnmounted)||A)&&wt(()=>{b&&dn(b,$,z),A&&qn(z,null,$,"unmounted")},J)},y=z=>{const{type:$,el:J,anchor:le,transition:se}=z;if($===sn){T(J,le);return}if($===Jo){B(z);return}const ie=()=>{s(J),se&&!se.persisted&&se.afterLeave&&se.afterLeave()};if(z.shapeFlag&1&&se&&!se.persisted){const{leave:we,delayLeave:fe}=se,ue=()=>we(J,ie);fe?fe(z.el,ie,ue):ue()}else ie()},T=(z,$)=>{let J;for(;z!==$;)J=g(z),s(z),z=J;s($)},L=(z,$,J)=>{const{bum:le,scope:se,job:ie,subTree:we,um:fe,m:ue,a:ce}=z;Oa(ue),Oa(ce),le&&Vo(le),se.stop(),ie&&(ie.flags|=8,d(we,z,$,J)),fe&&wt(fe,$),wt(()=>{z.isUnmounted=!0},$)},G=(z,$,J,le=!1,se=!1,ie=0)=>{for(let we=ie;we<z.length;we++)d(z[we],$,J,le,se)},H=z=>{if(z.shapeFlag&6)return H(z.component.subTree);if(z.shapeFlag&128)return z.suspense.next();const $=g(z.anchor||z.el),J=$&&$[Ay];return J?g(J):$};let ne=!1;const re=(z,$,J)=>{let le;z==null?$._vnode&&(d($._vnode,null,null,!0),le=$._vnode.component):_($._vnode||null,z,$,null,null,null,J),$._vnode=z,ne||(ne=!0,Fh(le),Ma(),ne=!1)},pe={p:_,um:d,m:C,r:y,mt:f,mc:oe,pc:M,pbc:D,n:H,o:e};let Ee,Re;return t&&([Ee,Re]=t(pe)),{render:re,hydrate:Ee,createApp:n_(re,Ee)}}function du({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function ns({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function r0(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Tf(e,t,n=!1){const r=e.children,s=t.children;if(Oe(r)&&Oe(s))for(let o=0;o<r.length;o++){const i=r[o];let a=s[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[o]=yr(s[o]),a.el=i.el),!n&&a.patchFlag!==-2&&Tf(i,a)),a.type===bs&&(a.patchFlag===-1&&(a=s[o]=yr(a)),a.el=i.el),a.type===Dt&&!a.el&&(a.el=i.el)}}function w_(e){const t=e.slice(),n=[0];let r,s,o,i,a;const c=e.length;for(r=0;r<c;r++){const l=e[r];if(l!==0){if(s=n[n.length-1],e[s]<l){t[r]=s,n.push(r);continue}for(o=0,i=n.length-1;o<i;)a=o+i>>1,e[n[a]]<l?o=a+1:i=a;l<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,i=n[o-1];o-- >0;)n[o]=i,i=t[i];return n}function s0(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:s0(t)}function Oa(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function o0(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?o0(t.subTree):null}const Ba=e=>e.__isSuspense;let Al=0;const b_={name:"Suspense",__isSuspense:!0,process(e,t,n,r,s,o,i,a,c,l){if(e==null)v_(t,n,r,s,o,i,a,c,l);else{if(o&&o.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}__(e,t,n,r,s,i,a,c,l)}},hydrate:S_,normalize:E_},Mf=b_;function ci(e,t){const n=e.props&&e.props[t];Be(n)&&n()}function v_(e,t,n,r,s,o,i,a,c){const{p:l,o:{createElement:u}}=c,h=u("div"),g=e.suspense=i0(e,s,r,t,h,n,o,i,a,c);l(null,g.pendingBranch=e.ssContent,h,null,r,g,o,i),g.deps>0?(ci(e,"onPending"),ci(e,"onFallback"),l(null,e.ssFallback,t,n,r,null,o,i),ro(g,e.ssFallback)):g.resolve(!1,!0)}function __(e,t,n,r,s,o,i,a,{p:c,um:l,o:{createElement:u}}){const h=t.suspense=e.suspense;h.vnode=t,t.el=e.el;const g=t.ssContent,p=t.ssFallback,{activeBranch:v,pendingBranch:_,isInFallback:x,isHydrating:R}=h;if(_)h.pendingBranch=g,Bn(_,g)?(c(_,g,h.hiddenContainer,null,s,h,o,i,a),h.deps<=0?h.resolve():x&&(R||(c(v,p,n,r,s,null,o,i,a),ro(h,p)))):(h.pendingId=Al++,R?(h.isHydrating=!1,h.activeBranch=_):l(_,s,h),h.deps=0,h.effects.length=0,h.hiddenContainer=u("div"),x?(c(null,g,h.hiddenContainer,null,s,h,o,i,a),h.deps<=0?h.resolve():(c(v,p,n,r,s,null,o,i,a),ro(h,p))):v&&Bn(v,g)?(c(v,g,n,r,s,h,o,i,a),h.resolve(!0)):(c(null,g,h.hiddenContainer,null,s,h,o,i,a),h.deps<=0&&h.resolve()));else if(v&&Bn(v,g))c(v,g,n,r,s,h,o,i,a),ro(h,g);else if(ci(t,"onPending"),h.pendingBranch=g,g.shapeFlag&512?h.pendingId=g.component.suspenseId:h.pendingId=Al++,c(null,g,h.hiddenContainer,null,s,h,o,i,a),h.deps<=0)h.resolve();else{const{timeout:N,pendingId:k}=h;N>0?setTimeout(()=>{h.pendingId===k&&h.fallback(p)},N):N===0&&h.fallback(p)}}function i0(e,t,n,r,s,o,i,a,c,l,u=!1){const{p:h,m:g,um:p,n:v,o:{parentNode:_,remove:x}}=l;let R;const N=k_(e);N&&t&&t.pendingBranch&&(R=t.pendingId,t.deps++);const k=e.props?Jg(e.props.timeout):void 0,B=o,F={vnode:e,parent:t,parentComponent:n,namespace:i,container:r,hiddenContainer:s,deps:0,pendingId:Al++,timeout:typeof k=="number"?k:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(Z=!1,te=!1){const{vnode:oe,activeBranch:P,pendingBranch:D,pendingId:V,effects:j,parentComponent:E,container:f,isInFallback:w}=F;let S=!1;F.isHydrating?F.isHydrating=!1:Z||(S=P&&D.transition&&D.transition.mode==="out-in",S&&(P.transition.afterLeave=()=>{V===F.pendingId&&(g(D,f,o===B?v(P):o,0),yl(j),w&&oe.ssFallback&&(oe.ssFallback.el=null))}),P&&(_(P.el)===f&&(o=v(P)),p(P,E,F,!0),!S&&w&&oe.ssFallback&&wt(()=>oe.ssFallback.el=null,F)),S||g(D,f,o,0)),ro(F,D),F.pendingBranch=null,F.isInFallback=!1;let I=F.parent,M=!1;for(;I;){if(I.pendingBranch){I.effects.push(...j),M=!0;break}I=I.parent}!M&&!S&&yl(j),F.effects=[],N&&t&&t.pendingBranch&&R===t.pendingId&&(t.deps--,t.deps===0&&!te&&t.resolve()),ci(oe,"onResolve")},fallback(Z){if(!F.pendingBranch)return;const{vnode:te,activeBranch:oe,parentComponent:P,container:D,namespace:V}=F;ci(te,"onFallback");const j=v(oe),E=()=>{F.isInFallback&&(h(null,Z,D,j,P,null,V,a,c),ro(F,Z))},f=Z.transition&&Z.transition.mode==="out-in";f&&(oe.transition.afterLeave=E),F.isInFallback=!0,p(oe,P,null,!0),f||E()},move(Z,te,oe){F.activeBranch&&g(F.activeBranch,Z,te,oe),F.container=Z},next(){return F.activeBranch&&v(F.activeBranch)},registerDep(Z,te,oe){const P=!!F.pendingBranch;P&&F.deps++;const D=Z.vnode.el;Z.asyncDep.catch(V=>{xo(V,Z,0)}).then(V=>{if(Z.isUnmounted||F.isUnmounted||F.pendingId!==Z.suspenseId)return;Z.asyncResolved=!0;const{vnode:j}=Z;Il(Z,V),D&&(j.el=D);const E=!D&&Z.subTree.el;te(Z,j,_(D||Z.subTree.el),D?null:v(Z.subTree),F,i,oe),E&&(j.placeholder=null,x(E)),gc(Z,j.el),P&&--F.deps===0&&F.resolve()})},unmount(Z,te){F.isUnmounted=!0,F.activeBranch&&p(F.activeBranch,n,Z,te),F.pendingBranch&&p(F.pendingBranch,n,Z,te)}};return F}function S_(e,t,n,r,s,o,i,a,c){const l=t.suspense=i0(t,r,n,e.parentNode,document.createElement("div"),null,s,o,i,a,!0),u=c(e,l.pendingBranch=t.ssContent,n,l,o,i);return l.deps===0&&l.resolve(!1,!0),u}function E_(e){const{shapeFlag:t,children:n}=e,r=t&32;e.ssContent=sd(r?n.default:n),e.ssFallback=r?sd(n.fallback):at(Dt)}function sd(e){let t;if(Be(e)){const n=po&&e._c;n&&(e._d=!1,In()),e=e(),n&&(e._d=!0,t=yn,c0())}return Oe(e)&&(e=i_(e)),e=vn(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function a0(e,t){t&&t.pendingBranch?Oe(e)?t.effects.push(...e):t.effects.push(e):yl(e)}function ro(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e;let s=t.el;for(;!s&&t.component;)t=t.component.subTree,s=t.el;n.el=s,r&&r.subTree===n&&(r.vnode.el=s,gc(r,s))}function k_(e){const t=e.props&&e.props.suspensible;return t!=null&&t!==!1}const sn=Symbol.for("v-fgt"),bs=Symbol.for("v-txt"),Dt=Symbol.for("v-cmt"),Jo=Symbol.for("v-stc"),Qo=[];let yn=null;function In(e=!1){Qo.push(yn=e?null:[])}function c0(){Qo.pop(),yn=Qo[Qo.length-1]||null}let po=1;function Pa(e,t=!1){po+=e,e<0&&yn&&t&&(yn.hasOnce=!0)}function u0(e){return e.dynamicChildren=po>0?yn||Qs:null,c0(),po>0&&yn&&yn.push(e),e}function A_(e,t,n,r,s,o){return u0(f0(e,t,n,r,s,o,!0))}function Yn(e,t,n,r,s){return u0(at(e,t,n,r,s,!0))}function Es(e){return e?e.__v_isVNode===!0:!1}function Bn(e,t){return e.type===t.type&&e.key===t.key}const l0=({key:e})=>e??null,da=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?rt(e)||zt(e)||Be(e)?{i:ln,r:e,k:t,f:!!n}:e:null);function f0(e,t=null,n=null,r=0,s=null,o=e===sn?0:1,i=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&l0(t),ref:t&&da(t),scopeId:Ey,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:ln};return a?(Rf(c,n),o&128&&e.normalize(c)):n&&(c.shapeFlag|=rt(n)?8:16),po>0&&!i&&yn&&(c.patchFlag>0||o&6)&&c.patchFlag!==32&&yn.push(c),c}const at=x_;function x_(e,t=null,n=null,r=0,s=null,o=!1){if((!e||e===jy)&&(e=Dt),Es(e)){const a=Mn(e,t,!0);return n&&Rf(a,n),po>0&&!o&&yn&&(a.shapeFlag&6?yn[yn.indexOf(e)]=a:yn.push(a)),a.patchFlag=-2,a}if(P_(e)&&(e=e.__vccOpts),t){t=h0(t);let{class:a,style:c}=t;a&&!rt(a)&&(t.class=uc(a)),Ke(c)&&(fc(c)&&!Oe(c)&&(c=$t({},c)),t.style=cc(c))}const i=rt(e)?1:Ba(e)?128:xy(e)?64:Ke(e)?4:Be(e)?2:0;return f0(e,t,n,r,s,i,o,!0)}function h0(e){return e?fc(e)||Yy(e)?$t({},e):e:null}function Mn(e,t,n=!1,r=!1){const{props:s,ref:o,patchFlag:i,children:a,transition:c}=e,l=t?p0(s||{},t):s,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&l0(l),ref:t&&t.ref?n&&o?Oe(o)?o.concat(da(t)):[o,da(t)]:da(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==sn?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Mn(e.ssContent),ssFallback:e.ssFallback&&Mn(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&r&&ho(u,c.clone(u)),u}function d0(e=" ",t=0){return at(bs,null,e,t)}function I_(e,t){const n=at(Jo,null,e);return n.staticCount=t,n}function _L(e="",t=!1){return t?(In(),Yn(Dt,null,e)):at(Dt,null,e)}function vn(e){return e==null||typeof e=="boolean"?at(Dt):Oe(e)?at(sn,null,e.slice()):Es(e)?yr(e):at(bs,null,String(e))}function yr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Mn(e)}function Rf(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Oe(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Rf(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!Yy(t)?t._ctx=ln:s===3&&ln&&(ln.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Be(t)?(t={default:t,_ctx:ln},n=32):(t=String(t),r&64?(n=16,t=[d0(t)]):n=8);e.children=t,e.shapeFlag|=n}function p0(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=uc([t.class,r.class]));else if(s==="style")t.style=cc([t.style,r.style]);else if(vi(s)){const o=t[s],i=r[s];i&&o!==i&&!(Oe(o)&&o.includes(i))&&(t[s]=o?[].concat(o,i):i)}else s!==""&&(t[s]=r[s])}return t}function dn(e,t,n,r=null){jn(e,t,7,[n,r])}const T_=Ky();let M_=0;function R_(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||T_,o={uid:M_++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ty(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Qy(r,s),emitsOptions:Vy(r,s),emit:null,emitted:null,propsDefaults:nt,inheritAttrs:r.inheritAttrs,ctx:nt,data:nt,props:nt,attrs:nt,slots:nt,refs:nt,setupState:nt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=s_.bind(null,o),e.ce&&e.ce(o),o}let qt=null;const Ts=()=>qt||ln;let La,xl;{const e=ac(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),o=>{s.length>1?s.forEach(i=>i(o)):s[0](o)}};La=t("__VUE_INSTANCE_SETTERS__",n=>qt=n),xl=t("__VUE_SSR_SETTERS__",n=>go=n)}const ki=e=>{const t=qt;return La(e),e.scope.on(),()=>{e.scope.off(),La(t)}},od=()=>{qt&&qt.scope.off(),La(null)};function g0(e){return e.vnode.shapeFlag&4}let go=!1;function C_(e,t=!1,n=!1){t&&xl(t);const{props:r,children:s}=e.vnode,o=g0(e);l_(e,r,o,t),p_(e,s,n||t);const i=o?N_(e,t):void 0;return t&&xl(!1),i}function N_(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Gv);const{setup:r}=n;if(r){Er();const s=e.setupContext=r.length>1?B_(e):null,o=ki(e),i=_i(r,e,0,[e.props,s]),a=df(i);if(kr(),o(),(a||e.sp)&&!Sr(e)&&Af(e),a){if(i.then(od,od),t)return i.then(c=>{Il(e,c)}).catch(c=>{xo(c,e,0)});e.asyncDep=i}else Il(e,i)}else y0(e)}function Il(e,t,n){Be(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ke(t)&&(e.setupState=by(t)),y0(e)}function y0(e,t,n){const r=e.type;e.render||(e.render=r.render||rr);{const s=ki(e);Er();try{Yv(e)}finally{kr(),s()}}}const O_={get(e,t){return rn(e,"get",""),e[t]}};function B_(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,O_),slots:e.slots,emit:e.emit,expose:t}}function Cf(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(by(my(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Yo)return Yo[n](e)},has(t,n){return n in t||n in Yo}})):e.proxy}function Tl(e,t=!0){return Be(e)?e.displayName||e.name:e.name||t&&e.__name}function P_(e){return Be(e)&&"__vccOpts"in e}const Tn=(e,t)=>Sv(e,t,go);function gt(e,t,n){try{Pa(-1);const r=arguments.length;return r===2?Ke(t)&&!Oe(t)?Es(t)?at(e,null,[t]):at(e,t):at(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Es(n)&&(n=[n]),at(e,t,n))}finally{Pa(1)}}const L_="3.5.28";let Ml;const id=typeof window<"u"&&window.trustedTypes;if(id)try{Ml=id.createPolicy("vue",{createHTML:e=>e})}catch{}const m0=Ml?e=>Ml.createHTML(e):e=>e,D_="http://www.w3.org/2000/svg",z_="http://www.w3.org/1998/Math/MathML",gr=typeof document<"u"?document:null,ad=gr&&gr.createElement("template"),U_={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?gr.createElementNS(D_,e):t==="mathml"?gr.createElementNS(z_,e):n?gr.createElement(e,{is:n}):gr.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>gr.createTextNode(e),createComment:e=>gr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>gr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,o){const i=n?n.previousSibling:t.lastChild;if(s&&(s===o||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{ad.innerHTML=m0(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=ad.content;if(r==="svg"||r==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Mr="transition",Bo="animation",ui=Symbol("_vtc"),w0={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},j_=$t({},Ty,w0),$_=e=>(e.displayName="Transition",e.props=j_,e),F_=$_((e,{slots:t})=>gt(Bv,W_(e),t)),rs=(e,t=[])=>{Oe(e)?e.forEach(n=>n(...t)):e&&e(...t)},cd=e=>e?Oe(e)?e.some(t=>t.length>1):e.length>1:!1;function W_(e){const t={};for(const j in e)j in w0||(t[j]=e[j]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:o=`${n}-enter-from`,enterActiveClass:i=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=o,appearActiveClass:l=i,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:g=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,v=H_(s),_=v&&v[0],x=v&&v[1],{onBeforeEnter:R,onEnter:N,onEnterCancelled:k,onLeave:B,onLeaveCancelled:F,onBeforeAppear:Z=R,onAppear:te=N,onAppearCancelled:oe=k}=t,P=(j,E,f,w)=>{j._enterCancelled=w,ss(j,E?u:a),ss(j,E?l:i),f&&f()},D=(j,E)=>{j._isLeaving=!1,ss(j,h),ss(j,p),ss(j,g),E&&E()},V=j=>(E,f)=>{const w=j?te:N,S=()=>P(E,j,f);rs(w,[E,S]),ud(()=>{ss(E,j?c:o),lr(E,j?u:a),cd(w)||ld(E,r,_,S)})};return $t(t,{onBeforeEnter(j){rs(R,[j]),lr(j,o),lr(j,i)},onBeforeAppear(j){rs(Z,[j]),lr(j,c),lr(j,l)},onEnter:V(!1),onAppear:V(!0),onLeave(j,E){j._isLeaving=!0;const f=()=>D(j,E);lr(j,h),j._enterCancelled?(lr(j,g),dd(j)):(dd(j),lr(j,g)),ud(()=>{j._isLeaving&&(ss(j,h),lr(j,p),cd(B)||ld(j,r,x,f))}),rs(B,[j,f])},onEnterCancelled(j){P(j,!1,void 0,!0),rs(k,[j])},onAppearCancelled(j){P(j,!0,void 0,!0),rs(oe,[j])},onLeaveCancelled(j){D(j),rs(F,[j])}})}function H_(e){if(e==null)return null;if(Ke(e))return[pu(e.enter),pu(e.leave)];{const t=pu(e);return[t,t]}}function pu(e){return Jg(e)}function lr(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[ui]||(e[ui]=new Set)).add(t)}function ss(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[ui];n&&(n.delete(t),n.size||(e[ui]=void 0))}function ud(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let K_=0;function ld(e,t,n,r){const s=e._endId=++K_,o=()=>{s===e._endId&&r()};if(n!=null)return setTimeout(o,n);const{type:i,timeout:a,propCount:c}=V_(e,t);if(!i)return r();const l=i+"end";let u=0;const h=()=>{e.removeEventListener(l,g),o()},g=p=>{p.target===e&&++u>=c&&h()};setTimeout(()=>{u<c&&h()},a+1),e.addEventListener(l,g)}function V_(e,t){const n=window.getComputedStyle(e),r=v=>(n[v]||"").split(", "),s=r(`${Mr}Delay`),o=r(`${Mr}Duration`),i=fd(s,o),a=r(`${Bo}Delay`),c=r(`${Bo}Duration`),l=fd(a,c);let u=null,h=0,g=0;t===Mr?i>0&&(u=Mr,h=i,g=o.length):t===Bo?l>0&&(u=Bo,h=l,g=c.length):(h=Math.max(i,l),u=h>0?i>l?Mr:Bo:null,g=u?u===Mr?o.length:c.length:0);const p=u===Mr&&/\b(?:transform|all)(?:,|$)/.test(r(`${Mr}Property`).toString());return{type:u,timeout:h,propCount:g,hasTransform:p}}function fd(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>hd(n)+hd(e[r])))}function hd(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function dd(e){return(e?e.ownerDocument:document).body.offsetHeight}function q_(e,t,n){const r=e[ui];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const pd=Symbol("_vod"),Z_=Symbol("_vsh"),G_=Symbol(""),Y_=/(?:^|;)\s*display\s*:/;function J_(e,t,n){const r=e.style,s=rt(n);let o=!1;if(n&&!s){if(t)if(rt(t))for(const i of t.split(";")){const a=i.slice(0,i.indexOf(":")).trim();n[a]==null&&pa(r,a,"")}else for(const i in t)n[i]==null&&pa(r,i,"");for(const i in n)i==="display"&&(o=!0),pa(r,i,n[i])}else if(s){if(t!==n){const i=r[G_];i&&(n+=";"+i),r.cssText=n,o=Y_.test(n)}}else t&&e.removeAttribute("style");pd in e&&(e[pd]=o?r.display:"",e[Z_]&&(r.display="none"))}const gd=/\s*!important$/;function pa(e,t,n){if(Oe(n))n.forEach(r=>pa(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Q_(e,t);gd.test(n)?e.setProperty(Qr(r),n.replace(gd,""),"important"):e[r]=n}}const yd=["Webkit","Moz","ms"],gu={};function Q_(e,t){const n=gu[t];if(n)return n;let r=Rn(t);if(r!=="filter"&&r in e)return gu[t]=r;r=ic(r);for(let s=0;s<yd.length;s++){const o=yd[s]+r;if(o in e)return gu[t]=o}return t}const md="http://www.w3.org/1999/xlink";function wd(e,t,n,r,s,o=Kb(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(md,t.slice(6,t.length)):e.setAttributeNS(md,t,n):n==null||o&&!Qg(n)?e.removeAttribute(t):e.setAttribute(t,o?"":zn(n)?String(n):n)}function bd(e,t,n,r,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?m0(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(a!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let i=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=Qg(n):n==null&&a==="string"?(n="",i=!0):a==="number"&&(n=0,i=!0)}try{e[t]=n}catch{}i&&e.removeAttribute(s||t)}function X_(e,t,n,r){e.addEventListener(t,n,r)}function e1(e,t,n,r){e.removeEventListener(t,n,r)}const vd=Symbol("_vei");function t1(e,t,n,r,s=null){const o=e[vd]||(e[vd]={}),i=o[t];if(r&&i)i.value=r;else{const[a,c]=n1(t);if(r){const l=o[t]=o1(r,s);X_(e,a,l,c)}else i&&(e1(e,a,i,c),o[t]=void 0)}}const _d=/(?:Once|Passive|Capture)$/;function n1(e){let t;if(_d.test(e)){t={};let r;for(;r=e.match(_d);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Qr(e.slice(2)),t]}let yu=0;const r1=Promise.resolve(),s1=()=>yu||(r1.then(()=>yu=0),yu=Date.now());function o1(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;jn(i1(r,n.value),t,5,[r])};return n.value=e,n.attached=s1(),n}function i1(e,t){if(Oe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const Sd=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,a1=(e,t,n,r,s,o)=>{const i=s==="svg";t==="class"?q_(e,r,i):t==="style"?J_(e,n,r):vi(t)?ff(t)||t1(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):c1(e,t,r,i))?(bd(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&wd(e,t,r,i,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!rt(r))?bd(e,Rn(t),r,o,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),wd(e,t,r,i))};function c1(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Sd(t)&&Be(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Sd(t)&&rt(n)?!1:t in e}const u1=["ctrl","shift","alt","meta"],l1={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>u1.some(n=>e[`${n}Key`]&&!t.includes(n))},SL=(e,t)=>{if(!e)return e;const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=((s,...o)=>{for(let i=0;i<t.length;i++){const a=l1[t[i]];if(a&&a(s,t))return}return e(s,...o)}))},f1={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},EL=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=(s=>{if(!("key"in s))return;const o=Qr(s.key);if(t.some(i=>i===o||f1[i]===o))return e(s)}))},b0=$t({patchProp:a1},U_);let Xo,Ed=!1;function h1(){return Xo||(Xo=y_(b0))}function d1(){return Xo=Ed?Xo:m_(b0),Ed=!0,Xo}const p1=((...e)=>{const t=h1().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=_0(r);if(!s)return;const o=t._component;!Be(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const i=n(s,!1,v0(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),i},t}),g1=((...e)=>{const t=d1().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=_0(r);if(s)return n(s,!0,v0(s))},t});function v0(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function _0(e){return rt(e)?document.querySelector(e):e}const y1=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,m1=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,w1=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function b1(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){v1(e);return}return t}function v1(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function Da(e,t={}){if(typeof e!="string")return e;if(e[0]==='"'&&e[e.length-1]==='"'&&e.indexOf("\\")===-1)return e.slice(1,-1);const n=e.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!w1.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(y1.test(e)||m1.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,b1)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}const S0=/#/g,E0=/&/g,_1=/\//g,S1=/=/g,E1=/\?/g,yc=/\+/g,k1=/%5e/gi,A1=/%60/gi,x1=/%7c/gi,I1=/%20/gi,T1=/%2f/gi,M1=/%252f/gi;function k0(e){return encodeURI(""+e).replace(x1,"|")}function Rl(e){return k0(typeof e=="string"?e:JSON.stringify(e)).replace(yc,"%2B").replace(I1,"+").replace(S0,"%23").replace(E0,"%26").replace(A1,"`").replace(k1,"^").replace(_1,"%2F")}function mu(e){return Rl(e).replace(S1,"%3D")}function R1(e){return k0(e).replace(S0,"%23").replace(E1,"%3F").replace(M1,"%2F").replace(E0,"%26").replace(yc,"%2B")}function li(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function C1(e){return li(e.replace(T1,"%252F"))}function N1(e){return li(e.replace(yc," "))}function O1(e){return li(e.replace(yc," "))}function A0(e=""){const t=Object.create(null);e[0]==="?"&&(e=e.slice(1));for(const n of e.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const s=N1(r[1]);if(s==="__proto__"||s==="constructor")continue;const o=O1(r[2]||"");t[s]===void 0?t[s]=o:Array.isArray(t[s])?t[s].push(o):t[s]=[t[s],o]}return t}function B1(e,t){return(typeof t=="number"||typeof t=="boolean")&&(t=String(t)),t?Array.isArray(t)?t.map(n=>`${mu(e)}=${Rl(n)}`).join("&"):`${mu(e)}=${Rl(t)}`:mu(e)}function P1(e){return Object.keys(e).filter(t=>e[t]!==void 0).map(t=>B1(t,e[t])).filter(Boolean).join("&")}const L1=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,D1=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,z1=/^([/\\]\s*){2,}[^/\\]/,U1=/^[\s\0]*(blob|data|javascript|vbscript):$/i,j1=/\/$|\/\?|\/#/,$1=/^\.?\//;function Ms(e,t={}){return typeof t=="boolean"&&(t={acceptRelative:t}),t.strict?L1.test(e):D1.test(e)||(t.acceptRelative?z1.test(e):!1)}function F1(e){return!!e&&U1.test(e)}function Cl(e="",t){return t?j1.test(e):e.endsWith("/")}function za(e="",t){if(!t)return(Cl(e)?e.slice(0,-1):e)||"/";if(!Cl(e,!0))return e||"/";let n=e,r="";const s=e.indexOf("#");s!==-1&&(n=e.slice(0,s),r=e.slice(s));const[o,...i]=n.split("?");return((o.endsWith("/")?o.slice(0,-1):o)||"/")+(i.length>0?`?${i.join("?")}`:"")+r}function W1(e="",t){if(!t)return e.endsWith("/")?e:e+"/";if(Cl(e,!0))return e||"/";let n=e,r="";const s=e.indexOf("#");if(s!==-1&&(n=e.slice(0,s),r=e.slice(s),!n))return r;const[o,...i]=n.split("?");return o+"/"+(i.length>0?`?${i.join("?")}`:"")+r}function H1(e,t){if(I0(t)||Ms(e))return e;const n=za(t);if(e.startsWith(n)){const r=e[n.length];if(!r||r==="/"||r==="?")return e}return Nf(n,e)}function kd(e,t){if(I0(t))return e;const n=za(t);if(!e.startsWith(n))return e;const r=e[n.length];if(r&&r!=="/"&&r!=="?")return e;const s=e.slice(n.length);return s[0]==="/"?s:"/"+s}function x0(e,t){const n=Of(e),r={...A0(n.search),...t};return n.search=P1(r),q1(n)}function I0(e){return!e||e==="/"}function K1(e){return e&&e!=="/"}function Nf(e,...t){let n=e||"";for(const r of t.filter(s=>K1(s)))if(n){const s=r.replace($1,"");n=W1(n)+s}else n=r;return n}function T0(...e){const t=/\/(?!\/)/,n=e.filter(Boolean),r=[];let s=0;for(const i of n)if(!(!i||i==="/")){for(const[a,c]of i.split(t).entries())if(!(!c||c===".")){if(c===".."){if(r.length===1&&Ms(r[0]))continue;r.pop(),s--;continue}if(a===1&&r[r.length-1]?.endsWith(":/")){r[r.length-1]+="/"+c;continue}r.push(c),s++}}let o=r.join("/");return s>=0?n[0]?.startsWith("/")&&!o.startsWith("/")?o="/"+o:n[0]?.startsWith("./")&&!o.startsWith("./")&&(o="./"+o):o="../".repeat(-1*s)+o,n[n.length-1]?.endsWith("/")&&!o.endsWith("/")&&(o+="/"),o}function V1(e,t){return li(za(e))===li(za(t))}const M0=Symbol.for("ufo:protocolRelative");function Of(e="",t){const n=e.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,h,g=""]=n;return{protocol:h.toLowerCase(),pathname:g,href:h+g,auth:"",host:"",search:"",hash:""}}if(!Ms(e,{acceptRelative:!0}))return Ad(e);const[,r="",s,o=""]=e.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,i="",a=""]=o.match(/([^#/?]*)(.*)?/)||[];r==="file:"&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:c,search:l,hash:u}=Ad(a);return{protocol:r.toLowerCase(),auth:s?s.slice(0,Math.max(0,s.length-1)):"",host:i,pathname:c,search:l,hash:u,[M0]:!r}}function Ad(e=""){const[t="",n="",r=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:n,hash:r}}function q1(e){const t=e.pathname||"",n=e.search?(e.search.startsWith("?")?"":"?")+e.search:"",r=e.hash||"",s=e.auth?e.auth+"@":"",o=e.host||"";return(e.protocol||e[M0]?(e.protocol||"")+"//":"")+s+o+t+n+r}class Z1 extends Error{constructor(t,n){super(t,n),this.name="FetchError",n?.cause&&!this.cause&&(this.cause=n.cause)}}function G1(e){const t=e.error?.message||e.error?.toString()||"",n=e.request?.method||e.options?.method||"GET",r=e.request?.url||String(e.request)||"/",s=`[${n}] ${JSON.stringify(r)}`,o=e.response?`${e.response.status} ${e.response.statusText}`:"<no response>",i=`${s}: ${o}${t?` ${t}`:""}`,a=new Z1(i,e.error?{cause:e.error}:void 0);for(const c of["request","options","response"])Object.defineProperty(a,c,{get(){return e[c]}});for(const[c,l]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,c,{get(){return e.response&&e.response[l]}});return a}const Y1=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function xd(e="GET"){return Y1.has(e.toUpperCase())}function J1(e){if(e===void 0)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"||t===null?!0:t!=="object"?!1:Array.isArray(e)?!0:e.buffer||e instanceof FormData||e instanceof URLSearchParams?!1:e.constructor&&e.constructor.name==="Object"||typeof e.toJSON=="function"}const Q1=new Set(["image/svg","application/xml","application/xhtml","application/html"]),X1=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function eS(e=""){if(!e)return"json";const t=e.split(";").shift()||"";return X1.test(t)?"json":t==="text/event-stream"?"stream":Q1.has(t)||t.startsWith("text/")?"text":"blob"}function tS(e,t,n,r){const s=nS(t?.headers??e?.headers,n?.headers,r);let o;return(n?.query||n?.params||t?.params||t?.query)&&(o={...n?.params,...n?.query,...t?.params,...t?.query}),{...n,...t,query:o,params:o,headers:s}}function nS(e,t,n){if(!t)return new n(e);const r=new n(t);if(e)for(const[s,o]of Symbol.iterator in e||Array.isArray(e)?e:new n(e))r.set(s,o);return r}async function Hi(e,t){if(t)if(Array.isArray(t))for(const n of t)await n(e);else await t(e)}const rS=new Set([408,409,425,429,500,502,503,504]),sS=new Set([101,204,205,304]);function R0(e={}){const{fetch:t=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=e;async function s(a){const c=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!c){let u;typeof a.options.retry=="number"?u=a.options.retry:u=xd(a.options.method)?0:1;const h=a.response&&a.response.status||500;if(u>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(h):rS.has(h))){const g=typeof a.options.retryDelay=="function"?a.options.retryDelay(a):a.options.retryDelay||0;return g>0&&await new Promise(p=>setTimeout(p,g)),o(a.request,{...a.options,retry:u-1})}}const l=G1(a);throw Error.captureStackTrace&&Error.captureStackTrace(l,o),l}const o=async function(c,l={}){const u={request:c,options:tS(c,l,e.defaults,n),response:void 0,error:void 0};if(u.options.method&&(u.options.method=u.options.method.toUpperCase()),u.options.onRequest&&(await Hi(u,u.options.onRequest),u.options.headers instanceof n||(u.options.headers=new n(u.options.headers||{}))),typeof u.request=="string"&&(u.options.baseURL&&(u.request=H1(u.request,u.options.baseURL)),u.options.query&&(u.request=x0(u.request,u.options.query),delete u.options.query),"query"in u.options&&delete u.options.query,"params"in u.options&&delete u.options.params),u.options.body&&xd(u.options.method))if(J1(u.options.body)){const p=u.options.headers.get("content-type");typeof u.options.body!="string"&&(u.options.body=p==="application/x-www-form-urlencoded"?new URLSearchParams(u.options.body).toString():JSON.stringify(u.options.body)),p||u.options.headers.set("content-type","application/json"),u.options.headers.has("accept")||u.options.headers.set("accept","application/json")}else("pipeTo"in u.options.body&&typeof u.options.body.pipeTo=="function"||typeof u.options.body.pipe=="function")&&("duplex"in u.options||(u.options.duplex="half"));let h;if(!u.options.signal&&u.options.timeout){const p=new r;h=setTimeout(()=>{const v=new Error("[TimeoutError]: The operation was aborted due to timeout");v.name="TimeoutError",v.code=23,p.abort(v)},u.options.timeout),u.options.signal=p.signal}try{u.response=await t(u.request,u.options)}catch(p){return u.error=p,u.options.onRequestError&&await Hi(u,u.options.onRequestError),await s(u)}finally{h&&clearTimeout(h)}if((u.response.body||u.response._bodyInit)&&!sS.has(u.response.status)&&u.options.method!=="HEAD"){const p=(u.options.parseResponse?"json":u.options.responseType)||eS(u.response.headers.get("content-type")||"");switch(p){case"json":{const v=await u.response.text(),_=u.options.parseResponse||Da;u.response._data=_(v);break}case"stream":{u.response._data=u.response.body||u.response._bodyInit;break}default:u.response._data=await u.response[p]()}}return u.options.onResponse&&await Hi(u,u.options.onResponse),!u.options.ignoreResponseError&&u.response.status>=400&&u.response.status<600?(u.options.onResponseError&&await Hi(u,u.options.onResponseError),await s(u)):u.response},i=async function(c,l){return(await o(c,l))._data};return i.raw=o,i.native=(...a)=>t(...a),i.create=(a={},c={})=>R0({...e,...c,defaults:{...e.defaults,...c.defaults,...a}}),i}const Ua=(function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")})(),oS=Ua.fetch?(...e)=>Ua.fetch(...e):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),iS=Ua.Headers,aS=Ua.AbortController,cS=R0({fetch:oS,Headers:iS,AbortController:aS}),uS=cS,lS=()=>window?.__NUXT__?.config||window?.useNuxtApp?.().payload?.config,Bf=()=>lS().app,fS=()=>Bf().baseURL,hS=()=>Bf().buildAssetsDir,Pf=(...e)=>T0(C0(),hS(),...e),C0=(...e)=>{const t=Bf(),n=t.cdnURL||t.baseURL;return e.length?T0(n,...e):n};globalThis.__buildAssetsURL=Pf,globalThis.__publicAssetsURL=C0;globalThis.$fetch||(globalThis.$fetch=uS.create({baseURL:fS()}));"global"in globalThis||(globalThis.global=globalThis);function Nl(e,t={},n){for(const r in e){const s=e[r],o=n?`${n}:${r}`:r;typeof s=="object"&&s!==null?Nl(s,t,o):typeof s=="function"&&(t[o]=s)}return t}const dS={run:e=>e()},pS=()=>dS,N0=typeof console.createTask<"u"?console.createTask:pS;function gS(e,t){const n=t.shift(),r=N0(n);return e.reduce((s,o)=>s.then(()=>r.run(()=>o(...t))),Promise.resolve())}function yS(e,t){const n=t.shift(),r=N0(n);return Promise.all(e.map(s=>r.run(()=>s(...t))))}function wu(e,t){for(const n of[...e])n(t)}let mS=class{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,n,r={}){if(!t||typeof n!="function")return()=>{};const s=t;let o;for(;this._deprecatedHooks[t];)o=this._deprecatedHooks[t],t=o.to;if(o&&!r.allowDeprecated){let i=o.message;i||(i=`${s} hook has been deprecated`+(o.to?`, please use ${o.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(i)||(console.warn(i),this._deprecatedMessages.add(i))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(n),()=>{n&&(this.removeHook(t,n),n=void 0)}}hookOnce(t,n){let r,s=(...o)=>(typeof r=="function"&&r(),r=void 0,s=void 0,n(...o));return r=this.hook(t,s),r}removeHook(t,n){if(this._hooks[t]){const r=this._hooks[t].indexOf(n);r!==-1&&this._hooks[t].splice(r,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,n){this._deprecatedHooks[t]=typeof n=="string"?{to:n}:n;const r=this._hooks[t]||[];delete this._hooks[t];for(const s of r)this.hook(t,s)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const n in t)this.deprecateHook(n,t[n])}addHooks(t){const n=Nl(t),r=Object.keys(n).map(s=>this.hook(s,n[s]));return()=>{for(const s of r.splice(0,r.length))s()}}removeHooks(t){const n=Nl(t);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...n){return n.unshift(t),this.callHookWith(gS,t,...n)}callHookParallel(t,...n){return n.unshift(t),this.callHookWith(yS,t,...n)}callHookWith(t,n,...r){const s=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&wu(this._before,s);const o=t(n in this._hooks?[...this._hooks[n]]:[],r);return o instanceof Promise?o.finally(()=>{this._after&&s&&wu(this._after,s)}):(this._after&&s&&wu(this._after,s),o)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const n=this._before.indexOf(t);n!==-1&&this._before.splice(n,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const n=this._after.indexOf(t);n!==-1&&this._after.splice(n,1)}}}};function wS(){return new mS}function bS(e={}){let t,n=!1;const r=i=>{if(t&&t!==i)throw new Error("Context conflict")};let s;if(e.asyncContext){const i=e.AsyncLocalStorage||globalThis.AsyncLocalStorage;i?s=new i:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const o=()=>{if(s){const i=s.getStore();if(i!==void 0)return i}return t};return{use:()=>{const i=o();if(i===void 0)throw new Error("Context is not available");return i},tryUse:()=>o(),set:(i,a)=>{a||r(i),t=i,n=!0},unset:()=>{t=void 0,n=!1},call:(i,a)=>{r(i),t=i;try{return s?s.run(i,a):a()}finally{n||(t=void 0)}},async callAsync(i,a){t=i;const c=()=>{t=i},l=()=>t===i?c:void 0;Ol.add(l);try{const u=s?s.run(i,a):a();return n||(t=void 0),await u}finally{Ol.delete(l)}}}}function vS(e={}){const t={};return{get(n,r={}){return t[n]||(t[n]=bS({...e,...r})),t[n]}}}const ja=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},Id="__unctx__",_S=ja[Id]||(ja[Id]=vS()),SS=(e,t={})=>_S.get(e,t),Td="__unctx_async_handlers__",Ol=ja[Td]||(ja[Td]=new Set);function ei(e){const t=[];for(const s of Ol){const o=s();o&&t.push(o)}const n=()=>{for(const s of t)s()};let r=e();return r&&typeof r=="object"&&"catch"in r&&(r=r.catch(s=>{throw n(),s})),[r,n]}const ES=!1,Md=!1,kS=!1,Rd={id:"__nuxt-loader"},AL={componentName:"NuxtLink",prefetch:!0,prefetchOn:{visibility:!0}},AS="#__nuxt",O0="nuxt-app",Cd=36e5,xS="vite:preloadError";function B0(e=O0){return SS(e,{asyncContext:!1})}const IS="__nuxt_plugin";function TS(e){let t=0;const n={_id:e.id||O0||"nuxt-app",_scope:ny(),provide:void 0,versions:{get nuxt(){return"4.3.1"},get vue(){return n.vueApp.version}},payload:nr({...e.ssrContext?.payload||{},data:nr({}),state:Xr({}),once:new Set,_errors:nr({})}),static:{data:{}},runWithContext(s){return n._scope.active&&!gf()?n._scope.run(()=>Nd(n,s)):Nd(n,s)},isHydrating:!0,deferHydration(){if(!n.isHydrating)return()=>{};t++;let s=!1;return()=>{if(!s&&(s=!0,t--,t===0))return n.isHydrating=!1,n.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:nr({}),_payloadRevivers:{},...e};{const s=window.__NUXT__;if(s)for(const o in s)switch(o){case"data":case"state":case"_errors":Object.assign(n.payload[o],s[o]);break;default:n.payload[o]=s[o]}}n.hooks=wS(),n.hook=n.hooks.hook,n.callHook=n.hooks.callHook,n.provide=(s,o)=>{const i="$"+s;Ki(n,i,o),Ki(n.vueApp.config.globalProperties,i,o)},Ki(n.vueApp,"$nuxt",n),Ki(n.vueApp.config.globalProperties,"$nuxt",n);{window.addEventListener(xS,o=>{n.callHook("app:chunkError",{error:o.payload}),o.payload.message.includes("Unable to preload CSS")&&o.preventDefault()}),window.useNuxtApp||=yt;const s=n.hook("app:error",(...o)=>{console.error("[nuxt] error caught during app initialization",...o)});n.hook("app:mounted",s)}const r=n.payload.config;return n.provide("config",r),n}function MS(e,t){t.hooks&&e.hooks.addHooks(t.hooks)}async function RS(e,t){if(typeof t=="function"){const{provide:n}=await e.runWithContext(()=>t(e))||{};if(n&&typeof n=="object")for(const r in n)e.provide(r,n[r])}}async function CS(e,t){const n=new Set,r=[],s=[];let o,i=0;async function a(c){const l=c.dependsOn?.filter(u=>t.some(h=>h._name===u)&&!n.has(u))??[];if(l.length>0)r.push([new Set(l),c]);else{const u=RS(e,c).then(async()=>{c._name&&(n.add(c._name),await Promise.all(r.map(async([h,g])=>{h.has(c._name)&&(h.delete(c._name),h.size===0&&(i++,await a(g)))})))}).catch(h=>{if(!c.parallel&&!e.payload.error)throw h;o||=h});c.parallel?s.push(u):await u}}for(const c of t)MS(e,c);for(const c of t)await a(c);if(await Promise.all(s),i)for(let c=0;c<i;c++)await Promise.all(s);if(o)throw e.payload.error||o}function En(e){if(typeof e=="function")return e;const t=e._name||e.name;return delete e.name,Object.assign(e.setup||(()=>{}),e,{[IS]:!0,_name:t})}const NS=En;function Nd(e,t,n){const r=()=>t();return B0(e._id).set(e),e.vueApp.runWithContext(r)}function OS(e){let t;return hc()&&(t=Ts()?.appContext.app.$nuxt),t||=B0(e).tryUse(),t||null}function yt(e){const t=OS(e);if(!t)throw new Error("[nuxt] instance unavailable");return t}function Ai(e){return yt().$config}function Ki(e,t,n){Object.defineProperty(e,t,{get:()=>n})}function bu(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)==="[object Module]":!0}function Bl(e,t,n=".",r){if(!bu(t))return Bl(e,{},n,r);const s=Object.assign({},t);for(const o in e){if(o==="__proto__"||o==="constructor")continue;const i=e[o];i!=null&&(r&&r(s,o,i,n)||(Array.isArray(i)&&Array.isArray(s[o])?s[o]=[...i,...s[o]]:bu(i)&&bu(s[o])?s[o]=Bl(i,s[o],(n?`${n}.`:"")+o.toString(),r):s[o]=i))}return s}function BS(e){return(...t)=>t.reduce((n,r)=>Bl(n,r,"",e),{})}const P0=BS();function PS(e,t){try{return t in e}catch{return!1}}class Od extends Error{static __h3_error__=!0;statusCode=500;fatal=!1;unhandled=!1;statusMessage;data;cause;constructor(t,n={}){super(t,n),n.cause&&!this.cause&&(this.cause=n.cause)}toJSON(){const t={message:this.message,statusCode:Pl(this.statusCode,500)};return this.statusMessage&&(t.statusMessage=L0(this.statusMessage)),this.data!==void 0&&(t.data=this.data),t}}function LS(e){if(typeof e=="string")return new Od(e);if(DS(e))return e;const t=new Od(e.message??e.statusMessage??"",{cause:e.cause||e});if(PS(e,"stack"))try{Object.defineProperty(t,"stack",{get(){return e.stack}})}catch{try{t.stack=e.stack}catch{}}if(e.data&&(t.data=e.data),e.statusCode?t.statusCode=Pl(e.statusCode,t.statusCode):e.status&&(t.statusCode=Pl(e.status,t.statusCode)),e.statusMessage?t.statusMessage=e.statusMessage:e.statusText&&(t.statusMessage=e.statusText),t.statusMessage){const n=t.statusMessage;L0(t.statusMessage)!==n&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return e.fatal!==void 0&&(t.fatal=e.fatal),e.unhandled!==void 0&&(t.unhandled=e.unhandled),t}function DS(e){return e?.constructor?.__h3_error__===!0}const zS=/[^\u0009\u0020-\u007E]/g;function L0(e=""){return e.replace(zS,"")}function Pl(e,t=200){return!e||(typeof e=="string"&&(e=Number.parseInt(e,10)),e<100||e>999)?t:e}const D0=Symbol("layout-meta"),ks=Symbol("route");import.meta.url.replace(/\/app\/.*$/,"/");const Sn=()=>yt()?.$router,xi=()=>hc()?Gt(ks,yt()._route):yt()._route;const US=()=>{try{if(yt()._processingMiddleware)return!0}catch{return!1}return!1},xL=(e,t)=>{e||="/";const n=typeof e=="string"?e:"path"in e?jS(e):Sn().resolve(e).href;if(t?.open){const{target:l="_blank",windowFeatures:u={}}=t.open,h=[];for(const[g,p]of Object.entries(u))p!==void 0&&h.push(`${g.toLowerCase()}=${p}`);return open(n,l,h.join(", ")),Promise.resolve()}const r=Ms(n,{acceptRelative:!0}),s=t?.external||r;if(s){if(!t?.external)throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const{protocol:l}=new URL(n,window.location.href);if(l&&F1(l))throw new Error(`Cannot navigate to a URL with '${l}' protocol.`)}const o=US();if(!s&&o){if(t?.replace){if(typeof e=="string"){const{pathname:l,search:u,hash:h}=Of(e);return{path:l,...u&&{query:A0(u)},...h&&{hash:h},replace:!0}}return{...e,replace:!0}}return e}const i=Sn(),a=yt();if(s)return a._scope.stop(),t?.replace?location.replace(n):location.href=n,o?a.isHydrating?new Promise(()=>{}):!1:Promise.resolve();const c=typeof e=="string"?$S(e):e;return t?.replace?i.replace(c):i.push(c)};function jS(e){return x0(e.path||"",e.query||{})+(e.hash||"")}function $S(e){const t=Of(e);return R1(C1(t.pathname))+t.search+t.hash}const z0="__nuxt_error",mc=()=>bv(yt().payload,"error"),as=e=>{const t=vs(e);try{const n=mc();yt().hooks.callHook("app:error",t),n.value||=t}catch{throw t}return t},FS=async(e={})=>{const t=yt(),n=mc();t.callHook("app:error:cleared",e),e.redirect&&await Sn().replace(e.redirect),n.value=void 0},U0=e=>!!e&&typeof e=="object"&&z0 in e,vs=e=>{typeof e!="string"&&e.statusText&&(e.message??=e.statusText);const t=LS(e);return Object.defineProperty(t,z0,{value:!0,configurable:!1,writable:!1}),Object.defineProperty(t,"status",{get:()=>t.statusCode,configurable:!0}),Object.defineProperty(t,"statusText",{get:()=>t.statusMessage,configurable:!0}),t};const WS=Symbol();var Bd;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Bd||(Bd={}));function HS(){const e=ny(!0),t=e.run(()=>fn({}));let n=[],r=[];const s=my({install(o){s._a=o,o.provide(WS,s),o.config.globalProperties.$pinia=s,r.forEach(i=>n.push(i)),r=[]},use(o){return this._a?n.push(o):r.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}function KS(e){const t=qS(e),n=new ArrayBuffer(t.length),r=new DataView(n);for(let s=0;s<n.byteLength;s++)r.setUint8(s,t.charCodeAt(s));return n}const VS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function qS(e){e.length%4===0&&(e=e.replace(/==?$/,""));let t="",n=0,r=0;for(let s=0;s<e.length;s++)n<<=6,n|=VS.indexOf(e[s]),r+=6,r===24&&(t+=String.fromCharCode((n&16711680)>>16),t+=String.fromCharCode((n&65280)>>8),t+=String.fromCharCode(n&255),n=r=0);return r===12?(n>>=4,t+=String.fromCharCode(n)):r===18&&(n>>=2,t+=String.fromCharCode((n&65280)>>8),t+=String.fromCharCode(n&255)),t}const ZS=-1,GS=-2,YS=-3,JS=-4,QS=-5,XS=-6;function eE(e,t){return tE(JSON.parse(e),t)}function tE(e,t){if(typeof e=="number")return o(e,!0);if(!Array.isArray(e)||e.length===0)throw new Error("Invalid input");const n=e,r=Array(n.length);let s=null;function o(i,a=!1){if(i===ZS)return;if(i===YS)return NaN;if(i===JS)return 1/0;if(i===QS)return-1/0;if(i===XS)return-0;if(a||typeof i!="number")throw new Error("Invalid input");if(i in r)return r[i];const c=n[i];if(!c||typeof c!="object")r[i]=c;else if(Array.isArray(c))if(typeof c[0]=="string"){const l=c[0],u=t&&Object.hasOwn(t,l)?t[l]:void 0;if(u){let h=c[1];if(typeof h!="number"&&(h=n.push(c[1])-1),s??=new Set,s.has(h))throw new Error("Invalid circular reference");return s.add(h),r[i]=u(o(h)),s.delete(h),r[i]}switch(l){case"Date":r[i]=new Date(c[1]);break;case"Set":const h=new Set;r[i]=h;for(let v=1;v<c.length;v+=1)h.add(o(c[v]));break;case"Map":const g=new Map;r[i]=g;for(let v=1;v<c.length;v+=2)g.set(o(c[v]),o(c[v+1]));break;case"RegExp":r[i]=new RegExp(c[1],c[2]);break;case"Object":r[i]=Object(c[1]);break;case"BigInt":r[i]=BigInt(c[1]);break;case"null":const p=Object.create(null);r[i]=p;for(let v=1;v<c.length;v+=2)p[c[v]]=o(c[v+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{if(n[c[1]][0]!=="ArrayBuffer")throw new Error("Invalid data");const v=globalThis[l],_=o(c[1]),x=new v(_);r[i]=c[2]!==void 0?x.subarray(c[2],c[3]):x;break}case"ArrayBuffer":{const v=c[1];if(typeof v!="string")throw new Error("Invalid ArrayBuffer encoding");const _=KS(v);r[i]=_;break}case"Temporal.Duration":case"Temporal.Instant":case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.PlainMonthDay":case"Temporal.PlainYearMonth":case"Temporal.ZonedDateTime":{const v=l.slice(9);r[i]=Temporal[v].from(c[1]);break}case"URL":{const v=new URL(c[1]);r[i]=v;break}case"URLSearchParams":{const v=new URLSearchParams(c[1]);r[i]=v;break}default:throw new Error(`Unknown type ${l}`)}}else{const l=new Array(c.length);r[i]=l;for(let u=0;u<c.length;u+=1){const h=c[u];h!==GS&&(l[u]=o(h))}}else{const l={};r[i]=l;for(const u in c){if(u==="__proto__")throw new Error("Cannot parse an object with a `__proto__` property");const h=c[u];l[u]=o(h)}}return r[i]}return o(0)}const nE=new Set(["link","style","script","noscript"]),rE=new Set(["title","titleTemplate","script","style","noscript"]),Pd=new Set(["base","meta","link","style","script","noscript"]),sE=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),oE=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),iE=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),aE=new Set(["templateParams","htmlAttrs","bodyAttrs"]),cE=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]);function Ll(e,t={},n){for(const r in e){const s=e[r],o=n?`${n}:${r}`:r;typeof s=="object"&&s!==null?Ll(s,t,o):typeof s=="function"&&(t[o]=s)}return t}const j0=(()=>{if(console.createTask)return console.createTask;const e={run:t=>t()};return()=>e})();function $0(e,t,n,r){for(let s=n;s<e.length;s+=1)try{const o=r?r.run(()=>e[s](...t)):e[s](...t);if(o instanceof Promise)return o.then(()=>$0(e,t,s+1,r))}catch(o){return Promise.reject(o)}}function uE(e,t,n){if(e.length>0)return $0(e,t,0,j0(n))}function lE(e,t,n){if(e.length>0){const r=j0(n);return Promise.all(e.map(s=>r.run(()=>s(...t))))}}function vu(e,t){for(const n of[...e])n(t)}var fE=class{_hooks;_before;_after;_deprecatedHooks;_deprecatedMessages;constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,t,n={}){if(!e||typeof t!="function")return()=>{};const r=e;let s;for(;this._deprecatedHooks[e];)s=this._deprecatedHooks[e],e=s.to;if(s&&!n.allowDeprecated){let o=s.message;o||(o=`${r} hook has been deprecated`+(s.to?`, please use ${s.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!t.name)try{Object.defineProperty(t,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(t),()=>{t&&(this.removeHook(e,t),t=void 0)}}hookOnce(e,t){let n,r=(...s)=>(typeof n=="function"&&n(),n=void 0,r=void 0,t(...s));return n=this.hook(e,r),n}removeHook(e,t){const n=this._hooks[e];if(n){const r=n.indexOf(t);r!==-1&&n.splice(r,1),n.length===0&&(this._hooks[e]=void 0)}}deprecateHook(e,t){this._deprecatedHooks[e]=typeof t=="string"?{to:t}:t;const n=this._hooks[e]||[];this._hooks[e]=void 0;for(const r of n)this.hook(e,r)}deprecateHooks(e){for(const t in e)this.deprecateHook(t,e[t])}addHooks(e){const t=Ll(e),n=Object.keys(t).map(r=>this.hook(r,t[r]));return()=>{for(const r of n)r();n.length=0}}removeHooks(e){const t=Ll(e);for(const n in t)this.removeHook(n,t[n])}removeAllHooks(){this._hooks={}}callHook(e,...t){return this.callHookWith(uE,e,t)}callHookParallel(e,...t){return this.callHookWith(lE,e,t)}callHookWith(e,t,n){const r=this._before||this._after?{name:t,args:n,context:{}}:void 0;this._before&&vu(this._before,r);const s=e(this._hooks[t]?[...this._hooks[t]]:[],n,t);return s instanceof Promise?s.finally(()=>{this._after&&r&&vu(this._after,r)}):(this._after&&r&&vu(this._after,r),s)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const t=this._before.indexOf(e);t!==-1&&this._before.splice(t,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const t=this._after.indexOf(e);t!==-1&&this._after.splice(t,1)}}}};function hE(){return new fE}const dE=["name","property","http-equiv"],pE=new Set(["viewport","description","keywords","robots"]);function F0(e){const t=e.split(":");return t.length?cE.has(t[1]):!1}function Dl(e){const{props:t,tag:n}=e;if(oE.has(n))return n;if(n==="link"&&t.rel==="canonical")return"canonical";const r=t.hreflang||t.type;if(n==="link"&&t.rel==="alternate"&&r)return`alternate:${r}`;if(t.charset)return"charset";if(e.tag==="meta"){for(const s of dE)if(t[s]!==void 0){const o=t[s],i=o&&typeof o=="string"&&o.includes(":"),a=o&&pE.has(o),l=!(i||a)&&e.key?`:key:${e.key}`:"";return`${n}:${o}${l}`}}if(e.key)return`${n}:key:${e.key}`;if(t.id)return`${n}:id:${t.id}`;if(rE.has(n)){const s=e.textContent||e.innerHTML;if(s)return`${n}:content:${s}`}}function Ld(e){const t=e._h||e._d;if(t)return t;const n=e.textContent||e.innerHTML;return n||`${e.tag}:${Object.entries(e.props).map(([r,s])=>`${r}:${String(s)}`).join(",")}`}function $a(e,t,n){typeof e==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(e=e());const s=t?t(n,e):e;if(Array.isArray(s))return s.map(o=>$a(o,t));if(s?.constructor===Object){const o={};for(const i of Object.keys(s))o[i]=$a(s[i],t,i);return o}return s}function gE(e,t){const n=e==="style"?new Map:new Set;function r(s){if(s==null||s===void 0)return;const o=String(s).trim();if(o)if(e==="style"){const[i,...a]=o.split(":").map(c=>c?c.trim():"");i&&a.length&&n.set(i,a.join(":"))}else o.split(" ").filter(Boolean).forEach(i=>n.add(i))}return typeof t=="string"?e==="style"?t.split(";").forEach(r):r(t):Array.isArray(t)?t.forEach(s=>r(s)):t&&typeof t=="object"&&Object.entries(t).forEach(([s,o])=>{o&&o!=="false"&&(e==="style"?n.set(String(s).trim(),String(o)):r(s))}),n}function W0(e,t){return e.props=e.props||{},t?e.tag==="templateParams"?(e.props=t,e):(Object.entries(t).forEach(([n,r])=>{if(r===null){e.props[n]=null;return}if(n==="class"||n==="style"){e.props[n]=gE(n,r);return}if(iE.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof r=="object"){let a=t.type;if(t.type||(a="application/json"),!a?.endsWith("json")&&a!=="speculationrules")return;t.type=a,e.props.type=a,e[n]=JSON.stringify(r)}else e[n]=r;return}const s=String(r),o=n.startsWith("data-"),i=e.tag==="meta"&&n==="content";s==="true"||s===""?e.props[n]=o||i?s:!0:!r&&o&&s==="false"?e.props[n]="false":r!==void 0&&(e.props[n]=r)}),e):e}function yE(e,t){const n=typeof t=="object"&&typeof t!="function"?t:{[e==="script"||e==="noscript"||e==="style"?"innerHTML":"textContent"]:t},r=W0({tag:e,props:{}},n);return r.key&&nE.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(s=>({...r,props:{...r.props,content:s}})):r}function mE(e,t){if(!e)return[];typeof e=="function"&&(e=e());const n=(s,o)=>{for(let i=0;i<t.length;i++)o=t[i](s,o);return o};e=n(void 0,e);const r=[];return e=$a(e,n),Object.entries(e||{}).forEach(([s,o])=>{if(o!==void 0)for(const i of Array.isArray(o)?o:[o])r.push(yE(s,i))}),r.flat()}const Dd=(e,t)=>e._w===t._w?e._p-t._p:e._w-t._w,zd={base:-10,title:10},wE={critical:-8,high:-1,low:2},Ud={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},bE=/@import/,Po=e=>e===""||e===!0;function vE(e,t){if(typeof t.tagPriority=="number")return t.tagPriority;let n=100;const r=wE[t.tagPriority]||0,s=e.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:Ud;if(t.tag in zd)n=zd[t.tag];else if(t.tag==="meta"){const o=t.props["http-equiv"]==="content-security-policy"?"content-security-policy":t.props.charset?"charset":t.props.name==="viewport"?"viewport":null;o&&(n=Ud.meta[o])}else if(t.tag==="link"&&t.props.rel)n=s.link[t.props.rel];else if(t.tag==="script"){const o=String(t.props.type);Po(t.props.async)?n=s.script.async:t.props.src&&!Po(t.props.defer)&&!Po(t.props.async)&&o!=="module"&&!o.endsWith("json")||t.innerHTML&&!o.endsWith("json")?n=s.script.sync:(Po(t.props.defer)&&t.props.src&&!Po(t.props.async)||o==="module")&&(n=s.script.defer)}else t.tag==="style"&&(n=t.innerHTML&&bE.test(t.innerHTML)?s.style.imported:s.style.sync);return(n||100)+r}function jd(e,t){const n=typeof t=="function"?t(e):t,r=n.key||String(e.plugins.size+1);e.plugins.get(r)||(e.plugins.set(r,n),e.hooks.addHooks(n.hooks||{}))}function _E(e={}){const t=hE();t.addHooks(e.hooks||{});const n=!e.document,r=new Map,s=new Map,o=new Set,i={_entryCount:1,plugins:s,dirty:!1,resolvedOptions:e,hooks:t,ssr:n,entries:r,headEntries(){return[...r.values()]},use:a=>jd(i,a),push(a,c){const l={...c||{}};delete l.head;const u=l._index??i._entryCount++,h={_i:u,input:a,options:l},g={_poll(p=!1){i.dirty=!0,!p&&o.add(u),t.callHook("entries:updated",i)},dispose(){r.delete(u)&&i.invalidate()},patch(p){(!l.mode||l.mode==="server"&&n||l.mode==="client"&&!n)&&(h.input=p,r.set(u,h),g._poll())}};return g.patch(a),g},async resolveTags(){const a={tagMap:new Map,tags:[],entries:[...i.entries.values()]};for(await t.callHook("entries:resolve",a);o.size;){const g=o.values().next().value;o.delete(g);const p=r.get(g);if(p){const v={tags:mE(p.input,e.propResolvers||[]).map(_=>Object.assign(_,p.options)),entry:p};await t.callHook("entries:normalize",v),p._tags=v.tags.map((_,x)=>(_._w=vE(i,_),_._p=(p._i<<10)+x,_._d=Dl(_),_))}}let c=!1;a.entries.flatMap(g=>(g._tags||[]).map(p=>({...p,props:{...p.props}}))).sort(Dd).reduce((g,p)=>{const v=String(p._d||p._p);if(!g.has(v))return g.set(v,p);const _=g.get(v);if((p?.tagDuplicateStrategy||(aE.has(p.tag)?"merge":null)||(p.key&&p.key===_.key?"merge":null))==="merge"){const R={..._.props};Object.entries(p.props).forEach(([N,k])=>R[N]=N==="style"?new Map([..._.props.style||new Map,...k]):N==="class"?new Set([..._.props.class||new Set,...k]):k),g.set(v,{...p,props:R})}else p._p>>10===_._p>>10&&p.tag==="meta"&&F0(v)?(g.set(v,Object.assign([...Array.isArray(_)?_:[_],p],p)),c=!0):(p._w===_._w?p._p>_._p:p?._w<_?._w)&&g.set(v,p);return g},a.tagMap);const l=a.tagMap.get("title"),u=a.tagMap.get("titleTemplate");if(i._title=l?.textContent,u){const g=u?.textContent;if(i._titleTemplate=g,g){let p=typeof g=="function"?g(l?.textContent):g;typeof p=="string"&&!i.plugins.has("template-params")&&(p=p.replace("%s",l?.textContent||"")),l?p===null?a.tagMap.delete("title"):a.tagMap.set("title",{...l,textContent:p}):(u.tag="title",u.textContent=p)}}a.tags=Array.from(a.tagMap.values()),c&&(a.tags=a.tags.flat().sort(Dd)),await t.callHook("tags:beforeResolve",a),await t.callHook("tags:resolve",a),await t.callHook("tags:afterResolve",a);const h=[];for(const g of a.tags){const{innerHTML:p,tag:v,props:_}=g;if(sE.has(v)&&!(Object.keys(_).length===0&&!g.innerHTML&&!g.textContent)&&!(v==="meta"&&!_.content&&!_["http-equiv"]&&!_.charset)){if(v==="script"&&p){if(String(_.type).endsWith("json")){const x=typeof p=="string"?p:JSON.stringify(p);g.innerHTML=x.replace(/</g,"\\u003C")}else typeof p=="string"&&(g.innerHTML=p.replace(new RegExp(`</${v}`,"g"),`<\\/${v}`));g._d=Dl(g)}h.push(g)}}return h},invalidate(){for(const a of r.values())o.add(a._i);i.dirty=!0,t.callHook("entries:updated",i)}};return(e?.plugins||[]).forEach(a=>jd(i,a)),i.hooks.callHook("init",i),e.init?.forEach(a=>a&&i.push(a)),i}const SE=(e,t)=>zt(t)?gv(t):t,Lf="usehead";function EE(e){return{install(n){n.config.globalProperties.$unhead=e,n.config.globalProperties.$head=e,n.provide(Lf,e)}}.install}function kE(){if(hc()){const e=Gt(Lf);if(e)return e}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function AE(e,t={}){const n=t.head||kE();return n.ssr?n.push(e||{},t):xE(n,e,t)}function xE(e,t,n={}){const r=fn(!1);let s;return Mv(()=>{const i=r.value?{}:$a(t,SE);s?s.patch(i):s=e.push(i,n)}),Ts()&&(Ei(()=>{s.dispose()}),By(()=>{r.value=!0}),Oy(()=>{r.value=!1})),s}function H0(e){const t=e||yt();return t.ssrContext?.head||t.runWithContext(()=>{if(hc()){const n=Gt(Lf);if(!n)throw new Error("[nuxt] [unhead] Missing Unhead instance.");return n}})}function IL(e,t={}){const n=t.head||H0(t.nuxt);return AE(e,{head:n,...t})}const IE=(e,t)=>[],K0=e=>P0({},...IE().map(t=>t.data).reverse()),TE=K0;let ga;function ME(){return ga=$fetch(Pf(`builds/meta/${Ai().app.buildId}.json`),{responseType:"json"}),ga.catch(e=>{console.error("[nuxt] Error fetching app manifest.",e)}),ga}function Df(){return ga||ME()}function wc(e){const t=typeof e=="string"?e:e.path;try{return TE(t)}catch(n){return console.error("[nuxt] Error matching route rules.",n),{}}}async function $d(e,t={}){if(await NE(e)){const n=await CE(e,t);return await V0(n)||null}return null}const RE="_payload.json";async function CE(e,t={}){const n=new URL(e,"http://localhost");if(n.host!=="localhost"||Ms(n.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+e);const r=Ai(),s=t.hash||(t.fresh?Date.now():r.app.buildId),o=r.app.cdnURL,i=o&&await OE(e)?o:r.app.baseURL;return Nf(i,n.pathname,RE+(s?`?${s}`:""))}async function V0(e){const t=fetch(e,{cache:"force-cache"}).then(n=>n.text().then(G0));try{return await t}catch(n){console.warn("[nuxt] Cannot load payload ",e,n)}return null}function q0(e){if(e.redirect)return!1;if(e.prerender)return!0}async function Z0(e){return e=e==="/"?e:e.replace(/\/$/,""),(await Df()).prerendered.includes(e)}async function NE(e=xi().path){const t=wc({path:e}),n=q0(t);return n!==void 0?n:t.payload?!0:await Z0(e)}async function OE(e=xi().path){const t=q0(wc({path:e}));return t!==void 0?t:await Z0(e)}let os=null;async function BE(){if(os)return os;const e=document.getElementById("__NUXT_DATA__");if(!e)return{};const t=await G0(e.textContent||""),n=e.dataset.src?await V0(e.dataset.src):void 0;return os={...t,...n,...window.__NUXT__},os.config?.public&&(os.config.public=Xr(os.config.public)),os}async function G0(e){return await eE(e,yt()._payloadRevivers)}function Y0(e,t){yt()._payloadRevivers[e]=t}const PE=NS(()=>{Y0("skipHydrate",e=>{})}),LE=[["NuxtError",e=>vs(e)],["EmptyShallowRef",e=>Ar(e==="_"?void 0:e==="0n"?BigInt(0):Da(e))],["EmptyRef",e=>fn(e==="_"?void 0:e==="0n"?BigInt(0):Da(e))],["ShallowRef",e=>Ar(e)],["ShallowReactive",e=>nr(e)],["Ref",e=>fn(e)],["Reactive",e=>Xr(e)]],DE=En({name:"nuxt:revive-payload:client",order:-30,async setup(e){let t,n;for(const[r,s]of LE)Y0(r,s);Object.assign(e.payload,([t,n]=ei(()=>e.runWithContext(BE)),t=await t,n(),t)),delete window.__NUXT__}});async function zf(e,t={}){const n=t.document||e.resolvedOptions.document;if(!n||!e.dirty)return;const r={shouldRender:!0,tags:[]};if(await e.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return e._domUpdatePromise||(e._domUpdatePromise=new Promise(async s=>{const o=new Map,i=new Promise(p=>{e.resolveTags().then(v=>{p(v.map(_=>{const x=o.get(_._d)||0,R={tag:_,id:(x?`${_._d}:${x}`:_._d)||Ld(_),shouldRender:!0};return _._d&&F0(_._d)&&o.set(_._d,x+1),R}))})});let a=e._dom;if(!a){a={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const p of["body","head"]){const v=n[p]?.children;for(const _ of v){const x=_.tagName.toLowerCase();if(!Pd.has(x))continue;const R=W0({tag:x,props:{}},{innerHTML:_.innerHTML,..._.getAttributeNames().reduce((N,k)=>(N[k]=_.getAttribute(k),N),{})||{}});if(R.key=_.getAttribute("data-hid")||void 0,R._d=Dl(R)||Ld(R),a.elMap.has(R._d)){let N=1,k=R._d;for(;a.elMap.has(k);)k=`${R._d}:${N++}`;a.elMap.set(k,_)}else a.elMap.set(R._d,_)}}}a.pendingSideEffects={...a.sideEffects},a.sideEffects={};function c(p,v,_){const x=`${p}:${v}`;a.sideEffects[x]=_,delete a.pendingSideEffects[x]}function l({id:p,$el:v,tag:_}){const x=_.tag.endsWith("Attrs");a.elMap.set(p,v),x||(_.textContent&&_.textContent!==v.textContent&&(v.textContent=_.textContent),_.innerHTML&&_.innerHTML!==v.innerHTML&&(v.innerHTML=_.innerHTML),c(p,"el",()=>{v?.remove(),a.elMap.delete(p)}));for(const R in _.props){if(!Object.prototype.hasOwnProperty.call(_.props,R))continue;const N=_.props[R];if(R.startsWith("on")&&typeof N=="function"){const B=v?.dataset;if(B&&B[`${R}fired`]){const F=R.slice(0,-5);N.call(v,new Event(F.substring(2)))}v.getAttribute(`data-${R}`)!==""&&((_.tag==="bodyAttrs"?n.defaultView:v).addEventListener(R.substring(2),N.bind(v)),v.setAttribute(`data-${R}`,""));continue}const k=`attr:${R}`;if(R==="class"){if(!N)continue;for(const B of N)x&&c(p,`${k}:${B}`,()=>v.classList.remove(B)),!v.classList.contains(B)&&v.classList.add(B)}else if(R==="style"){if(!N)continue;for(const[B,F]of N)c(p,`${k}:${B}`,()=>{v.style.removeProperty(B)}),v.style.setProperty(B,F)}else N!==!1&&N!==null&&(v.getAttribute(R)!==N&&v.setAttribute(R,N===!0?"":String(N)),x&&c(p,k,()=>v.removeAttribute(R)))}}const u=[],h={bodyClose:void 0,bodyOpen:void 0,head:void 0},g=await i;for(const p of g){const{tag:v,shouldRender:_,id:x}=p;if(_){if(v.tag==="title"){n.title=v.textContent,c("title","",()=>n.title=a.title);continue}p.$el=p.$el||a.elMap.get(x),p.$el?l(p):Pd.has(v.tag)&&u.push(p)}}for(const p of u){const v=p.tag.tagPosition||"head";p.$el=n.createElement(p.tag.tag),l(p),h[v]=h[v]||n.createDocumentFragment(),h[v].appendChild(p.$el)}for(const p of g)await e.hooks.callHook("dom:renderTag",p,n,c);h.head&&n.head.appendChild(h.head),h.bodyOpen&&n.body.insertBefore(h.bodyOpen,n.body.firstChild),h.bodyClose&&n.body.appendChild(h.bodyClose);for(const p in a.pendingSideEffects)a.pendingSideEffects[p]();e._dom=a,await e.hooks.callHook("dom:rendered",{renders:g}),s()}).finally(()=>{e._domUpdatePromise=void 0,e.dirty=!1})),e._domUpdatePromise}function zE(e={}){const t=e.domOptions?.render||zf;e.document=e.document||(typeof window<"u"?document:void 0);const n=e.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return _E({...e,plugins:[...e.plugins||[],{key:"client",hooks:{"entries:updated":t}}],init:[n?JSON.parse(n):!1,...e.init||[]]})}function UE(e,t){let n=0;return()=>{const r=++n;t(()=>{n===r&&e()})}}function jE(e={}){const t=zE({domOptions:{render:UE(()=>zf(t),n=>setTimeout(n,0))},...e});return t.install=EE(t),t}const $E={disableDefaults:!0},FE=En({name:"nuxt:head",enforce:"pre",setup(e){const t=jE($E);e.vueApp.use(t);{let n=!0;const r=async()=>{n=!1,await zf(t)};t.hooks.hook("dom:beforeRender",s=>{s.shouldRender=!n}),e.hooks.hook("page:start",()=>{n=!0}),e.hooks.hook("page:finish",()=>{e.isHydrating||r()}),e.hooks.hook("app:error",r),e.hooks.hook("app:suspense:resolve",r)}}});const Ks=typeof document<"u";function J0(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function WE(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&J0(e.default)}const Ve=Object.assign;function _u(e,t){const n={};for(const r in t){const s=t[r];n[r]=$n(s)?s.map(e):e(s)}return n}const ti=()=>{},$n=Array.isArray;function Fd(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}const Q0=/#/g,HE=/&/g,KE=/\//g,VE=/=/g,qE=/\?/g,X0=/\+/g,ZE=/%5B/g,GE=/%5D/g,em=/%5E/g,YE=/%60/g,tm=/%7B/g,JE=/%7C/g,nm=/%7D/g,QE=/%20/g;function Uf(e){return e==null?"":encodeURI(""+e).replace(JE,"|").replace(ZE,"[").replace(GE,"]")}function XE(e){return Uf(e).replace(tm,"{").replace(nm,"}").replace(em,"^")}function zl(e){return Uf(e).replace(X0,"%2B").replace(QE,"+").replace(Q0,"%23").replace(HE,"%26").replace(YE,"`").replace(tm,"{").replace(nm,"}").replace(em,"^")}function ek(e){return zl(e).replace(VE,"%3D")}function tk(e){return Uf(e).replace(Q0,"%23").replace(qE,"%3F")}function nk(e){return tk(e).replace(KE,"%2F")}function fi(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const rk=/\/$/,sk=e=>e.replace(rk,"");function Su(e,t,n="/"){let r,s={},o="",i="";const a=t.indexOf("#");let c=t.indexOf("?");return c=a>=0&&c>a?-1:c,c>=0&&(r=t.slice(0,c),o=t.slice(c,a>0?a:t.length),s=e(o.slice(1))),a>=0&&(r=r||t.slice(0,a),i=t.slice(a,t.length)),r=ck(r??t,n),{fullPath:r+o+i,path:r,query:s,hash:fi(i)}}function ok(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Wd(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function ik(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&yo(t.matched[r],n.matched[s])&&rm(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function yo(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function rm(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!ak(e[n],t[n]))return!1;return!0}function ak(e,t){return $n(e)?Hd(e,t):$n(t)?Hd(t,e):e?.valueOf()===t?.valueOf()}function Hd(e,t){return $n(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function ck(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let o=n.length-1,i,a;for(i=0;i<r.length;i++)if(a=r[i],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(i).join("/")}const xn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Ul=(function(e){return e.pop="pop",e.push="push",e})({}),Eu=(function(e){return e.back="back",e.forward="forward",e.unknown="",e})({});function uk(e){if(!e)if(Ks){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),sk(e)}const lk=/^[^#]+#/;function fk(e,t){return e.replace(lk,"#")+t}function hk(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const bc=()=>({left:window.scrollX,top:window.scrollY});function dk(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=hk(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Kd(e,t){return(history.state?history.state.position-t:-1)+e}const jl=new Map;function pk(e,t){jl.set(e,t)}function gk(e){const t=jl.get(e);return jl.delete(e),t}function yk(e){return typeof e=="string"||e&&typeof e=="object"}function sm(e){return typeof e=="string"||typeof e=="symbol"}let ht=(function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e})({});const om=Symbol("");ht.MATCHER_NOT_FOUND+"",ht.NAVIGATION_GUARD_REDIRECT+"",ht.NAVIGATION_ABORTED+"",ht.NAVIGATION_CANCELLED+"",ht.NAVIGATION_DUPLICATED+"";function mo(e,t){return Ve(new Error,{type:e,[om]:!0},t)}function fr(e,t){return e instanceof Error&&om in e&&(t==null||!!(e.type&t))}const mk=["params","query","hash"];function wk(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const n of mk)n in e&&(t[n]=e[n]);return JSON.stringify(t,null,2)}function bk(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const s=n[r].replace(X0," "),o=s.indexOf("="),i=fi(o<0?s:s.slice(0,o)),a=o<0?null:fi(s.slice(o+1));if(i in t){let c=t[i];$n(c)||(c=t[i]=[c]),c.push(a)}else t[i]=a}return t}function Vd(e){let t="";for(let n in e){const r=e[n];if(n=ek(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}($n(r)?r.map(s=>s&&zl(s)):[r&&zl(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function vk(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=$n(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const _k=Symbol(""),qd=Symbol(""),jf=Symbol(""),$f=Symbol(""),$l=Symbol("");function Lo(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function jr(e,t,n,r,s,o=i=>i()){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,c)=>{const l=g=>{g===!1?c(mo(ht.NAVIGATION_ABORTED,{from:n,to:t})):g instanceof Error?c(g):yk(g)?c(mo(ht.NAVIGATION_GUARD_REDIRECT,{from:t,to:g})):(i&&r.enterCallbacks[s]===i&&typeof g=="function"&&i.push(g),a())},u=o(()=>e.call(r&&r.instances[s],t,n,l));let h=Promise.resolve(u);e.length<3&&(h=h.then(l)),h.catch(g=>c(g))})}function ku(e,t,n,r,s=o=>o()){const o=[];for(const i of e)for(const a in i.components){let c=i.components[a];if(!(t!=="beforeRouteEnter"&&!i.instances[a]))if(J0(c)){const l=(c.__vccOpts||c)[t];l&&o.push(jr(l,n,r,i,a,s))}else{let l=c();o.push(()=>l.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${i.path}"`);const h=WE(u)?u.default:u;i.mods[a]=u,i.components[a]=h;const g=(h.__vccOpts||h)[t];return g&&jr(g,n,r,i,a,s)()}))}}return o}function Sk(e,t){const n=[],r=[],s=[],o=Math.max(t.matched.length,e.matched.length);for(let i=0;i<o;i++){const a=t.matched[i];a&&(e.matched.find(l=>yo(l,a))?r.push(a):n.push(a));const c=e.matched[i];c&&(t.matched.find(l=>yo(l,c))||s.push(c))}return[n,r,s]}let Ek=()=>location.protocol+"//"+location.host;function im(e,t){const{pathname:n,search:r,hash:s}=t,o=e.indexOf("#");if(o>-1){let i=s.includes(e.slice(o))?e.slice(o).length:1,a=s.slice(i);return a[0]!=="/"&&(a="/"+a),Wd(a,"")}return Wd(n,e)+r+s}function kk(e,t,n,r){let s=[],o=[],i=null;const a=({state:g})=>{const p=im(e,location),v=n.value,_=t.value;let x=0;if(g){if(n.value=p,t.value=g,i&&i===v){i=null;return}x=_?g.position-_.position:0}else r(p);s.forEach(R=>{R(n.value,v,{delta:x,type:Ul.pop,direction:x?x>0?Eu.forward:Eu.back:Eu.unknown})})};function c(){i=n.value}function l(g){s.push(g);const p=()=>{const v=s.indexOf(g);v>-1&&s.splice(v,1)};return o.push(p),p}function u(){if(document.visibilityState==="hidden"){const{history:g}=window;if(!g.state)return;g.replaceState(Ve({},g.state,{scroll:bc()}),"")}}function h(){for(const g of o)g();o=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:c,listen:l,destroy:h}}function Zd(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?bc():null}}function Ak(e){const{history:t,location:n}=window,r={value:im(e,n)},s={value:t.state};s.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(c,l,u){const h=e.indexOf("#"),g=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+c:Ek()+e+c;try{t[u?"replaceState":"pushState"](l,"",g),s.value=l}catch(p){console.error(p),n[u?"replace":"assign"](g)}}function i(c,l){o(c,Ve({},t.state,Zd(s.value.back,c,s.value.forward,!0),l,{position:s.value.position}),!0),r.value=c}function a(c,l){const u=Ve({},s.value,t.state,{forward:c,scroll:bc()});o(u.current,u,!0),o(c,Ve({},Zd(r.value,c,null),{position:u.position+1},l),!1),r.value=c}return{location:r,state:s,push:a,replace:i}}function xk(e){e=uk(e);const t=Ak(e),n=kk(e,t.state,t.location,t.replace);function r(o,i=!0){i||n.pauseListeners(),history.go(o)}const s=Ve({location:"",base:e,go:r,createHref:fk.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}let fs=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e})({});var jt=(function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e})(jt||{});const Ik={type:fs.Static,value:""},Tk=/[a-zA-Z0-9_]/;function Mk(e){if(!e)return[[]];if(e==="/")return[[Ik]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${n})/"${l}": ${p}`)}let n=jt.Static,r=n;const s=[];let o;function i(){o&&s.push(o),o=[]}let a=0,c,l="",u="";function h(){l&&(n===jt.Static?o.push({type:fs.Static,value:l}):n===jt.Param||n===jt.ParamRegExp||n===jt.ParamRegExpEnd?(o.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),o.push({type:fs.Param,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),l="")}function g(){l+=c}for(;a<e.length;){if(c=e[a++],c==="\\"&&n!==jt.ParamRegExp){r=n,n=jt.EscapeNext;continue}switch(n){case jt.Static:c==="/"?(l&&h(),i()):c===":"?(h(),n=jt.Param):g();break;case jt.EscapeNext:g(),n=r;break;case jt.Param:c==="("?n=jt.ParamRegExp:Tk.test(c)?g():(h(),n=jt.Static,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case jt.ParamRegExp:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=jt.ParamRegExpEnd:u+=c;break;case jt.ParamRegExpEnd:h(),n=jt.Static,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===jt.ParamRegExp&&t(`Unfinished custom RegExp for param "${l}"`),h(),i(),s}const Gd="[^/]+?",Rk={sensitive:!1,strict:!1,start:!0,end:!0};var cn=(function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e})(cn||{});const Ck=/[.+*?^${}()[\]/\\]/g;function Nk(e,t){const n=Ve({},Rk,t),r=[];let s=n.start?"^":"";const o=[];for(const l of e){const u=l.length?[]:[cn.Root];n.strict&&!l.length&&(s+="/");for(let h=0;h<l.length;h++){const g=l[h];let p=cn.Segment+(n.sensitive?cn.BonusCaseSensitive:0);if(g.type===fs.Static)h||(s+="/"),s+=g.value.replace(Ck,"\\$&"),p+=cn.Static;else if(g.type===fs.Param){const{value:v,repeatable:_,optional:x,regexp:R}=g;o.push({name:v,repeatable:_,optional:x});const N=R||Gd;if(N!==Gd){p+=cn.BonusCustomRegExp;try{`${N}`}catch(B){throw new Error(`Invalid custom RegExp for param "${v}" (${N}): `+B.message)}}let k=_?`((?:${N})(?:/(?:${N}))*)`:`(${N})`;h||(k=x&&l.length<2?`(?:/${k})`:"/"+k),x&&(k+="?"),s+=k,p+=cn.Dynamic,x&&(p+=cn.BonusOptional),_&&(p+=cn.BonusRepeatable),N===".*"&&(p+=cn.BonusWildcard)}u.push(p)}r.push(u)}if(n.strict&&n.end){const l=r.length-1;r[l][r[l].length-1]+=cn.BonusStrict}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const i=new RegExp(s,n.sensitive?"":"i");function a(l){const u=l.match(i),h={};if(!u)return null;for(let g=1;g<u.length;g++){const p=u[g]||"",v=o[g-1];h[v.name]=p&&v.repeatable?p.split("/"):p}return h}function c(l){let u="",h=!1;for(const g of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const p of g)if(p.type===fs.Static)u+=p.value;else if(p.type===fs.Param){const{value:v,repeatable:_,optional:x}=p,R=v in l?l[v]:"";if($n(R)&&!_)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const N=$n(R)?R.join("/"):R;if(!N)if(x)g.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${v}"`);u+=N}}return u||"/"}return{re:i,score:r,keys:o,parse:a,stringify:c}}function Ok(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===cn.Static+cn.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===cn.Static+cn.Segment?1:-1:0}function am(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const o=Ok(r[n],s[n]);if(o)return o;n++}if(Math.abs(s.length-r.length)===1){if(Yd(r))return 1;if(Yd(s))return-1}return s.length-r.length}function Yd(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Bk={strict:!1,end:!0,sensitive:!1};function Pk(e,t,n){const r=Nk(Mk(e.path),n),s=Ve(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function Lk(e,t){const n=[],r=new Map;t=Fd(Bk,t);function s(h){return r.get(h)}function o(h,g,p){const v=!p,_=Qd(h);_.aliasOf=p&&p.record;const x=Fd(t,h),R=[_];if("alias"in h){const B=typeof h.alias=="string"?[h.alias]:h.alias;for(const F of B)R.push(Qd(Ve({},_,{components:p?p.record.components:_.components,path:F,aliasOf:p?p.record:_})))}let N,k;for(const B of R){const{path:F}=B;if(g&&F[0]!=="/"){const Z=g.record.path,te=Z[Z.length-1]==="/"?"":"/";B.path=g.record.path+(F&&te+F)}if(N=Pk(B,g,x),p?p.alias.push(N):(k=k||N,k!==N&&k.alias.push(N),v&&h.name&&!Xd(N)&&i(h.name)),cm(N)&&c(N),_.children){const Z=_.children;for(let te=0;te<Z.length;te++)o(Z[te],N,p&&p.children[te])}p=p||N}return k?()=>{i(k)}:ti}function i(h){if(sm(h)){const g=r.get(h);g&&(r.delete(h),n.splice(n.indexOf(g),1),g.children.forEach(i),g.alias.forEach(i))}else{const g=n.indexOf(h);g>-1&&(n.splice(g,1),h.record.name&&r.delete(h.record.name),h.children.forEach(i),h.alias.forEach(i))}}function a(){return n}function c(h){const g=Uk(h,n);n.splice(g,0,h),h.record.name&&!Xd(h)&&r.set(h.record.name,h)}function l(h,g){let p,v={},_,x;if("name"in h&&h.name){if(p=r.get(h.name),!p)throw mo(ht.MATCHER_NOT_FOUND,{location:h});x=p.record.name,v=Ve(Jd(g.params,p.keys.filter(k=>!k.optional).concat(p.parent?p.parent.keys.filter(k=>k.optional):[]).map(k=>k.name)),h.params&&Jd(h.params,p.keys.map(k=>k.name))),_=p.stringify(v)}else if(h.path!=null)_=h.path,p=n.find(k=>k.re.test(_)),p&&(v=p.parse(_),x=p.record.name);else{if(p=g.name?r.get(g.name):n.find(k=>k.re.test(g.path)),!p)throw mo(ht.MATCHER_NOT_FOUND,{location:h,currentLocation:g});x=p.record.name,v=Ve({},g.params,h.params),_=p.stringify(v)}const R=[];let N=p;for(;N;)R.unshift(N.record),N=N.parent;return{name:x,path:_,params:v,matched:R,meta:zk(R)}}e.forEach(h=>o(h));function u(){n.length=0,r.clear()}return{addRoute:o,resolve:l,removeRoute:i,clearRoutes:u,getRoutes:a,getRecordMatcher:s}}function Jd(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Qd(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Dk(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Dk(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Xd(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function zk(e){return e.reduce((t,n)=>Ve(t,n.meta),{})}function Uk(e,t){let n=0,r=t.length;for(;n!==r;){const o=n+r>>1;am(e,t[o])<0?r=o:n=o+1}const s=jk(e);return s&&(r=t.lastIndexOf(s,r-1)),r}function jk(e){let t=e;for(;t=t.parent;)if(cm(t)&&am(e,t)===0)return t}function cm({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function ep(e){const t=Gt(jf),n=Gt($f),r=Tn(()=>{const c=Je(e.to);return t.resolve(c)}),s=Tn(()=>{const{matched:c}=r.value,{length:l}=c,u=c[l-1],h=n.matched;if(!u||!h.length)return-1;const g=h.findIndex(yo.bind(null,u));if(g>-1)return g;const p=tp(c[l-2]);return l>1&&tp(u)===p&&h[h.length-1].path!==p?h.findIndex(yo.bind(null,c[l-2])):g}),o=Tn(()=>s.value>-1&&Kk(n.params,r.value.params)),i=Tn(()=>s.value>-1&&s.value===n.matched.length-1&&rm(n.params,r.value.params));function a(c={}){if(Hk(c)){const l=t[Je(e.replace)?"replace":"push"](Je(e.to)).catch(ti);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>l),l}return Promise.resolve()}return{route:r,href:Tn(()=>r.value.href),isActive:o,isExactActive:i,navigate:a}}function $k(e){return e.length===1?e[0]:e}const Fk=Ir({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:ep,setup(e,{slots:t}){const n=Xr(ep(e)),{options:r}=Gt(jf),s=Tn(()=>({[np(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[np(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&$k(t.default(n));return e.custom?o:gt("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},o)}}}),Wk=Fk;function Hk(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Kk(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!$n(s)||s.length!==r.length||r.some((o,i)=>o.valueOf()!==s[i].valueOf()))return!1}return!0}function tp(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const np=(e,t,n)=>e??t??n,Vk=Ir({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Gt($l),s=Tn(()=>e.route||r.value),o=Gt(qd,0),i=Tn(()=>{let l=Je(o);const{matched:u}=s.value;let h;for(;(h=u[l])&&!h.components;)l++;return l}),a=Tn(()=>s.value.matched[i.value]);qr(qd,Tn(()=>i.value+1)),qr(_k,a),qr($l,s);const c=fn();return to(()=>[c.value,a.value,e.name],([l,u,h],[g,p,v])=>{u&&(u.instances[h]=l,p&&p!==u&&l&&l===g&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),l&&u&&(!p||!yo(u,p)||!g)&&(u.enterCallbacks[h]||[]).forEach(_=>_(l))},{flush:"post"}),()=>{const l=s.value,u=e.name,h=a.value,g=h&&h.components[u];if(!g)return rp(n.default,{Component:g,route:l});const p=h.props[u],v=p?p===!0?l.params:typeof p=="function"?p(l):p:null,x=gt(g,Ve({},v,t,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(h.instances[u]=null)},ref:c}));return rp(n.default,{Component:x,route:l})||x}}});function rp(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const um=Vk;function qk(e){const t=Lk(e.routes,e),n=e.parseQuery||bk,r=e.stringifyQuery||Vd,s=e.history,o=Lo(),i=Lo(),a=Lo(),c=Ar(xn);let l=xn;Ks&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=_u.bind(null,H=>""+H),h=_u.bind(null,nk),g=_u.bind(null,fi);function p(H,ne){let re,pe;return sm(H)?(re=t.getRecordMatcher(H),pe=ne):pe=H,t.addRoute(pe,re)}function v(H){const ne=t.getRecordMatcher(H);ne&&t.removeRoute(ne)}function _(){return t.getRoutes().map(H=>H.record)}function x(H){return!!t.getRecordMatcher(H)}function R(H,ne){if(ne=Ve({},ne||c.value),typeof H=="string"){const $=Su(n,H,ne.path),J=t.resolve({path:$.path},ne),le=s.createHref($.fullPath);return Ve($,J,{params:g(J.params),hash:fi($.hash),redirectedFrom:void 0,href:le})}let re;if(H.path!=null)re=Ve({},H,{path:Su(n,H.path,ne.path).path});else{const $=Ve({},H.params);for(const J in $)$[J]==null&&delete $[J];re=Ve({},H,{params:h($)}),ne.params=h(ne.params)}const pe=t.resolve(re,ne),Ee=H.hash||"";pe.params=u(g(pe.params));const Re=ok(r,Ve({},H,{hash:XE(Ee),path:pe.path})),z=s.createHref(Re);return Ve({fullPath:Re,hash:Ee,query:r===Vd?vk(H.query):H.query||{}},pe,{redirectedFrom:void 0,href:z})}function N(H){return typeof H=="string"?Su(n,H,c.value.path):Ve({},H)}function k(H,ne){if(l!==H)return mo(ht.NAVIGATION_CANCELLED,{from:ne,to:H})}function B(H){return te(H)}function F(H){return B(Ve(N(H),{replace:!0}))}function Z(H,ne){const re=H.matched[H.matched.length-1];if(re&&re.redirect){const{redirect:pe}=re;let Ee=typeof pe=="function"?pe(H,ne):pe;return typeof Ee=="string"&&(Ee=Ee.includes("?")||Ee.includes("#")?Ee=N(Ee):{path:Ee},Ee.params={}),Ve({query:H.query,hash:H.hash,params:Ee.path!=null?{}:H.params},Ee)}}function te(H,ne){const re=l=R(H),pe=c.value,Ee=H.state,Re=H.force,z=H.replace===!0,$=Z(re,pe);if($)return te(Ve(N($),{state:typeof $=="object"?Ve({},Ee,$.state):Ee,force:Re,replace:z}),ne||re);const J=re;J.redirectedFrom=ne;let le;return!Re&&ik(r,pe,re)&&(le=mo(ht.NAVIGATION_DUPLICATED,{to:J,from:pe}),C(pe,pe,!0,!1)),(le?Promise.resolve(le):D(J,pe)).catch(se=>fr(se)?fr(se,ht.NAVIGATION_GUARD_REDIRECT)?se:K(se):M(se,J,pe)).then(se=>{if(se){if(fr(se,ht.NAVIGATION_GUARD_REDIRECT))return te(Ve({replace:z},N(se.to),{state:typeof se.to=="object"?Ve({},Ee,se.to.state):Ee,force:Re}),ne||J)}else se=j(J,pe,!0,z,Ee);return V(J,pe,se),se})}function oe(H,ne){const re=k(H,ne);return re?Promise.reject(re):Promise.resolve()}function P(H){const ne=T.values().next().value;return ne&&typeof ne.runWithContext=="function"?ne.runWithContext(H):H()}function D(H,ne){let re;const[pe,Ee,Re]=Sk(H,ne);re=ku(pe.reverse(),"beforeRouteLeave",H,ne);for(const $ of pe)$.leaveGuards.forEach(J=>{re.push(jr(J,H,ne))});const z=oe.bind(null,H,ne);return re.push(z),G(re).then(()=>{re=[];for(const $ of o.list())re.push(jr($,H,ne));return re.push(z),G(re)}).then(()=>{re=ku(Ee,"beforeRouteUpdate",H,ne);for(const $ of Ee)$.updateGuards.forEach(J=>{re.push(jr(J,H,ne))});return re.push(z),G(re)}).then(()=>{re=[];for(const $ of Re)if($.beforeEnter)if($n($.beforeEnter))for(const J of $.beforeEnter)re.push(jr(J,H,ne));else re.push(jr($.beforeEnter,H,ne));return re.push(z),G(re)}).then(()=>(H.matched.forEach($=>$.enterCallbacks={}),re=ku(Re,"beforeRouteEnter",H,ne,P),re.push(z),G(re))).then(()=>{re=[];for(const $ of i.list())re.push(jr($,H,ne));return re.push(z),G(re)}).catch($=>fr($,ht.NAVIGATION_CANCELLED)?$:Promise.reject($))}function V(H,ne,re){a.list().forEach(pe=>P(()=>pe(H,ne,re)))}function j(H,ne,re,pe,Ee){const Re=k(H,ne);if(Re)return Re;const z=ne===xn,$=Ks?history.state:{};re&&(pe||z?s.replace(H.fullPath,Ve({scroll:z&&$&&$.scroll},Ee)):s.push(H.fullPath,Ee)),c.value=H,C(H,ne,re,z),K()}let E;function f(){E||(E=s.listen((H,ne,re)=>{if(!L.listening)return;const pe=R(H),Ee=Z(pe,L.currentRoute.value);if(Ee){te(Ve(Ee,{replace:!0,force:!0}),pe).catch(ti);return}l=pe;const Re=c.value;Ks&&pk(Kd(Re.fullPath,re.delta),bc()),D(pe,Re).catch(z=>fr(z,ht.NAVIGATION_ABORTED|ht.NAVIGATION_CANCELLED)?z:fr(z,ht.NAVIGATION_GUARD_REDIRECT)?(te(Ve(N(z.to),{force:!0}),pe).then($=>{fr($,ht.NAVIGATION_ABORTED|ht.NAVIGATION_DUPLICATED)&&!re.delta&&re.type===Ul.pop&&s.go(-1,!1)}).catch(ti),Promise.reject()):(re.delta&&s.go(-re.delta,!1),M(z,pe,Re))).then(z=>{z=z||j(pe,Re,!1),z&&(re.delta&&!fr(z,ht.NAVIGATION_CANCELLED)?s.go(-re.delta,!1):re.type===Ul.pop&&fr(z,ht.NAVIGATION_ABORTED|ht.NAVIGATION_DUPLICATED)&&s.go(-1,!1)),V(pe,Re,z)}).catch(ti)}))}let w=Lo(),S=Lo(),I;function M(H,ne,re){K(H);const pe=S.list();return pe.length?pe.forEach(Ee=>Ee(H,ne,re)):console.error(H),Promise.reject(H)}function U(){return I&&c.value!==xn?Promise.resolve():new Promise((H,ne)=>{w.add([H,ne])})}function K(H){return I||(I=!H,f(),w.list().forEach(([ne,re])=>H?re(H):ne()),w.reset()),H}function C(H,ne,re,pe){const{scrollBehavior:Ee}=e;if(!Ks||!Ee)return Promise.resolve();const Re=!re&&gk(Kd(H.fullPath,0))||(pe||!re)&&history.state&&history.state.scroll||null;return fo().then(()=>Ee(H,ne,Re)).then(z=>z&&dk(z)).catch(z=>M(z,H,ne))}const d=H=>s.go(H);let y;const T=new Set,L={currentRoute:c,listening:!0,addRoute:p,removeRoute:v,clearRoutes:t.clearRoutes,hasRoute:x,getRoutes:_,resolve:R,options:e,push:B,replace:F,go:d,back:()=>d(-1),forward:()=>d(1),beforeEach:o.add,beforeResolve:i.add,afterEach:a.add,onError:S.add,isReady:U,install(H){H.component("RouterLink",Wk),H.component("RouterView",um),H.config.globalProperties.$router=L,Object.defineProperty(H.config.globalProperties,"$route",{enumerable:!0,get:()=>Je(c)}),Ks&&!y&&c.value===xn&&(y=!0,B(s.location).catch(pe=>{}));const ne={};for(const pe in xn)Object.defineProperty(ne,pe,{get:()=>c.value[pe],enumerable:!0});H.provide(jf,L),H.provide($f,nr(ne)),H.provide($l,c);const re=H.unmount;T.add(H),H.unmount=function(){T.delete(H),T.size<1&&(l=xn,E&&E(),E=null,c.value=xn,y=!1,I=!1),re()}}};function G(H){return H.reduce((ne,re)=>ne.then(()=>P(re)),Promise.resolve())}return L}function lm(e){return Gt($f)}const Zk=/(:\w+)\([^)]+\)/g,Gk=/(:\w+)[?+*]/g,Yk=/:\w+/g,Jk=(e,t)=>t.path.replace(Zk,"$1").replace(Gk,"$1").replace(Yk,n=>e.params[n.slice(1)]?.toString()||""),Fl=(e,t)=>{const n=e.route.matched.find(s=>s.components?.default===e.Component.type),r=t??n?.meta.key??(n&&Jk(e.route,n));return typeof r=="function"?r(e.route):r},Qk=(e,t)=>({default:()=>e?gt($v,e===!0?{}:e,t):t});function Ff(e){return Array.isArray(e)?e:[e]}const Xk="modulepreload",eA=function(e,t){return new URL(e,t).href},sp={},Dn=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let l=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};const i=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");s=l(n.map(u=>{if(u=eA(u,r),u in sp)return;sp[u]=!0;const h=u.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(r)for(let v=i.length-1;v>=0;v--){const _=i[v];if(_.href===u&&(!h||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${g}`))return;const p=document.createElement("link");if(p.rel=h?"stylesheet":Xk,h||(p.as="script"),p.crossOrigin="",p.href=u,c&&p.setAttribute("nonce",c),document.head.appendChild(p),h)return new Promise((v,_)=>{p.addEventListener("load",v),p.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},Au=[{name:"index",path:"/",component:()=>Dn(()=>import("./BRrKfyf9.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)},{name:"onboard",path:"/onboard",component:()=>Dn(()=>import("./BTvBqZbO.js"),__vite__mapDeps([6,2,3,7,4,8,9,10]),import.meta.url)},{name:"directory",path:"/directory",component:()=>Dn(()=>import("./52Qp8XtK.js"),__vite__mapDeps([11,2,3,7,4,12]),import.meta.url)}],fm=(e,t)=>({default:()=>e?gt(F_,e===!0?{}:e,t):t.default?.()}),tA=/(:\w+)\([^)]+\)/g,nA=/(:\w+)[?+*]/g,rA=/:\w+/g;function op(e){const t=e?.meta.key??e.path.replace(tA,"$1").replace(nA,"$1").replace(rA,n=>e.params[n.slice(1)]?.toString()||"");return typeof t=="function"?t(e):t}function sA(e,t){return e===t||t===xn?!1:op(e)!==op(t)?!0:!e.matched.every((r,s)=>r.components&&r.components.default===t.matched[s]?.components?.default)}function oA(e,t=!1){if(e){if(e.nodeName==="#comment"&&e.nodeValue==="[")return hm(e,[],t);if(t){const n=e.cloneNode(!0);return n.querySelectorAll("[data-island-slot]").forEach(r=>{r.innerHTML=""}),[n.outerHTML]}return[e.outerHTML]}}function hm(e,t=[],n=!1){if(e&&e.nodeName){if(aA(e))return t;if(!iA(e)){const r=e.cloneNode(!0);n&&r.querySelectorAll?.("[data-island-slot]").forEach(s=>{s.innerHTML=""}),t.push(r.outerHTML)}hm(e.nextSibling,t,n)}return t}function xu(e,t){const n=e?oA(e):[t];return n?I_(n.join(""),n.length):gt("div")}function iA(e){return e.nodeName==="#comment"&&e.nodeValue==="["}function aA(e){return e.nodeName==="#comment"&&e.nodeValue==="]"}const cA={scrollBehavior(e,t,n){const r=yt(),s=Sn().options?.scrollBehaviorType??"auto";if(e.path.replace(/\/$/,"")===t.path.replace(/\/$/,""))return t.hash&&!e.hash?{left:0,top:0}:e.hash?{el:e.hash,top:dm(e.hash),behavior:s}:!1;if((typeof e.meta.scrollToTop=="function"?e.meta.scrollToTop(e,t):e.meta.scrollToTop)===!1)return!1;const i=r._runningTransition?"page:transition:finish":"page:loading:end";return new Promise(a=>{if(t===xn){a(ip(e,t,n,s));return}r.hooks.hookOnce(i,()=>{requestAnimationFrame(()=>a(ip(e,t,n,s)))})})}};function dm(e){try{const t=document.querySelector(e);if(t)return(Number.parseFloat(getComputedStyle(t).scrollMarginTop)||0)+(Number.parseFloat(getComputedStyle(document.documentElement).scrollPaddingTop)||0)}catch{}return 0}function ip(e,t,n,r){if(n)return n;const s=sA(e,t);return e.hash?{el:e.hash,top:dm(e.hash),behavior:s?r:"instant"}:{left:0,top:0}}const uA={hashMode:!1,scrollBehaviorType:"auto"},Rr={...uA,...cA},lA=async(e,t)=>{let n,r;if(!e.meta?.validate)return;const s=([n,r]=ei(()=>Promise.resolve(e.meta.validate(e))),n=await n,r(),n);if(s===!0)return;const o=vs({fatal:!0,status:s&&(s.status||s.statusCode)||404,statusText:s&&(s.statusText||s.statusMessage)||`Page Not Found: ${e.fullPath}`,data:{path:e.fullPath}});return typeof window<"u"&&window.history.pushState({},"",t.fullPath),o},fA=e=>{const t=wc({path:e.path});if(t.redirect){const n=t.redirect.includes("#")?t.redirect:t.redirect+e.hash;return Ms(n,{acceptRelative:!0})?(window.location.href=n,!1):n}},hA=[lA,fA],Wl={};function dA(e,t,n){const{pathname:r,search:s,hash:o}=t,i=e.indexOf("#");if(i>-1){const l=o.includes(e.slice(i))?e.slice(i).length:1;let u=o.slice(l);return u[0]!=="/"&&(u="/"+u),kd(u,"")}const a=kd(r,e),c=!n||V1(a,n)?a:n;return c+(c.includes("?")?"":s)+o}const pA=En({name:"nuxt:router",enforce:"pre",async setup(e){let t,n,r=Ai().app.baseURL;const s=Rr.history?.(r)??xk(r),o=Rr.routes?([t,n]=ei(()=>Rr.routes(Au)),t=await t,n(),t??Au):Au;let i;const a=qk({...Rr,scrollBehavior:(x,R,N)=>{if(R===xn){i=N;return}if(Rr.scrollBehavior){if(a.options.scrollBehavior=Rr.scrollBehavior,"scrollRestoration"in window.history){const k=a.beforeEach(()=>{k(),window.history.scrollRestoration="manual"})}return Rr.scrollBehavior(x,xn,i||N)}},history:s,routes:o});"scrollRestoration"in window.history&&(window.history.scrollRestoration="auto"),e.vueApp.use(a);const c=Ar(a.currentRoute.value);a.afterEach((x,R)=>{c.value=R}),Object.defineProperty(e.vueApp.config.globalProperties,"previousRoute",{get:()=>c.value});const l=dA(r,window.location,e.payload.path),u=Ar(a.currentRoute.value),h=()=>{u.value=a.currentRoute.value};a.afterEach((x,R)=>{x.matched.at(-1)?.components?.default===R.matched.at(-1)?.components?.default&&h()});const g={sync:h};for(const x in u.value)Object.defineProperty(g,x,{get:()=>u.value[x],enumerable:!0});e._route=nr(g),e._middleware||={global:[],named:{}};const p=mc();a.afterEach(async(x,R,N)=>{delete e._processingMiddleware,!e.isHydrating&&p.value&&await e.runWithContext(FS),N&&await e.callHook("page:loading:end")});try{[t,n]=ei(()=>a.isReady()),await t,n()}catch(x){[t,n]=ei(()=>e.runWithContext(()=>as(x))),await t,n()}const v=l!==a.currentRoute.value.fullPath?a.resolve(l):a.currentRoute.value;h();const _=e.payload.state._layout;return a.beforeEach(async(x,R)=>{await e.callHook("page:loading:start"),x.meta=Xr(x.meta),e.isHydrating&&_&&!ir(x.meta.layout)&&(x.meta.layout=_),e._processingMiddleware=!0;{const N=new Set([...hA,...e._middleware.global]);for(const B of x.matched){const F=B.meta.middleware;if(F)for(const Z of Ff(F))N.add(Z)}const k=wc({path:x.path});if(k.appMiddleware)for(const B in k.appMiddleware)k.appMiddleware[B]?N.add(B):N.delete(B);for(const B of N){const F=typeof B=="string"?e._middleware.named[B]||await Wl[B]?.().then(Z=>Z.default||Z):B;if(!F)throw new Error(`Unknown route middleware: '${B}'.`);try{const Z=await e.runWithContext(()=>F(x,R));if(!e.payload.serverRendered&&e.isHydrating&&(Z===!1||Z instanceof Error)){const te=Z||vs({status:404,statusText:`Page Not Found: ${l}`});return await e.runWithContext(()=>as(te)),!1}if(Z===!0)continue;if(Z===!1)return Z;if(Z)return U0(Z)&&Z.fatal&&await e.runWithContext(()=>as(Z)),Z}catch(Z){const te=vs(Z);return te.fatal&&await e.runWithContext(()=>as(te)),te}}}}),a.onError(async()=>{delete e._processingMiddleware,await e.callHook("page:loading:end")}),a.afterEach(x=>{if(x.matched.length===0&&!p.value)return e.runWithContext(()=>as(vs({status:404,fatal:!1,statusText:`Page not found: ${x.fullPath}`,data:{path:x.fullPath}})))}),e.hooks.hookOnce("app:created",async()=>{try{"name"in v&&(v.name=void 0),await a.replace({...v,force:!0}),a.options.scrollBehavior=Rr.scrollBehavior}catch(x){await e.runWithContext(()=>as(x))}}),{provide:{router:a}}}}),ap=globalThis.requestIdleCallback||(e=>{const t=Date.now(),n={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))};return setTimeout(()=>{e(n)},1)}),TL=globalThis.cancelIdleCallback||(e=>{clearTimeout(e)}),Wf=e=>{const t=yt();t.isHydrating?t.hooks.hookOnce("app:suspense:resolve",()=>{ap(()=>e())}):ap(()=>e())},gA=En({name:"nuxt:payload",setup(e){const t=new Set;Sn().beforeResolve(async(n,r)=>{if(n.path===r.path)return;const s=await $d(n.path);if(s){for(const o of t)delete e.static.data[o];for(const o in s.data)o in e.static.data||t.add(o),e.static.data[o]=s.data[o]}}),Wf(()=>{e.hooks.hook("link:prefetch",async n=>{const{hostname:r}=new URL(n,window.location.href);r===window.location.hostname&&await $d(n).catch(()=>{console.warn("[nuxt] Error preloading payload for",n)})}),navigator.connection?.effectiveType!=="slow-2g"&&setTimeout(Df,1e3)})}}),yA=En(()=>{const e=Sn();Wf(()=>{e.beforeResolve(async()=>{await new Promise(t=>{setTimeout(t,100),requestAnimationFrame(()=>{setTimeout(t,0)})})})})}),mA=En(e=>{let t;async function n(){let r;try{r=await Df()}catch(s){const o=s;if(!("status"in o&&(o.status===404||o.status===403)))throw o}t&&clearTimeout(t),t=setTimeout(n,Cd);try{const s=await $fetch(Pf("builds/latest.json")+`?${Date.now()}`);s.id!==r?.id&&(e.hooks.callHook("app:manifest:update",s),t&&clearTimeout(t))}catch{}}Wf(()=>{t=setTimeout(n,Cd)})});function wA(e={}){const t=e.path||window.location.pathname;let n={};try{n=Da(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(e.force||n?.path!==t||n?.expires<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:t,expires:Date.now()+(e.ttl??1e4)}))}catch{}if(e.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:yt().payload.state}))}catch{}window.location.pathname!==t?window.location.href=t:window.location.reload()}}const bA=En({name:"nuxt:chunk-reload",setup(e){const t=Sn(),n=Ai(),r=new Set;t.beforeEach(()=>{r.clear()}),e.hook("app:chunkError",({error:o})=>{r.add(o)});function s(o){const i=Nf(n.app.baseURL,o.fullPath);wA({path:i,persistState:!0})}e.hook("app:manifest:update",()=>{t.beforeResolve(s)}),t.onError((o,i)=>{r.has(o)&&s(i)})}}),Vi="<div></div>",Iu=new WeakMap;function vA(e){if(Iu.has(e))return Iu.get(e);const t={...e};return t.render?t.render=(n,r,s,o,i,a)=>{if(o.mounted$??n.mounted$){const c=e.render?.bind(n)(n,r,s,o,i,a);return c.children===null||typeof c.children=="string"?Mn(c):gt(c)}return xu(n._.vnode.el,Vi)}:t.template&&=`
      <template v-if="mounted$">${e.template}</template>
      <template v-else>${Vi}</template>
    `,t.setup=(n,r)=>{const s=yt(),o=Ar(s.isHydrating===!1),i=Ts();if(s.isHydrating){const c={...i.attrs},l=_A(i);for(const u in c)delete i.attrs[u];ai(()=>{Object.assign(i.attrs,c),i.vnode.dirs=l})}ai(()=>{o.value=!0});const a=e.setup?.(n,r)||{};return df(a)?Promise.resolve(a).then(c=>typeof c!="function"?(c||={},c.mounted$=o,c):(...l)=>{if(o.value||!s.isHydrating){const u=c(...l);return u.children===null||typeof u.children=="string"?Mn(u):gt(u)}return xu(i?.vnode.el,Vi)}):typeof a=="function"?(...c)=>{if(o.value){const l=a(...c),u=t.inheritAttrs!==!1?r.attrs:void 0;return l.children===null||typeof l.children=="string"?Mn(l,u):gt(l,u)}return xu(i?.vnode.el,Vi)}:Object.assign(a,{mounted$:o})},Iu.set(e,t),t}function _A(e){if(!e||!e.vnode.dirs)return null;const t=e.vnode.dirs;return e.vnode.dirs=null,t}function SA(e){if(e?.__asyncLoader&&!e.__asyncResolved)return e.__asyncLoader()}async function EA(e,t=Sn()){const{path:n,matched:r}=t.resolve(e);if(!r.length||(t._routePreloaded||=new Set,t._routePreloaded.has(n)))return;const s=t._preloadPromises||=[];if(s.length>4)return Promise.all(s).then(()=>EA(e,t));t._routePreloaded.add(n);for(const o of r){const i=o.components?.default;if(typeof i!="function")continue;const a=Promise.resolve(i()).catch(()=>{}).finally(()=>s.splice(s.indexOf(a)));s.push(a)}await Promise.all(s)}function kA(e={}){const t=Ar(""),n=Ar(e.politeness||"polite"),r=H0();function s(l="",u="polite"){t.value=l,n.value=u}function o(l){return s(l,"polite")}function i(l){return s(l,"assertive")}function a(){s(document?.title?.trim(),n.value)}function c(){r?.hooks?.removeHook("dom:rendered",a)}return a(),r?.hooks?.hook("dom:rendered",()=>{a()}),{_cleanup:c,message:t,politeness:n,set:s,polite:o,assertive:i}}function AA(e={}){const t=yt(),n=t._routeAnnouncer||=kA(e);return e.politeness!==n.politeness.value&&(n.politeness.value=e.politeness||"polite"),gf()&&(t._routeAnnouncerDeps||=0,t._routeAnnouncerDeps++,Zb(()=>{t._routeAnnouncerDeps--,t._routeAnnouncerDeps===0&&(n._cleanup(),delete t._routeAnnouncer)})),n}const xA=En({name:"pinia",setup(e){const t=HS();return e.vueApp.use(t),e.payload&&e.payload.pinia&&(t.state.value=e.payload.pinia),{provide:{pinia:t}}},hooks:{"app:rendered"(){const e=yt();e.payload.pinia=Fe(e.$pinia).state.value}}}),IA=En({name:"nuxt:global-components"}),Wr={default:vl(()=>Dn(()=>import("./BZvZv_c0.js"),__vite__mapDeps([13,1,2,3,8,9,14]),import.meta.url).then(e=>e.default||e))},TA=En({name:"nuxt:prefetch",setup(e){const t=Sn();e.hooks.hook("app:mounted",()=>{t.beforeEach(async n=>{const r=n?.meta?.layout;r&&typeof Wr[r]=="function"&&await Wr[r]()})}),e.hooks.hook("link:prefetch",n=>{if(Ms(n))return;const r=t.resolve(n);if(!r)return;const s=r.meta.layout;let o=Ff(r.meta.middleware);o=o.filter(i=>typeof i=="string");for(const i of o)typeof Wl[i]=="function"&&Wl[i]();typeof s=="string"&&s in Wr&&SA(Wr[s])})}});function vc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Hf(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var s=!1;try{s=this instanceof r}catch{}return s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Tu={},Do={},cp;function MA(){if(cp)return Do;cp=1,Do.byteLength=a,Do.toByteArray=l,Do.fromByteArray=g;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,o=r.length;s<o;++s)e[s]=r[s],t[r.charCodeAt(s)]=s;t[45]=62,t[95]=63;function i(p){var v=p.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=p.indexOf("=");_===-1&&(_=v);var x=_===v?0:4-_%4;return[_,x]}function a(p){var v=i(p),_=v[0],x=v[1];return(_+x)*3/4-x}function c(p,v,_){return(v+_)*3/4-_}function l(p){var v,_=i(p),x=_[0],R=_[1],N=new n(c(p,x,R)),k=0,B=R>0?x-4:x,F;for(F=0;F<B;F+=4)v=t[p.charCodeAt(F)]<<18|t[p.charCodeAt(F+1)]<<12|t[p.charCodeAt(F+2)]<<6|t[p.charCodeAt(F+3)],N[k++]=v>>16&255,N[k++]=v>>8&255,N[k++]=v&255;return R===2&&(v=t[p.charCodeAt(F)]<<2|t[p.charCodeAt(F+1)]>>4,N[k++]=v&255),R===1&&(v=t[p.charCodeAt(F)]<<10|t[p.charCodeAt(F+1)]<<4|t[p.charCodeAt(F+2)]>>2,N[k++]=v>>8&255,N[k++]=v&255),N}function u(p){return e[p>>18&63]+e[p>>12&63]+e[p>>6&63]+e[p&63]}function h(p,v,_){for(var x,R=[],N=v;N<_;N+=3)x=(p[N]<<16&16711680)+(p[N+1]<<8&65280)+(p[N+2]&255),R.push(u(x));return R.join("")}function g(p){for(var v,_=p.length,x=_%3,R=[],N=16383,k=0,B=_-x;k<B;k+=N)R.push(h(p,k,k+N>B?B:k+N));return x===1?(v=p[_-1],R.push(e[v>>2]+e[v<<4&63]+"==")):x===2&&(v=(p[_-2]<<8)+p[_-1],R.push(e[v>>10]+e[v>>4&63]+e[v<<2&63]+"=")),R.join("")}return Do}var qi={};var up;function RA(){return up||(up=1,qi.read=function(e,t,n,r,s){var o,i,a=s*8-r-1,c=(1<<a)-1,l=c>>1,u=-7,h=n?s-1:0,g=n?-1:1,p=e[t+h];for(h+=g,o=p&(1<<-u)-1,p>>=-u,u+=a;u>0;o=o*256+e[t+h],h+=g,u-=8);for(i=o&(1<<-u)-1,o>>=-u,u+=r;u>0;i=i*256+e[t+h],h+=g,u-=8);if(o===0)o=1-l;else{if(o===c)return i?NaN:(p?-1:1)*(1/0);i=i+Math.pow(2,r),o=o-l}return(p?-1:1)*i*Math.pow(2,o-r)},qi.write=function(e,t,n,r,s,o){var i,a,c,l=o*8-s-1,u=(1<<l)-1,h=u>>1,g=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,v=r?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,i=u):(i=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-i))<1&&(i--,c*=2),i+h>=1?t+=g/c:t+=g*Math.pow(2,1-h),t*c>=2&&(i++,c/=2),i+h>=u?(a=0,i=u):i+h>=1?(a=(t*c-1)*Math.pow(2,s),i=i+h):(a=t*Math.pow(2,h-1)*Math.pow(2,s),i=0));s>=8;e[n+p]=a&255,p+=v,a/=256,s-=8);for(i=i<<s|a,l+=s;l>0;e[n+p]=i&255,p+=v,i/=256,l-=8);e[n+p-v]|=_*128}),qi}var lp;function Kf(){return lp||(lp=1,(function(e){const t=MA(),n=RA(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=N,e.INSPECT_MAX_BYTES=50;const s=2147483647;e.kMaxLength=s,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const A=new Uint8Array(1),m={foo:function(){return 42}};return Object.setPrototypeOf(m,Uint8Array.prototype),Object.setPrototypeOf(A,m),A.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function i(A){if(A>s)throw new RangeError('The value "'+A+'" is invalid for option "size"');const m=new Uint8Array(A);return Object.setPrototypeOf(m,a.prototype),m}function a(A,m,b){if(typeof A=="number"){if(typeof m=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(A)}return c(A,m,b)}a.poolSize=8192;function c(A,m,b){if(typeof A=="string")return g(A,m);if(ArrayBuffer.isView(A))return v(A);if(A==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A);if(ce(A,ArrayBuffer)||A&&ce(A.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ce(A,SharedArrayBuffer)||A&&ce(A.buffer,SharedArrayBuffer)))return _(A,m,b);if(typeof A=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const O=A.valueOf&&A.valueOf();if(O!=null&&O!==A)return a.from(O,m,b);const q=x(A);if(q)return q;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]=="function")return a.from(A[Symbol.toPrimitive]("string"),m,b);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}a.from=function(A,m,b){return c(A,m,b)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(A){if(typeof A!="number")throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function u(A,m,b){return l(A),A<=0?i(A):m!==void 0?typeof b=="string"?i(A).fill(m,b):i(A).fill(m):i(A)}a.alloc=function(A,m,b){return u(A,m,b)};function h(A){return l(A),i(A<0?0:R(A)|0)}a.allocUnsafe=function(A){return h(A)},a.allocUnsafeSlow=function(A){return h(A)};function g(A,m){if((typeof m!="string"||m==="")&&(m="utf8"),!a.isEncoding(m))throw new TypeError("Unknown encoding: "+m);const b=k(A,m)|0;let O=i(b);const q=O.write(A,m);return q!==b&&(O=O.slice(0,q)),O}function p(A){const m=A.length<0?0:R(A.length)|0,b=i(m);for(let O=0;O<m;O+=1)b[O]=A[O]&255;return b}function v(A){if(ce(A,Uint8Array)){const m=new Uint8Array(A);return _(m.buffer,m.byteOffset,m.byteLength)}return p(A)}function _(A,m,b){if(m<0||A.byteLength<m)throw new RangeError('"offset" is outside of buffer bounds');if(A.byteLength<m+(b||0))throw new RangeError('"length" is outside of buffer bounds');let O;return m===void 0&&b===void 0?O=new Uint8Array(A):b===void 0?O=new Uint8Array(A,m):O=new Uint8Array(A,m,b),Object.setPrototypeOf(O,a.prototype),O}function x(A){if(a.isBuffer(A)){const m=R(A.length)|0,b=i(m);return b.length===0||A.copy(b,0,0,m),b}if(A.length!==void 0)return typeof A.length!="number"||be(A.length)?i(0):p(A);if(A.type==="Buffer"&&Array.isArray(A.data))return p(A.data)}function R(A){if(A>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return A|0}function N(A){return+A!=A&&(A=0),a.alloc(+A)}a.isBuffer=function(m){return m!=null&&m._isBuffer===!0&&m!==a.prototype},a.compare=function(m,b){if(ce(m,Uint8Array)&&(m=a.from(m,m.offset,m.byteLength)),ce(b,Uint8Array)&&(b=a.from(b,b.offset,b.byteLength)),!a.isBuffer(m)||!a.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(m===b)return 0;let O=m.length,q=b.length;for(let Y=0,ee=Math.min(O,q);Y<ee;++Y)if(m[Y]!==b[Y]){O=m[Y],q=b[Y];break}return O<q?-1:q<O?1:0},a.isEncoding=function(m){switch(String(m).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(m,b){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(m.length===0)return a.alloc(0);let O;if(b===void 0)for(b=0,O=0;O<m.length;++O)b+=m[O].length;const q=a.allocUnsafe(b);let Y=0;for(O=0;O<m.length;++O){let ee=m[O];if(ce(ee,Uint8Array))Y+ee.length>q.length?(a.isBuffer(ee)||(ee=a.from(ee)),ee.copy(q,Y)):Uint8Array.prototype.set.call(q,ee,Y);else if(a.isBuffer(ee))ee.copy(q,Y);else throw new TypeError('"list" argument must be an Array of Buffers');Y+=ee.length}return q};function k(A,m){if(a.isBuffer(A))return A.length;if(ArrayBuffer.isView(A)||ce(A,ArrayBuffer))return A.byteLength;if(typeof A!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);const b=A.length,O=arguments.length>2&&arguments[2]===!0;if(!O&&b===0)return 0;let q=!1;for(;;)switch(m){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":return se(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b*2;case"hex":return b>>>1;case"base64":return fe(A).length;default:if(q)return O?-1:se(A).length;m=(""+m).toLowerCase(),q=!0}}a.byteLength=k;function B(A,m,b){let O=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((b===void 0||b>this.length)&&(b=this.length),b<=0)||(b>>>=0,m>>>=0,b<=m))return"";for(A||(A="utf8");;)switch(A){case"hex":return U(this,m,b);case"utf8":case"utf-8":return f(this,m,b);case"ascii":return I(this,m,b);case"latin1":case"binary":return M(this,m,b);case"base64":return E(this,m,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,m,b);default:if(O)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),O=!0}}a.prototype._isBuffer=!0;function F(A,m,b){const O=A[m];A[m]=A[b],A[b]=O}a.prototype.swap16=function(){const m=this.length;if(m%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let b=0;b<m;b+=2)F(this,b,b+1);return this},a.prototype.swap32=function(){const m=this.length;if(m%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let b=0;b<m;b+=4)F(this,b,b+3),F(this,b+1,b+2);return this},a.prototype.swap64=function(){const m=this.length;if(m%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let b=0;b<m;b+=8)F(this,b,b+7),F(this,b+1,b+6),F(this,b+2,b+5),F(this,b+3,b+4);return this},a.prototype.toString=function(){const m=this.length;return m===0?"":arguments.length===0?f(this,0,m):B.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(m){if(!a.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m?!0:a.compare(this,m)===0},a.prototype.inspect=function(){let m="";const b=e.INSPECT_MAX_BYTES;return m=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim(),this.length>b&&(m+=" ... "),"<Buffer "+m+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(m,b,O,q,Y){if(ce(m,Uint8Array)&&(m=a.from(m,m.offset,m.byteLength)),!a.isBuffer(m))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof m);if(b===void 0&&(b=0),O===void 0&&(O=m?m.length:0),q===void 0&&(q=0),Y===void 0&&(Y=this.length),b<0||O>m.length||q<0||Y>this.length)throw new RangeError("out of range index");if(q>=Y&&b>=O)return 0;if(q>=Y)return-1;if(b>=O)return 1;if(b>>>=0,O>>>=0,q>>>=0,Y>>>=0,this===m)return 0;let ee=Y-q,Pe=O-b;const Le=Math.min(ee,Pe),xe=this.slice(q,Y),je=m.slice(b,O);for(let Ce=0;Ce<Le;++Ce)if(xe[Ce]!==je[Ce]){ee=xe[Ce],Pe=je[Ce];break}return ee<Pe?-1:Pe<ee?1:0};function Z(A,m,b,O,q){if(A.length===0)return-1;if(typeof b=="string"?(O=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),b=+b,be(b)&&(b=q?0:A.length-1),b<0&&(b=A.length+b),b>=A.length){if(q)return-1;b=A.length-1}else if(b<0)if(q)b=0;else return-1;if(typeof m=="string"&&(m=a.from(m,O)),a.isBuffer(m))return m.length===0?-1:te(A,m,b,O,q);if(typeof m=="number")return m=m&255,typeof Uint8Array.prototype.indexOf=="function"?q?Uint8Array.prototype.indexOf.call(A,m,b):Uint8Array.prototype.lastIndexOf.call(A,m,b):te(A,[m],b,O,q);throw new TypeError("val must be string, number or Buffer")}function te(A,m,b,O,q){let Y=1,ee=A.length,Pe=m.length;if(O!==void 0&&(O=String(O).toLowerCase(),O==="ucs2"||O==="ucs-2"||O==="utf16le"||O==="utf-16le")){if(A.length<2||m.length<2)return-1;Y=2,ee/=2,Pe/=2,b/=2}function Le(je,Ce){return Y===1?je[Ce]:je.readUInt16BE(Ce*Y)}let xe;if(q){let je=-1;for(xe=b;xe<ee;xe++)if(Le(A,xe)===Le(m,je===-1?0:xe-je)){if(je===-1&&(je=xe),xe-je+1===Pe)return je*Y}else je!==-1&&(xe-=xe-je),je=-1}else for(b+Pe>ee&&(b=ee-Pe),xe=b;xe>=0;xe--){let je=!0;for(let Ce=0;Ce<Pe;Ce++)if(Le(A,xe+Ce)!==Le(m,Ce)){je=!1;break}if(je)return xe}return-1}a.prototype.includes=function(m,b,O){return this.indexOf(m,b,O)!==-1},a.prototype.indexOf=function(m,b,O){return Z(this,m,b,O,!0)},a.prototype.lastIndexOf=function(m,b,O){return Z(this,m,b,O,!1)};function oe(A,m,b,O){b=Number(b)||0;const q=A.length-b;O?(O=Number(O),O>q&&(O=q)):O=q;const Y=m.length;O>Y/2&&(O=Y/2);let ee;for(ee=0;ee<O;++ee){const Pe=parseInt(m.substr(ee*2,2),16);if(be(Pe))return ee;A[b+ee]=Pe}return ee}function P(A,m,b,O){return ue(se(m,A.length-b),A,b,O)}function D(A,m,b,O){return ue(ie(m),A,b,O)}function V(A,m,b,O){return ue(fe(m),A,b,O)}function j(A,m,b,O){return ue(we(m,A.length-b),A,b,O)}a.prototype.write=function(m,b,O,q){if(b===void 0)q="utf8",O=this.length,b=0;else if(O===void 0&&typeof b=="string")q=b,O=this.length,b=0;else if(isFinite(b))b=b>>>0,isFinite(O)?(O=O>>>0,q===void 0&&(q="utf8")):(q=O,O=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Y=this.length-b;if((O===void 0||O>Y)&&(O=Y),m.length>0&&(O<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");q||(q="utf8");let ee=!1;for(;;)switch(q){case"hex":return oe(this,m,b,O);case"utf8":case"utf-8":return P(this,m,b,O);case"ascii":case"latin1":case"binary":return D(this,m,b,O);case"base64":return V(this,m,b,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,m,b,O);default:if(ee)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),ee=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(A,m,b){return m===0&&b===A.length?t.fromByteArray(A):t.fromByteArray(A.slice(m,b))}function f(A,m,b){b=Math.min(A.length,b);const O=[];let q=m;for(;q<b;){const Y=A[q];let ee=null,Pe=Y>239?4:Y>223?3:Y>191?2:1;if(q+Pe<=b){let Le,xe,je,Ce;switch(Pe){case 1:Y<128&&(ee=Y);break;case 2:Le=A[q+1],(Le&192)===128&&(Ce=(Y&31)<<6|Le&63,Ce>127&&(ee=Ce));break;case 3:Le=A[q+1],xe=A[q+2],(Le&192)===128&&(xe&192)===128&&(Ce=(Y&15)<<12|(Le&63)<<6|xe&63,Ce>2047&&(Ce<55296||Ce>57343)&&(ee=Ce));break;case 4:Le=A[q+1],xe=A[q+2],je=A[q+3],(Le&192)===128&&(xe&192)===128&&(je&192)===128&&(Ce=(Y&15)<<18|(Le&63)<<12|(xe&63)<<6|je&63,Ce>65535&&Ce<1114112&&(ee=Ce))}}ee===null?(ee=65533,Pe=1):ee>65535&&(ee-=65536,O.push(ee>>>10&1023|55296),ee=56320|ee&1023),O.push(ee),q+=Pe}return S(O)}const w=4096;function S(A){const m=A.length;if(m<=w)return String.fromCharCode.apply(String,A);let b="",O=0;for(;O<m;)b+=String.fromCharCode.apply(String,A.slice(O,O+=w));return b}function I(A,m,b){let O="";b=Math.min(A.length,b);for(let q=m;q<b;++q)O+=String.fromCharCode(A[q]&127);return O}function M(A,m,b){let O="";b=Math.min(A.length,b);for(let q=m;q<b;++q)O+=String.fromCharCode(A[q]);return O}function U(A,m,b){const O=A.length;(!m||m<0)&&(m=0),(!b||b<0||b>O)&&(b=O);let q="";for(let Y=m;Y<b;++Y)q+=de[A[Y]];return q}function K(A,m,b){const O=A.slice(m,b);let q="";for(let Y=0;Y<O.length-1;Y+=2)q+=String.fromCharCode(O[Y]+O[Y+1]*256);return q}a.prototype.slice=function(m,b){const O=this.length;m=~~m,b=b===void 0?O:~~b,m<0?(m+=O,m<0&&(m=0)):m>O&&(m=O),b<0?(b+=O,b<0&&(b=0)):b>O&&(b=O),b<m&&(b=m);const q=this.subarray(m,b);return Object.setPrototypeOf(q,a.prototype),q};function C(A,m,b){if(A%1!==0||A<0)throw new RangeError("offset is not uint");if(A+m>b)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(m,b,O){m=m>>>0,b=b>>>0,O||C(m,b,this.length);let q=this[m],Y=1,ee=0;for(;++ee<b&&(Y*=256);)q+=this[m+ee]*Y;return q},a.prototype.readUintBE=a.prototype.readUIntBE=function(m,b,O){m=m>>>0,b=b>>>0,O||C(m,b,this.length);let q=this[m+--b],Y=1;for(;b>0&&(Y*=256);)q+=this[m+--b]*Y;return q},a.prototype.readUint8=a.prototype.readUInt8=function(m,b){return m=m>>>0,b||C(m,1,this.length),this[m]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(m,b){return m=m>>>0,b||C(m,2,this.length),this[m]|this[m+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(m,b){return m=m>>>0,b||C(m,2,this.length),this[m]<<8|this[m+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(m,b){return m=m>>>0,b||C(m,4,this.length),(this[m]|this[m+1]<<8|this[m+2]<<16)+this[m+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(m,b){return m=m>>>0,b||C(m,4,this.length),this[m]*16777216+(this[m+1]<<16|this[m+2]<<8|this[m+3])},a.prototype.readBigUInt64LE=ke(function(m){m=m>>>0,z(m,"offset");const b=this[m],O=this[m+7];(b===void 0||O===void 0)&&$(m,this.length-8);const q=b+this[++m]*2**8+this[++m]*2**16+this[++m]*2**24,Y=this[++m]+this[++m]*2**8+this[++m]*2**16+O*2**24;return BigInt(q)+(BigInt(Y)<<BigInt(32))}),a.prototype.readBigUInt64BE=ke(function(m){m=m>>>0,z(m,"offset");const b=this[m],O=this[m+7];(b===void 0||O===void 0)&&$(m,this.length-8);const q=b*2**24+this[++m]*2**16+this[++m]*2**8+this[++m],Y=this[++m]*2**24+this[++m]*2**16+this[++m]*2**8+O;return(BigInt(q)<<BigInt(32))+BigInt(Y)}),a.prototype.readIntLE=function(m,b,O){m=m>>>0,b=b>>>0,O||C(m,b,this.length);let q=this[m],Y=1,ee=0;for(;++ee<b&&(Y*=256);)q+=this[m+ee]*Y;return Y*=128,q>=Y&&(q-=Math.pow(2,8*b)),q},a.prototype.readIntBE=function(m,b,O){m=m>>>0,b=b>>>0,O||C(m,b,this.length);let q=b,Y=1,ee=this[m+--q];for(;q>0&&(Y*=256);)ee+=this[m+--q]*Y;return Y*=128,ee>=Y&&(ee-=Math.pow(2,8*b)),ee},a.prototype.readInt8=function(m,b){return m=m>>>0,b||C(m,1,this.length),this[m]&128?(255-this[m]+1)*-1:this[m]},a.prototype.readInt16LE=function(m,b){m=m>>>0,b||C(m,2,this.length);const O=this[m]|this[m+1]<<8;return O&32768?O|4294901760:O},a.prototype.readInt16BE=function(m,b){m=m>>>0,b||C(m,2,this.length);const O=this[m+1]|this[m]<<8;return O&32768?O|4294901760:O},a.prototype.readInt32LE=function(m,b){return m=m>>>0,b||C(m,4,this.length),this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24},a.prototype.readInt32BE=function(m,b){return m=m>>>0,b||C(m,4,this.length),this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]},a.prototype.readBigInt64LE=ke(function(m){m=m>>>0,z(m,"offset");const b=this[m],O=this[m+7];(b===void 0||O===void 0)&&$(m,this.length-8);const q=this[m+4]+this[m+5]*2**8+this[m+6]*2**16+(O<<24);return(BigInt(q)<<BigInt(32))+BigInt(b+this[++m]*2**8+this[++m]*2**16+this[++m]*2**24)}),a.prototype.readBigInt64BE=ke(function(m){m=m>>>0,z(m,"offset");const b=this[m],O=this[m+7];(b===void 0||O===void 0)&&$(m,this.length-8);const q=(b<<24)+this[++m]*2**16+this[++m]*2**8+this[++m];return(BigInt(q)<<BigInt(32))+BigInt(this[++m]*2**24+this[++m]*2**16+this[++m]*2**8+O)}),a.prototype.readFloatLE=function(m,b){return m=m>>>0,b||C(m,4,this.length),n.read(this,m,!0,23,4)},a.prototype.readFloatBE=function(m,b){return m=m>>>0,b||C(m,4,this.length),n.read(this,m,!1,23,4)},a.prototype.readDoubleLE=function(m,b){return m=m>>>0,b||C(m,8,this.length),n.read(this,m,!0,52,8)},a.prototype.readDoubleBE=function(m,b){return m=m>>>0,b||C(m,8,this.length),n.read(this,m,!1,52,8)};function d(A,m,b,O,q,Y){if(!a.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>q||m<Y)throw new RangeError('"value" argument is out of bounds');if(b+O>A.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(m,b,O,q){if(m=+m,b=b>>>0,O=O>>>0,!q){const Pe=Math.pow(2,8*O)-1;d(this,m,b,O,Pe,0)}let Y=1,ee=0;for(this[b]=m&255;++ee<O&&(Y*=256);)this[b+ee]=m/Y&255;return b+O},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(m,b,O,q){if(m=+m,b=b>>>0,O=O>>>0,!q){const Pe=Math.pow(2,8*O)-1;d(this,m,b,O,Pe,0)}let Y=O-1,ee=1;for(this[b+Y]=m&255;--Y>=0&&(ee*=256);)this[b+Y]=m/ee&255;return b+O},a.prototype.writeUint8=a.prototype.writeUInt8=function(m,b,O){return m=+m,b=b>>>0,O||d(this,m,b,1,255,0),this[b]=m&255,b+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(m,b,O){return m=+m,b=b>>>0,O||d(this,m,b,2,65535,0),this[b]=m&255,this[b+1]=m>>>8,b+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(m,b,O){return m=+m,b=b>>>0,O||d(this,m,b,2,65535,0),this[b]=m>>>8,this[b+1]=m&255,b+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(m,b,O){return m=+m,b=b>>>0,O||d(this,m,b,4,4294967295,0),this[b+3]=m>>>24,this[b+2]=m>>>16,this[b+1]=m>>>8,this[b]=m&255,b+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(m,b,O){return m=+m,b=b>>>0,O||d(this,m,b,4,4294967295,0),this[b]=m>>>24,this[b+1]=m>>>16,this[b+2]=m>>>8,this[b+3]=m&255,b+4};function y(A,m,b,O,q){Re(m,O,q,A,b,7);let Y=Number(m&BigInt(4294967295));A[b++]=Y,Y=Y>>8,A[b++]=Y,Y=Y>>8,A[b++]=Y,Y=Y>>8,A[b++]=Y;let ee=Number(m>>BigInt(32)&BigInt(4294967295));return A[b++]=ee,ee=ee>>8,A[b++]=ee,ee=ee>>8,A[b++]=ee,ee=ee>>8,A[b++]=ee,b}function T(A,m,b,O,q){Re(m,O,q,A,b,7);let Y=Number(m&BigInt(4294967295));A[b+7]=Y,Y=Y>>8,A[b+6]=Y,Y=Y>>8,A[b+5]=Y,Y=Y>>8,A[b+4]=Y;let ee=Number(m>>BigInt(32)&BigInt(4294967295));return A[b+3]=ee,ee=ee>>8,A[b+2]=ee,ee=ee>>8,A[b+1]=ee,ee=ee>>8,A[b]=ee,b+8}a.prototype.writeBigUInt64LE=ke(function(m,b=0){return y(this,m,b,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=ke(function(m,b=0){return T(this,m,b,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(m,b,O,q){if(m=+m,b=b>>>0,!q){const Le=Math.pow(2,8*O-1);d(this,m,b,O,Le-1,-Le)}let Y=0,ee=1,Pe=0;for(this[b]=m&255;++Y<O&&(ee*=256);)m<0&&Pe===0&&this[b+Y-1]!==0&&(Pe=1),this[b+Y]=(m/ee>>0)-Pe&255;return b+O},a.prototype.writeIntBE=function(m,b,O,q){if(m=+m,b=b>>>0,!q){const Le=Math.pow(2,8*O-1);d(this,m,b,O,Le-1,-Le)}let Y=O-1,ee=1,Pe=0;for(this[b+Y]=m&255;--Y>=0&&(ee*=256);)m<0&&Pe===0&&this[b+Y+1]!==0&&(Pe=1),this[b+Y]=(m/ee>>0)-Pe&255;return b+O},a.prototype.writeInt8=function(m,b,O){return m=+m,b=b>>>0,O||d(this,m,b,1,127,-128),m<0&&(m=255+m+1),this[b]=m&255,b+1},a.prototype.writeInt16LE=function(m,b,O){return m=+m,b=b>>>0,O||d(this,m,b,2,32767,-32768),this[b]=m&255,this[b+1]=m>>>8,b+2},a.prototype.writeInt16BE=function(m,b,O){return m=+m,b=b>>>0,O||d(this,m,b,2,32767,-32768),this[b]=m>>>8,this[b+1]=m&255,b+2},a.prototype.writeInt32LE=function(m,b,O){return m=+m,b=b>>>0,O||d(this,m,b,4,2147483647,-2147483648),this[b]=m&255,this[b+1]=m>>>8,this[b+2]=m>>>16,this[b+3]=m>>>24,b+4},a.prototype.writeInt32BE=function(m,b,O){return m=+m,b=b>>>0,O||d(this,m,b,4,2147483647,-2147483648),m<0&&(m=4294967295+m+1),this[b]=m>>>24,this[b+1]=m>>>16,this[b+2]=m>>>8,this[b+3]=m&255,b+4},a.prototype.writeBigInt64LE=ke(function(m,b=0){return y(this,m,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=ke(function(m,b=0){return T(this,m,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function L(A,m,b,O,q,Y){if(b+O>A.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("Index out of range")}function G(A,m,b,O,q){return m=+m,b=b>>>0,q||L(A,m,b,4),n.write(A,m,b,O,23,4),b+4}a.prototype.writeFloatLE=function(m,b,O){return G(this,m,b,!0,O)},a.prototype.writeFloatBE=function(m,b,O){return G(this,m,b,!1,O)};function H(A,m,b,O,q){return m=+m,b=b>>>0,q||L(A,m,b,8),n.write(A,m,b,O,52,8),b+8}a.prototype.writeDoubleLE=function(m,b,O){return H(this,m,b,!0,O)},a.prototype.writeDoubleBE=function(m,b,O){return H(this,m,b,!1,O)},a.prototype.copy=function(m,b,O,q){if(!a.isBuffer(m))throw new TypeError("argument should be a Buffer");if(O||(O=0),!q&&q!==0&&(q=this.length),b>=m.length&&(b=m.length),b||(b=0),q>0&&q<O&&(q=O),q===O||m.length===0||this.length===0)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(O<0||O>=this.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length),m.length-b<q-O&&(q=m.length-b+O);const Y=q-O;return this===m&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(b,O,q):Uint8Array.prototype.set.call(m,this.subarray(O,q),b),Y},a.prototype.fill=function(m,b,O,q){if(typeof m=="string"){if(typeof b=="string"?(q=b,b=0,O=this.length):typeof O=="string"&&(q=O,O=this.length),q!==void 0&&typeof q!="string")throw new TypeError("encoding must be a string");if(typeof q=="string"&&!a.isEncoding(q))throw new TypeError("Unknown encoding: "+q);if(m.length===1){const ee=m.charCodeAt(0);(q==="utf8"&&ee<128||q==="latin1")&&(m=ee)}}else typeof m=="number"?m=m&255:typeof m=="boolean"&&(m=Number(m));if(b<0||this.length<b||this.length<O)throw new RangeError("Out of range index");if(O<=b)return this;b=b>>>0,O=O===void 0?this.length:O>>>0,m||(m=0);let Y;if(typeof m=="number")for(Y=b;Y<O;++Y)this[Y]=m;else{const ee=a.isBuffer(m)?m:a.from(m,q),Pe=ee.length;if(Pe===0)throw new TypeError('The value "'+m+'" is invalid for argument "value"');for(Y=0;Y<O-b;++Y)this[Y+b]=ee[Y%Pe]}return this};const ne={};function re(A,m,b){ne[A]=class extends b{constructor(){super(),Object.defineProperty(this,"message",{value:m.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${A}]`,this.stack,delete this.name}get code(){return A}set code(q){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:q,writable:!0})}toString(){return`${this.name} [${A}]: ${this.message}`}}}re("ERR_BUFFER_OUT_OF_BOUNDS",function(A){return A?`${A} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),re("ERR_INVALID_ARG_TYPE",function(A,m){return`The "${A}" argument must be of type number. Received type ${typeof m}`},TypeError),re("ERR_OUT_OF_RANGE",function(A,m,b){let O=`The value of "${A}" is out of range.`,q=b;return Number.isInteger(b)&&Math.abs(b)>2**32?q=pe(String(b)):typeof b=="bigint"&&(q=String(b),(b>BigInt(2)**BigInt(32)||b<-(BigInt(2)**BigInt(32)))&&(q=pe(q)),q+="n"),O+=` It must be ${m}. Received ${q}`,O},RangeError);function pe(A){let m="",b=A.length;const O=A[0]==="-"?1:0;for(;b>=O+4;b-=3)m=`_${A.slice(b-3,b)}${m}`;return`${A.slice(0,b)}${m}`}function Ee(A,m,b){z(m,"offset"),(A[m]===void 0||A[m+b]===void 0)&&$(m,A.length-(b+1))}function Re(A,m,b,O,q,Y){if(A>b||A<m){const ee=typeof m=="bigint"?"n":"";let Pe;throw m===0||m===BigInt(0)?Pe=`>= 0${ee} and < 2${ee} ** ${(Y+1)*8}${ee}`:Pe=`>= -(2${ee} ** ${(Y+1)*8-1}${ee}) and < 2 ** ${(Y+1)*8-1}${ee}`,new ne.ERR_OUT_OF_RANGE("value",Pe,A)}Ee(O,q,Y)}function z(A,m){if(typeof A!="number")throw new ne.ERR_INVALID_ARG_TYPE(m,"number",A)}function $(A,m,b){throw Math.floor(A)!==A?(z(A,b),new ne.ERR_OUT_OF_RANGE("offset","an integer",A)):m<0?new ne.ERR_BUFFER_OUT_OF_BOUNDS:new ne.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${m}`,A)}const J=/[^+/0-9A-Za-z-_]/g;function le(A){if(A=A.split("=")[0],A=A.trim().replace(J,""),A.length<2)return"";for(;A.length%4!==0;)A=A+"=";return A}function se(A,m){m=m||1/0;let b;const O=A.length;let q=null;const Y=[];for(let ee=0;ee<O;++ee){if(b=A.charCodeAt(ee),b>55295&&b<57344){if(!q){if(b>56319){(m-=3)>-1&&Y.push(239,191,189);continue}else if(ee+1===O){(m-=3)>-1&&Y.push(239,191,189);continue}q=b;continue}if(b<56320){(m-=3)>-1&&Y.push(239,191,189),q=b;continue}b=(q-55296<<10|b-56320)+65536}else q&&(m-=3)>-1&&Y.push(239,191,189);if(q=null,b<128){if((m-=1)<0)break;Y.push(b)}else if(b<2048){if((m-=2)<0)break;Y.push(b>>6|192,b&63|128)}else if(b<65536){if((m-=3)<0)break;Y.push(b>>12|224,b>>6&63|128,b&63|128)}else if(b<1114112){if((m-=4)<0)break;Y.push(b>>18|240,b>>12&63|128,b>>6&63|128,b&63|128)}else throw new Error("Invalid code point")}return Y}function ie(A){const m=[];for(let b=0;b<A.length;++b)m.push(A.charCodeAt(b)&255);return m}function we(A,m){let b,O,q;const Y=[];for(let ee=0;ee<A.length&&!((m-=2)<0);++ee)b=A.charCodeAt(ee),O=b>>8,q=b%256,Y.push(q),Y.push(O);return Y}function fe(A){return t.toByteArray(le(A))}function ue(A,m,b,O){let q;for(q=0;q<O&&!(q+b>=m.length||q>=A.length);++q)m[q+b]=A[q];return q}function ce(A,m){return A instanceof m||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===m.name}function be(A){return A!==A}const de=(function(){const A="0123456789abcdef",m=new Array(256);for(let b=0;b<16;++b){const O=b*16;for(let q=0;q<16;++q)m[O+q]=A[b]+A[q]}return m})();function ke(A){return typeof BigInt>"u"?Ae:A}function Ae(){throw new Error("BigInt not supported")}})(Tu)),Tu}var Ne=Kf();const zs=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Ii(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function hi(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function xr(e,...t){if(!Ii(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function pm(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");hi(e.outputLen),hi(e.blockLen)}function wo(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function gm(e,t){xr(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function CA(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Gr(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Mu(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Hn(e,t){return e<<32-t|e>>>t}const NA=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function OA(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function BA(e){for(let t=0;t<e.length;t++)e[t]=OA(e[t]);return e}const fp=NA?e=>e:BA,ym=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",PA=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function _s(e){if(xr(e),ym)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=PA[e[n]];return t}const hr={_0:48,_9:57,A:65,F:70,a:97,f:102};function hp(e){if(e>=hr._0&&e<=hr._9)return e-hr._0;if(e>=hr.A&&e<=hr.F)return e-(hr.A-10);if(e>=hr.a&&e<=hr.f)return e-(hr.a-10)}function Fa(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(ym)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=hp(e.charCodeAt(o)),a=hp(e.charCodeAt(o+1));if(i===void 0||a===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[s]=i*16+a}return r}function LA(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function _c(e){return typeof e=="string"&&(e=LA(e)),xr(e),e}function Jn(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];xr(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}class Vf{}function qf(e){const t=r=>e().update(_c(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Zf(e=32){if(zs&&typeof zs.getRandomValues=="function")return zs.getRandomValues(new Uint8Array(e));if(zs&&typeof zs.randomBytes=="function")return Uint8Array.from(zs.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function DA(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),i=Number(n>>s&o),a=Number(n&o),c=r?4:0,l=r?0:4;e.setUint32(t+c,i,r),e.setUint32(t+l,a,r)}function zA(e,t,n){return e&t^~e&n}function UA(e,t,n){return e&t^e&n^t&n}class mm extends Vf{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=Mu(this.buffer)}update(t){wo(this),t=_c(t),xr(t);const{view:n,buffer:r,blockLen:s}=this,o=t.length;for(let i=0;i<o;){const a=Math.min(s-this.pos,o-i);if(a===s){const c=Mu(t);for(;s<=o-i;i+=s)this.process(c,i);continue}r.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){wo(this),gm(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:i}=this;n[i++]=128,Gr(this.buffer.subarray(i)),this.padOffset>s-i&&(this.process(r,0),i=0);for(let h=i;h<s;h++)n[h]=0;DA(r,s-8,BigInt(this.length*8),o),this.process(r,0);const a=Mu(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<l;h++)a.setUint32(4*h,u[h],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:i,pos:a}=this;return t.destroyed=i,t.finished=o,t.length=s,t.pos=a,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const Cr=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Jt=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Zi=BigInt(2**32-1),dp=BigInt(32);function jA(e,t=!1){return t?{h:Number(e&Zi),l:Number(e>>dp&Zi)}:{h:Number(e>>dp&Zi)|0,l:Number(e&Zi)|0}}function wm(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let o=0;o<n;o++){const{h:i,l:a}=jA(e[o],t);[r[o],s[o]]=[i,a]}return[r,s]}const pp=(e,t,n)=>e>>>n,gp=(e,t,n)=>e<<32-n|t>>>n,Us=(e,t,n)=>e>>>n|t<<32-n,js=(e,t,n)=>e<<32-n|t>>>n,Gi=(e,t,n)=>e<<64-n|t>>>n-32,Yi=(e,t,n)=>e>>>n-32|t<<64-n,$A=(e,t,n)=>e<<n|t>>>32-n,FA=(e,t,n)=>t<<n|e>>>32-n,WA=(e,t,n)=>t<<n-32|e>>>64-n,HA=(e,t,n)=>e<<n-32|t>>>64-n;function dr(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const KA=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),VA=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,qA=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),ZA=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,GA=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0),YA=(e,t,n,r,s,o)=>t+n+r+s+o+(e/2**32|0)|0,JA=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Nr=new Uint32Array(64);class QA extends mm{constructor(t=32){super(64,t,8,!1),this.A=Cr[0]|0,this.B=Cr[1]|0,this.C=Cr[2]|0,this.D=Cr[3]|0,this.E=Cr[4]|0,this.F=Cr[5]|0,this.G=Cr[6]|0,this.H=Cr[7]|0}get(){const{A:t,B:n,C:r,D:s,E:o,F:i,G:a,H:c}=this;return[t,n,r,s,o,i,a,c]}set(t,n,r,s,o,i,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,n){for(let h=0;h<16;h++,n+=4)Nr[h]=t.getUint32(n,!1);for(let h=16;h<64;h++){const g=Nr[h-15],p=Nr[h-2],v=Hn(g,7)^Hn(g,18)^g>>>3,_=Hn(p,17)^Hn(p,19)^p>>>10;Nr[h]=_+Nr[h-7]+v+Nr[h-16]|0}let{A:r,B:s,C:o,D:i,E:a,F:c,G:l,H:u}=this;for(let h=0;h<64;h++){const g=Hn(a,6)^Hn(a,11)^Hn(a,25),p=u+g+zA(a,c,l)+JA[h]+Nr[h]|0,_=(Hn(r,2)^Hn(r,13)^Hn(r,22))+UA(r,s,o)|0;u=l,l=c,c=a,a=i+p|0,i=o,o=s,s=r,r=p+_|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,s,o,i,a,c,l,u)}roundClean(){Gr(Nr)}destroy(){this.set(0,0,0,0,0,0,0,0),Gr(this.buffer)}}const bm=wm(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),XA=bm[0],ex=bm[1],Or=new Uint32Array(80),Br=new Uint32Array(80);class tx extends mm{constructor(t=64){super(128,t,16,!1),this.Ah=Jt[0]|0,this.Al=Jt[1]|0,this.Bh=Jt[2]|0,this.Bl=Jt[3]|0,this.Ch=Jt[4]|0,this.Cl=Jt[5]|0,this.Dh=Jt[6]|0,this.Dl=Jt[7]|0,this.Eh=Jt[8]|0,this.El=Jt[9]|0,this.Fh=Jt[10]|0,this.Fl=Jt[11]|0,this.Gh=Jt[12]|0,this.Gl=Jt[13]|0,this.Hh=Jt[14]|0,this.Hl=Jt[15]|0}get(){const{Ah:t,Al:n,Bh:r,Bl:s,Ch:o,Cl:i,Dh:a,Dl:c,Eh:l,El:u,Fh:h,Fl:g,Gh:p,Gl:v,Hh:_,Hl:x}=this;return[t,n,r,s,o,i,a,c,l,u,h,g,p,v,_,x]}set(t,n,r,s,o,i,a,c,l,u,h,g,p,v,_,x){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=o|0,this.Cl=i|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=h|0,this.Fl=g|0,this.Gh=p|0,this.Gl=v|0,this.Hh=_|0,this.Hl=x|0}process(t,n){for(let k=0;k<16;k++,n+=4)Or[k]=t.getUint32(n),Br[k]=t.getUint32(n+=4);for(let k=16;k<80;k++){const B=Or[k-15]|0,F=Br[k-15]|0,Z=Us(B,F,1)^Us(B,F,8)^pp(B,F,7),te=js(B,F,1)^js(B,F,8)^gp(B,F,7),oe=Or[k-2]|0,P=Br[k-2]|0,D=Us(oe,P,19)^Gi(oe,P,61)^pp(oe,P,6),V=js(oe,P,19)^Yi(oe,P,61)^gp(oe,P,6),j=qA(te,V,Br[k-7],Br[k-16]),E=ZA(j,Z,D,Or[k-7],Or[k-16]);Or[k]=E|0,Br[k]=j|0}let{Ah:r,Al:s,Bh:o,Bl:i,Ch:a,Cl:c,Dh:l,Dl:u,Eh:h,El:g,Fh:p,Fl:v,Gh:_,Gl:x,Hh:R,Hl:N}=this;for(let k=0;k<80;k++){const B=Us(h,g,14)^Us(h,g,18)^Gi(h,g,41),F=js(h,g,14)^js(h,g,18)^Yi(h,g,41),Z=h&p^~h&_,te=g&v^~g&x,oe=GA(N,F,te,ex[k],Br[k]),P=YA(oe,R,B,Z,XA[k],Or[k]),D=oe|0,V=Us(r,s,28)^Gi(r,s,34)^Gi(r,s,39),j=js(r,s,28)^Yi(r,s,34)^Yi(r,s,39),E=r&o^r&a^o&a,f=s&i^s&c^i&c;R=_|0,N=x|0,_=p|0,x=v|0,p=h|0,v=g|0,{h,l:g}=dr(l|0,u|0,P|0,D|0),l=a|0,u=c|0,a=o|0,c=i|0,o=r|0,i=s|0;const w=KA(D,j,f);r=VA(w,P,V,E),s=w|0}({h:r,l:s}=dr(this.Ah|0,this.Al|0,r|0,s|0)),{h:o,l:i}=dr(this.Bh|0,this.Bl|0,o|0,i|0),{h:a,l:c}=dr(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=dr(this.Dh|0,this.Dl|0,l|0,u|0),{h,l:g}=dr(this.Eh|0,this.El|0,h|0,g|0),{h:p,l:v}=dr(this.Fh|0,this.Fl|0,p|0,v|0),{h:_,l:x}=dr(this.Gh|0,this.Gl|0,_|0,x|0),{h:R,l:N}=dr(this.Hh|0,this.Hl|0,R|0,N|0),this.set(r,s,o,i,a,c,l,u,h,g,p,v,_,x,R,N)}roundClean(){Gr(Or,Br)}destroy(){Gr(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const vm=qf(()=>new QA),nx=qf(()=>new tx);const Gf=BigInt(0),Hl=BigInt(1);function As(e,t=""){if(typeof e!="boolean"){const n=t&&`"${t}"`;throw new Error(n+"expected boolean, got type="+typeof e)}return e}function Pn(e,t,n=""){const r=Ii(e),s=e?.length,o=t!==void 0;if(!r||o&&s!==t){const i=n&&`"${n}" `,a=o?` of length ${t}`:"",c=r?`length=${s}`:`type=${typeof e}`;throw new Error(i+"expected Uint8Array"+a+", got "+c)}return e}function Ji(e){const t=e.toString(16);return t.length&1?"0"+t:t}function _m(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Gf:BigInt("0x"+e)}function Sc(e){return _m(_s(e))}function di(e){return xr(e),_m(_s(Uint8Array.from(e).reverse()))}function Yf(e,t){return Fa(e.toString(16).padStart(t*2,"0"))}function Sm(e,t){return Yf(e,t).reverse()}function pt(e,t,n){let r;if(typeof t=="string")try{r=Fa(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(Ii(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function yp(e){return Uint8Array.from(e)}const Ru=e=>typeof e=="bigint"&&Gf<=e;function rx(e,t,n){return Ru(e)&&Ru(t)&&Ru(n)&&t<=e&&e<n}function Kl(e,t,n,r){if(!rx(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Em(e){let t;for(t=0;e>Gf;e>>=Hl,t+=1);return t}const Ti=e=>(Hl<<BigInt(e))-Hl;function sx(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=p=>new Uint8Array(p),s=p=>Uint8Array.of(p);let o=r(e),i=r(e),a=0;const c=()=>{o.fill(1),i.fill(0),a=0},l=(...p)=>n(i,o,...p),u=(p=r(0))=>{i=l(s(0),p),o=l(),p.length!==0&&(i=l(s(1),p),o=l())},h=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const v=[];for(;p<t;){o=l();const _=o.slice();v.push(_),p+=o.length}return Jn(...v)};return(p,v)=>{c(),u(p);let _;for(;!(_=v(h()));)u();return c(),_}}function Mi(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function r(s,o,i){const a=e[s];if(i&&a===void 0)return;const c=typeof a;if(c!==o||a===null)throw new Error(`param "${s}" is invalid: expected ${o}, got ${c}`)}Object.entries(t).forEach(([s,o])=>r(s,o,!1)),Object.entries(n).forEach(([s,o])=>r(s,o,!0))}function Wa(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}const mn=BigInt(0),Yt=BigInt(1),hs=BigInt(2),km=BigInt(3),Am=BigInt(4),xm=BigInt(5),ox=BigInt(7),Im=BigInt(8),ix=BigInt(9),Tm=BigInt(16);function Lt(e,t){const n=e%t;return n>=mn?n:t+n}function dt(e,t,n){let r=e;for(;t-- >mn;)r*=r,r%=n;return r}function mp(e,t){if(e===mn)throw new Error("invert: expected non-zero number");if(t<=mn)throw new Error("invert: expected positive modulus, got "+t);let n=Lt(e,t),r=t,s=mn,o=Yt;for(;n!==mn;){const a=r/n,c=r%n,l=s-o*a;r=n,n=c,s=o,o=l}if(r!==Yt)throw new Error("invert: does not exist");return Lt(s,t)}function Jf(e,t,n){if(!e.eql(e.sqr(t),n))throw new Error("Cannot find square root")}function Mm(e,t){const n=(e.ORDER+Yt)/Am,r=e.pow(t,n);return Jf(e,r,t),r}function ax(e,t){const n=(e.ORDER-xm)/Im,r=e.mul(t,hs),s=e.pow(r,n),o=e.mul(t,s),i=e.mul(e.mul(o,hs),s),a=e.mul(o,e.sub(i,e.ONE));return Jf(e,a,t),a}function cx(e){const t=Rs(e),n=Rm(e),r=n(t,t.neg(t.ONE)),s=n(t,r),o=n(t,t.neg(r)),i=(e+ox)/Tm;return(a,c)=>{let l=a.pow(c,i),u=a.mul(l,r);const h=a.mul(l,s),g=a.mul(l,o),p=a.eql(a.sqr(u),c),v=a.eql(a.sqr(h),c);l=a.cmov(l,u,p),u=a.cmov(g,h,v);const _=a.eql(a.sqr(u),c),x=a.cmov(l,u,_);return Jf(a,x,c),x}}function Rm(e){if(e<km)throw new Error("sqrt is not defined for small field");let t=e-Yt,n=0;for(;t%hs===mn;)t/=hs,n++;let r=hs;const s=Rs(e);for(;wp(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Mm;let o=s.pow(r,t);const i=(t+Yt)/hs;return function(c,l){if(c.is0(l))return l;if(wp(c,l)!==1)throw new Error("Cannot find square root");let u=n,h=c.mul(c.ONE,o),g=c.pow(l,t),p=c.pow(l,i);for(;!c.eql(g,c.ONE);){if(c.is0(g))return c.ZERO;let v=1,_=c.sqr(g);for(;!c.eql(_,c.ONE);)if(v++,_=c.sqr(_),v===u)throw new Error("Cannot find square root");const x=Yt<<BigInt(u-v-1),R=c.pow(h,x);u=v,h=c.sqr(R),g=c.mul(g,h),p=c.mul(p,R)}return p}}function ux(e){return e%Am===km?Mm:e%Im===xm?ax:e%Tm===ix?cx(e):Rm(e)}const lx=(e,t)=>(Lt(e,t)&Yt)===Yt,fx=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function hx(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=fx.reduce((r,s)=>(r[s]="function",r),t);return Mi(e,n),e}function dx(e,t,n){if(n<mn)throw new Error("invalid exponent, negatives unsupported");if(n===mn)return e.ONE;if(n===Yt)return t;let r=e.ONE,s=t;for(;n>mn;)n&Yt&&(r=e.mul(r,s)),s=e.sqr(s),n>>=Yt;return r}function Cm(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((i,a,c)=>e.is0(a)?i:(r[c]=i,e.mul(i,a)),e.ONE),o=e.inv(s);return t.reduceRight((i,a,c)=>e.is0(a)?i:(r[c]=e.mul(i,r[c]),e.mul(i,a)),o),r}function wp(e,t){const n=(e.ORDER-Yt)/hs,r=e.pow(t,n),s=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),i=e.eql(r,e.neg(e.ONE));if(!s&&!o&&!i)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function Nm(e,t){t!==void 0&&hi(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Rs(e,t,n=!1,r={}){if(e<=mn)throw new Error("invalid field: expected ORDER > 0, got "+e);let s,o,i=!1,a;if(typeof t=="object"&&t!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const g=t;g.BITS&&(s=g.BITS),g.sqrt&&(o=g.sqrt),typeof g.isLE=="boolean"&&(n=g.isLE),typeof g.modFromBytes=="boolean"&&(i=g.modFromBytes),a=g.allowedLengths}else typeof t=="number"&&(s=t),r.sqrt&&(o=r.sqrt);const{nBitLength:c,nByteLength:l}=Nm(e,s);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const h=Object.freeze({ORDER:e,isLE:n,BITS:c,BYTES:l,MASK:Ti(c),ZERO:mn,ONE:Yt,allowedLengths:a,create:g=>Lt(g,e),isValid:g=>{if(typeof g!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof g);return mn<=g&&g<e},is0:g=>g===mn,isValidNot0:g=>!h.is0(g)&&h.isValid(g),isOdd:g=>(g&Yt)===Yt,neg:g=>Lt(-g,e),eql:(g,p)=>g===p,sqr:g=>Lt(g*g,e),add:(g,p)=>Lt(g+p,e),sub:(g,p)=>Lt(g-p,e),mul:(g,p)=>Lt(g*p,e),pow:(g,p)=>dx(h,g,p),div:(g,p)=>Lt(g*mp(p,e),e),sqrN:g=>g*g,addN:(g,p)=>g+p,subN:(g,p)=>g-p,mulN:(g,p)=>g*p,inv:g=>mp(g,e),sqrt:o||(g=>(u||(u=ux(e)),u(h,g))),toBytes:g=>n?Sm(g,l):Yf(g,l),fromBytes:(g,p=!0)=>{if(a){if(!a.includes(g.length)||g.length>l)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+g.length);const _=new Uint8Array(l);_.set(g,n?0:_.length-g.length),g=_}if(g.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+g.length);let v=n?di(g):Sc(g);if(i&&(v=Lt(v,e)),!p&&!h.isValid(v))throw new Error("invalid field element: outside of range 0..ORDER");return v},invertBatch:g=>Cm(h,g),cmov:(g,p,v)=>v?p:g});return Object.freeze(h)}function Om(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Bm(e){const t=Om(e);return t+Math.ceil(t/2)}function px(e,t,n=!1){const r=e.length,s=Om(t),o=Bm(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const i=n?di(e):Sc(e),a=Lt(i,t-Yt)+Yt;return n?Sm(a,s):Yf(a,s)}const bo=BigInt(0),ds=BigInt(1);function Ha(e,t){const n=t.negate();return e?n:t}function ps(e,t){const n=Cm(e.Fp,t.map(r=>r.Z));return t.map((r,s)=>e.fromAffine(r.toAffine(n[s])))}function Pm(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Cu(e,t){Pm(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,o=Ti(e),i=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:s,shiftBy:i}}function bp(e,t,n){const{windowSize:r,mask:s,maxNumber:o,shiftBy:i}=n;let a=Number(e&s),c=e>>i;a>r&&(a-=o,c+=ds);const l=t*r,u=l+Math.abs(a)-1,h=a===0,g=a<0,p=t%2!==0;return{nextN:c,offset:u,isZero:h,isNeg:g,isNegF:p,offsetF:l}}function gx(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function yx(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const Nu=new WeakMap,Lm=new WeakMap;function Ou(e){return Lm.get(e)||1}function vp(e){if(e!==bo)throw new Error("invalid wNAF")}class Dm{constructor(t,n){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=n}_unsafeLadder(t,n,r=this.ZERO){let s=t;for(;n>bo;)n&ds&&(r=r.add(s)),s=s.double(),n>>=ds;return r}precomputeWindow(t,n){const{windows:r,windowSize:s}=Cu(n,this.bits),o=[];let i=t,a=i;for(let c=0;c<r;c++){a=i,o.push(a);for(let l=1;l<s;l++)a=a.add(i),o.push(a);i=a.double()}return o}wNAF(t,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let s=this.ZERO,o=this.BASE;const i=Cu(t,this.bits);for(let a=0;a<i.windows;a++){const{nextN:c,offset:l,isZero:u,isNeg:h,isNegF:g,offsetF:p}=bp(r,a,i);r=c,u?o=o.add(Ha(g,n[p])):s=s.add(Ha(h,n[l]))}return vp(r),{p:s,f:o}}wNAFUnsafe(t,n,r,s=this.ZERO){const o=Cu(t,this.bits);for(let i=0;i<o.windows&&r!==bo;i++){const{nextN:a,offset:c,isZero:l,isNeg:u}=bp(r,i,o);if(r=a,!l){const h=n[c];s=s.add(u?h.negate():h)}}return vp(r),s}getPrecomputes(t,n,r){let s=Nu.get(n);return s||(s=this.precomputeWindow(n,t),t!==1&&(typeof r=="function"&&(s=r(s)),Nu.set(n,s))),s}cached(t,n,r){const s=Ou(t);return this.wNAF(s,this.getPrecomputes(s,t,r),n)}unsafe(t,n,r,s){const o=Ou(t);return o===1?this._unsafeLadder(t,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,t,r),n,s)}createCache(t,n){Pm(n,this.bits),Lm.set(t,n),Nu.delete(t)}hasCache(t){return Ou(t)!==1}}function mx(e,t,n,r){let s=t,o=e.ZERO,i=e.ZERO;for(;n>bo||r>bo;)n&ds&&(o=o.add(s)),r&ds&&(i=i.add(s)),s=s.double(),n>>=ds,r>>=ds;return{p1:o,p2:i}}function zm(e,t,n,r){gx(n,e),yx(r,t);const s=n.length,o=r.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,a=Em(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=Ti(c),u=new Array(Number(l)+1).fill(i),h=Math.floor((t.BITS-1)/c)*c;let g=i;for(let p=h;p>=0;p-=c){u.fill(i);for(let _=0;_<o;_++){const x=r[_],R=Number(x>>BigInt(p)&l);u[R]=u[R].add(n[_])}let v=i;for(let _=u.length-1,x=i;_>0;_--)x=x.add(u[_]),v=v.add(x);if(g=g.add(v),p!==0)for(let _=0;_<c;_++)g=g.double()}return g}function _p(e,t,n){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return hx(t),t}else return Rs(e,{isLE:n})}function Um(e,t,n={},r){if(r===void 0&&(r=e==="edwards"),!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const c of["p","n","h"]){const l=t[c];if(!(typeof l=="bigint"&&l>bo))throw new Error(`CURVE.${c} must be positive bigint`)}const s=_p(t.p,n.Fp,r),o=_p(t.n,n.Fn,r),a=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(const c of a)if(!s.isValid(t[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return t=Object.freeze(Object.assign({},t)),{CURVE:t,Fp:s,Fn:o}}const Pr=BigInt(0),Ft=BigInt(1),Bu=BigInt(2),wx=BigInt(8);function bx(e,t,n,r){const s=e.sqr(n),o=e.sqr(r),i=e.add(e.mul(t.a,s),o),a=e.add(e.ONE,e.mul(t.d,e.mul(s,o)));return e.eql(i,a)}function vx(e,t={}){const n=Um("edwards",e,t,t.FpFnLE),{Fp:r,Fn:s}=n;let o=n.CURVE;const{h:i}=o;Mi(t,{},{uvRatio:"function"});const a=Bu<<BigInt(s.BYTES*8)-Ft,c=x=>r.create(x),l=t.uvRatio||((x,R)=>{try{return{isValid:!0,value:r.sqrt(r.div(x,R))}}catch{return{isValid:!1,value:Pr}}});if(!bx(r,o,o.Gx,o.Gy))throw new Error("bad curve params: generator point");function u(x,R,N=!1){const k=N?Ft:Pr;return Kl("coordinate "+x,R,k,a),R}function h(x){if(!(x instanceof v))throw new Error("ExtendedPoint expected")}const g=Wa((x,R)=>{const{X:N,Y:k,Z:B}=x,F=x.is0();R==null&&(R=F?wx:r.inv(B));const Z=c(N*R),te=c(k*R),oe=r.mul(B,R);if(F)return{x:Pr,y:Ft};if(oe!==Ft)throw new Error("invZ was invalid");return{x:Z,y:te}}),p=Wa(x=>{const{a:R,d:N}=o;if(x.is0())throw new Error("bad point: ZERO");const{X:k,Y:B,Z:F,T:Z}=x,te=c(k*k),oe=c(B*B),P=c(F*F),D=c(P*P),V=c(te*R),j=c(P*c(V+oe)),E=c(D+c(N*c(te*oe)));if(j!==E)throw new Error("bad point: equation left != right (1)");const f=c(k*B),w=c(F*Z);if(f!==w)throw new Error("bad point: equation left != right (2)");return!0});class v{constructor(R,N,k,B){this.X=u("x",R),this.Y=u("y",N),this.Z=u("z",k,!0),this.T=u("t",B),Object.freeze(this)}static CURVE(){return o}static fromAffine(R){if(R instanceof v)throw new Error("extended point not allowed");const{x:N,y:k}=R||{};return u("x",N),u("y",k),new v(N,k,Ft,c(N*k))}static fromBytes(R,N=!1){const k=r.BYTES,{a:B,d:F}=o;R=yp(Pn(R,k,"point")),As(N,"zip215");const Z=yp(R),te=R[k-1];Z[k-1]=te&-129;const oe=di(Z),P=N?a:r.ORDER;Kl("point.y",oe,Pr,P);const D=c(oe*oe),V=c(D-Ft),j=c(F*D-B);let{isValid:E,value:f}=l(V,j);if(!E)throw new Error("bad point: invalid y coordinate");const w=(f&Ft)===Ft,S=(te&128)!==0;if(!N&&f===Pr&&S)throw new Error("bad point: x=0 and x_0=1");return S!==w&&(f=c(-f)),v.fromAffine({x:f,y:oe})}static fromHex(R,N=!1){return v.fromBytes(pt("point",R),N)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(R=8,N=!0){return _.createCache(this,R),N||this.multiply(Bu),this}assertValidity(){p(this)}equals(R){h(R);const{X:N,Y:k,Z:B}=this,{X:F,Y:Z,Z:te}=R,oe=c(N*te),P=c(F*B),D=c(k*te),V=c(Z*B);return oe===P&&D===V}is0(){return this.equals(v.ZERO)}negate(){return new v(c(-this.X),this.Y,this.Z,c(-this.T))}double(){const{a:R}=o,{X:N,Y:k,Z:B}=this,F=c(N*N),Z=c(k*k),te=c(Bu*c(B*B)),oe=c(R*F),P=N+k,D=c(c(P*P)-F-Z),V=oe+Z,j=V-te,E=oe-Z,f=c(D*j),w=c(V*E),S=c(D*E),I=c(j*V);return new v(f,w,I,S)}add(R){h(R);const{a:N,d:k}=o,{X:B,Y:F,Z,T:te}=this,{X:oe,Y:P,Z:D,T:V}=R,j=c(B*oe),E=c(F*P),f=c(te*k*V),w=c(Z*D),S=c((B+F)*(oe+P)-j-E),I=w-f,M=w+f,U=c(E-N*j),K=c(S*I),C=c(M*U),d=c(S*U),y=c(I*M);return new v(K,C,y,d)}subtract(R){return this.add(R.negate())}multiply(R){if(!s.isValidNot0(R))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:N,f:k}=_.cached(this,R,B=>ps(v,B));return ps(v,[N,k])[0]}multiplyUnsafe(R,N=v.ZERO){if(!s.isValid(R))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return R===Pr?v.ZERO:this.is0()||R===Ft?this:_.unsafe(this,R,k=>ps(v,k),N)}isSmallOrder(){return this.multiplyUnsafe(i).is0()}isTorsionFree(){return _.unsafe(this,o.n).is0()}toAffine(R){return g(this,R)}clearCofactor(){return i===Ft?this:this.multiplyUnsafe(i)}toBytes(){const{x:R,y:N}=this.toAffine(),k=r.toBytes(N);return k[k.length-1]|=R&Ft?128:0,k}toHex(){return _s(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(R){return ps(v,R)}static msm(R,N){return zm(v,s,R,N)}_setWindowSize(R){this.precompute(R)}toRawBytes(){return this.toBytes()}}v.BASE=new v(o.Gx,o.Gy,Ft,c(o.Gx*o.Gy)),v.ZERO=new v(Pr,Ft,Ft,Pr),v.Fp=r,v.Fn=s;const _=new Dm(v,s.BITS);return v.BASE.precompute(8),v}function _x(e,t,n={}){if(typeof t!="function")throw new Error('"hash" function param is required');Mi(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:s,Fp:o,Fn:i}=e,a=n.randomBytes||Zf,c=n.adjustScalarBytes||(P=>P),l=n.domain||((P,D,V)=>{if(As(V,"phflag"),D.length||V)throw new Error("Contexts/pre-hash are not supported");return P});function u(P){return i.create(di(P))}function h(P){const D=k.secretKey;P=pt("private key",P,D);const V=pt("hashed private key",t(P),2*D),j=c(V.slice(0,D)),E=V.slice(D,2*D),f=u(j);return{head:j,prefix:E,scalar:f}}function g(P){const{head:D,prefix:V,scalar:j}=h(P),E=s.multiply(j),f=E.toBytes();return{head:D,prefix:V,scalar:j,point:E,pointBytes:f}}function p(P){return g(P).pointBytes}function v(P=Uint8Array.of(),...D){const V=Jn(...D);return u(t(l(V,pt("context",P),!!r)))}function _(P,D,V={}){P=pt("message",P),r&&(P=r(P));const{prefix:j,scalar:E,pointBytes:f}=g(D),w=v(V.context,j,P),S=s.multiply(w).toBytes(),I=v(V.context,S,f,P),M=i.create(w+I*E);if(!i.isValid(M))throw new Error("sign failed: invalid s");const U=Jn(S,i.toBytes(M));return Pn(U,k.signature,"result")}const x={zip215:!0};function R(P,D,V,j=x){const{context:E,zip215:f}=j,w=k.signature;P=pt("signature",P,w),D=pt("message",D),V=pt("publicKey",V,k.publicKey),f!==void 0&&As(f,"zip215"),r&&(D=r(D));const S=w/2,I=P.subarray(0,S),M=di(P.subarray(S,w));let U,K,C;try{U=e.fromBytes(V,f),K=e.fromBytes(I,f),C=s.multiplyUnsafe(M)}catch{return!1}if(!f&&U.isSmallOrder())return!1;const d=v(E,K.toBytes(),U.toBytes(),D);return K.add(U.multiplyUnsafe(d)).subtract(C).clearCofactor().is0()}const N=o.BYTES,k={secretKey:N,publicKey:N,signature:2*N,seed:N};function B(P=a(k.seed)){return Pn(P,k.seed,"seed")}function F(P){const D=oe.randomSecretKey(P);return{secretKey:D,publicKey:p(D)}}function Z(P){return Ii(P)&&P.length===i.BYTES}function te(P,D){try{return!!e.fromBytes(P,D)}catch{return!1}}const oe={getExtendedPublicKey:g,randomSecretKey:B,isValidSecretKey:Z,isValidPublicKey:te,toMontgomery(P){const{y:D}=e.fromBytes(P),V=k.publicKey,j=V===32;if(!j&&V!==57)throw new Error("only defined for 25519 and 448");const E=j?o.div(Ft+D,Ft-D):o.div(D-Ft,D+Ft);return o.toBytes(E)},toMontgomerySecret(P){const D=k.secretKey;Pn(P,D);const V=t(P.subarray(0,D));return c(V).subarray(0,D)},randomPrivateKey:B,precompute(P=8,D=e.BASE){return D.precompute(P,!1)}};return Object.freeze({keygen:F,getPublicKey:p,sign:_,verify:R,utils:oe,Point:e,lengths:k})}function Sx(e){const t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp,r=Rs(t.n,e.nBitLength,!0),s={Fp:n,Fn:r,uvRatio:e.uvRatio},o={randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve};return{CURVE:t,curveOpts:s,hash:e.hash,eddsaOpts:o}}function Ex(e,t){const n=t.Point;return Object.assign({},t,{ExtendedPoint:n,CURVE:e,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function kx(e){const{CURVE:t,curveOpts:n,hash:r,eddsaOpts:s}=Sx(e),o=vx(t,n),i=_x(o,r,s);return Ex(e,i)}const Ax=BigInt(1),Sp=BigInt(2);BigInt(3);const xx=BigInt(5),Ix=BigInt(8),Qf=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),jm={p:Qf,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Ix,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Tx(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),o=Qf,a=e*e%o*e%o,c=dt(a,Sp,o)*a%o,l=dt(c,Ax,o)*e%o,u=dt(l,xx,o)*l%o,h=dt(u,t,o)*u%o,g=dt(h,n,o)*h%o,p=dt(g,r,o)*g%o,v=dt(p,s,o)*p%o,_=dt(v,s,o)*p%o,x=dt(_,t,o)*u%o;return{pow_p_5_8:dt(x,Sp,o)*e%o,b2:a}}function Mx(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const Ep=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function Rx(e,t){const n=Qf,r=Lt(t*t*t,n),s=Lt(r*r*t,n),o=Tx(e*s).pow_p_5_8;let i=Lt(e*r*o,n);const a=Lt(t*i*i,n),c=i,l=Lt(i*Ep,n),u=a===e,h=a===Lt(-e,n),g=a===Lt(-e*Ep,n);return u&&(i=c),(h||g)&&(i=l),lx(i,n)&&(i=Lt(-i,n)),{isValid:u||h,value:i}}const Cx=Rs(jm.p,{isLE:!0}),Nx={...jm,Fp:Cx,hash:nx,adjustScalarBytes:Mx,uvRatio:Rx},Io=kx(Nx);var ya={exports:{}};const Ox={},Bx=Object.freeze(Object.defineProperty({__proto__:null,default:Ox},Symbol.toStringTag,{value:"Module"})),Px=Hf(Bx);var Lx=ya.exports,kp;function $m(){return kp||(kp=1,(function(e){(function(t,n){function r(E,f){if(!E)throw new Error(f||"Assertion failed")}function s(E,f){E.super_=f;var w=function(){};w.prototype=f.prototype,E.prototype=new w,E.prototype.constructor=E}function o(E,f,w){if(o.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((f==="le"||f==="be")&&(w=f,f=10),this._init(E||0,f||10,w||"be"))}typeof t=="object"?t.exports=o:n.BN=o,o.BN=o,o.wordSize=26;var i;try{typeof window<"u"&&typeof window.Buffer<"u"?i=window.Buffer:i=Px.Buffer}catch{}o.isBN=function(f){return f instanceof o?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===o.wordSize&&Array.isArray(f.words)},o.max=function(f,w){return f.cmp(w)>0?f:w},o.min=function(f,w){return f.cmp(w)<0?f:w},o.prototype._init=function(f,w,S){if(typeof f=="number")return this._initNumber(f,w,S);if(typeof f=="object")return this._initArray(f,w,S);w==="hex"&&(w=16),r(w===(w|0)&&w>=2&&w<=36),f=f.toString().replace(/\s+/g,"");var I=0;f[0]==="-"&&(I++,this.negative=1),I<f.length&&(w===16?this._parseHex(f,I,S):(this._parseBase(f,w,I),S==="le"&&this._initArray(this.toArray(),w,S)))},o.prototype._initNumber=function(f,w,S){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),w,S)},o.prototype._initArray=function(f,w,S){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var M,U,K=0;if(S==="be")for(I=f.length-1,M=0;I>=0;I-=3)U=f[I]|f[I-1]<<8|f[I-2]<<16,this.words[M]|=U<<K&67108863,this.words[M+1]=U>>>26-K&67108863,K+=24,K>=26&&(K-=26,M++);else if(S==="le")for(I=0,M=0;I<f.length;I+=3)U=f[I]|f[I+1]<<8|f[I+2]<<16,this.words[M]|=U<<K&67108863,this.words[M+1]=U>>>26-K&67108863,K+=24,K>=26&&(K-=26,M++);return this._strip()};function a(E,f){var w=E.charCodeAt(f);if(w>=48&&w<=57)return w-48;if(w>=65&&w<=70)return w-55;if(w>=97&&w<=102)return w-87;r(!1,"Invalid character in "+E)}function c(E,f,w){var S=a(E,w);return w-1>=f&&(S|=a(E,w-1)<<4),S}o.prototype._parseHex=function(f,w,S){this.length=Math.ceil((f.length-w)/6),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var M=0,U=0,K;if(S==="be")for(I=f.length-1;I>=w;I-=2)K=c(f,w,I)<<M,this.words[U]|=K&67108863,M>=18?(M-=18,U+=1,this.words[U]|=K>>>26):M+=8;else{var C=f.length-w;for(I=C%2===0?w+1:w;I<f.length;I+=2)K=c(f,w,I)<<M,this.words[U]|=K&67108863,M>=18?(M-=18,U+=1,this.words[U]|=K>>>26):M+=8}this._strip()};function l(E,f,w,S){for(var I=0,M=0,U=Math.min(E.length,w),K=f;K<U;K++){var C=E.charCodeAt(K)-48;I*=S,C>=49?M=C-49+10:C>=17?M=C-17+10:M=C,r(C>=0&&M<S,"Invalid character"),I+=M}return I}o.prototype._parseBase=function(f,w,S){this.words=[0],this.length=1;for(var I=0,M=1;M<=67108863;M*=w)I++;I--,M=M/w|0;for(var U=f.length-S,K=U%I,C=Math.min(U,U-K)+S,d=0,y=S;y<C;y+=I)d=l(f,y,y+I,w),this.imuln(M),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(K!==0){var T=1;for(d=l(f,y,f.length,w),y=0;y<K;y++)T*=w;this.imuln(T),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this._strip()},o.prototype.copy=function(f){f.words=new Array(this.length);for(var w=0;w<this.length;w++)f.words[w]=this.words[w];f.length=this.length,f.negative=this.negative,f.red=this.red};function u(E,f){E.words=f.words,E.length=f.length,E.negative=f.negative,E.red=f.red}if(o.prototype._move=function(f){u(f,this)},o.prototype.clone=function(){var f=new o(null);return this.copy(f),f},o.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{o.prototype.inspect=h}else o.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(f,w){f=f||10,w=w|0||1;var S;if(f===16||f==="hex"){S="";for(var I=0,M=0,U=0;U<this.length;U++){var K=this.words[U],C=((K<<I|M)&16777215).toString(16);M=K>>>24-I&16777215,I+=2,I>=26&&(I-=26,U--),M!==0||U!==this.length-1?S=g[6-C.length]+C+S:S=C+S}for(M!==0&&(S=M.toString(16)+S);S.length%w!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(f===(f|0)&&f>=2&&f<=36){var d=p[f],y=v[f];S="";var T=this.clone();for(T.negative=0;!T.isZero();){var L=T.modrn(y).toString(f);T=T.idivn(y),T.isZero()?S=L+S:S=g[d-L.length]+L+S}for(this.isZero()&&(S="0"+S);S.length%w!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},o.prototype.toJSON=function(){return this.toString(16,2)},i&&(o.prototype.toBuffer=function(f,w){return this.toArrayLike(i,f,w)}),o.prototype.toArray=function(f,w){return this.toArrayLike(Array,f,w)};var _=function(f,w){return f.allocUnsafe?f.allocUnsafe(w):new f(w)};o.prototype.toArrayLike=function(f,w,S){this._strip();var I=this.byteLength(),M=S||Math.max(1,I);r(I<=M,"byte array longer than desired length"),r(M>0,"Requested array length <= 0");var U=_(f,M),K=w==="le"?"LE":"BE";return this["_toArrayLike"+K](U,I),U},o.prototype._toArrayLikeLE=function(f,w){for(var S=0,I=0,M=0,U=0;M<this.length;M++){var K=this.words[M]<<U|I;f[S++]=K&255,S<f.length&&(f[S++]=K>>8&255),S<f.length&&(f[S++]=K>>16&255),U===6?(S<f.length&&(f[S++]=K>>24&255),I=0,U=0):(I=K>>>24,U+=2)}if(S<f.length)for(f[S++]=I;S<f.length;)f[S++]=0},o.prototype._toArrayLikeBE=function(f,w){for(var S=f.length-1,I=0,M=0,U=0;M<this.length;M++){var K=this.words[M]<<U|I;f[S--]=K&255,S>=0&&(f[S--]=K>>8&255),S>=0&&(f[S--]=K>>16&255),U===6?(S>=0&&(f[S--]=K>>24&255),I=0,U=0):(I=K>>>24,U+=2)}if(S>=0)for(f[S--]=I;S>=0;)f[S--]=0},Math.clz32?o.prototype._countBits=function(f){return 32-Math.clz32(f)}:o.prototype._countBits=function(f){var w=f,S=0;return w>=4096&&(S+=13,w>>>=13),w>=64&&(S+=7,w>>>=7),w>=8&&(S+=4,w>>>=4),w>=2&&(S+=2,w>>>=2),S+w},o.prototype._zeroBits=function(f){if(f===0)return 26;var w=f,S=0;return(w&8191)===0&&(S+=13,w>>>=13),(w&127)===0&&(S+=7,w>>>=7),(w&15)===0&&(S+=4,w>>>=4),(w&3)===0&&(S+=2,w>>>=2),(w&1)===0&&S++,S},o.prototype.bitLength=function(){var f=this.words[this.length-1],w=this._countBits(f);return(this.length-1)*26+w};function x(E){for(var f=new Array(E.bitLength()),w=0;w<f.length;w++){var S=w/26|0,I=w%26;f[w]=E.words[S]>>>I&1}return f}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,w=0;w<this.length;w++){var S=this._zeroBits(this.words[w]);if(f+=S,S!==26)break}return f},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},o.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var w=0;w<f.length;w++)this.words[w]=this.words[w]|f.words[w];return this._strip()},o.prototype.ior=function(f){return r((this.negative|f.negative)===0),this.iuor(f)},o.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},o.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},o.prototype.iuand=function(f){var w;this.length>f.length?w=f:w=this;for(var S=0;S<w.length;S++)this.words[S]=this.words[S]&f.words[S];return this.length=w.length,this._strip()},o.prototype.iand=function(f){return r((this.negative|f.negative)===0),this.iuand(f)},o.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},o.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},o.prototype.iuxor=function(f){var w,S;this.length>f.length?(w=this,S=f):(w=f,S=this);for(var I=0;I<S.length;I++)this.words[I]=w.words[I]^S.words[I];if(this!==w)for(;I<w.length;I++)this.words[I]=w.words[I];return this.length=w.length,this._strip()},o.prototype.ixor=function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},o.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},o.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},o.prototype.inotn=function(f){r(typeof f=="number"&&f>=0);var w=Math.ceil(f/26)|0,S=f%26;this._expand(w),S>0&&w--;for(var I=0;I<w;I++)this.words[I]=~this.words[I]&67108863;return S>0&&(this.words[I]=~this.words[I]&67108863>>26-S),this._strip()},o.prototype.notn=function(f){return this.clone().inotn(f)},o.prototype.setn=function(f,w){r(typeof f=="number"&&f>=0);var S=f/26|0,I=f%26;return this._expand(S+1),w?this.words[S]=this.words[S]|1<<I:this.words[S]=this.words[S]&~(1<<I),this._strip()},o.prototype.iadd=function(f){var w;if(this.negative!==0&&f.negative===0)return this.negative=0,w=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,w=this.isub(f),f.negative=1,w._normSign();var S,I;this.length>f.length?(S=this,I=f):(S=f,I=this);for(var M=0,U=0;U<I.length;U++)w=(S.words[U]|0)+(I.words[U]|0)+M,this.words[U]=w&67108863,M=w>>>26;for(;M!==0&&U<S.length;U++)w=(S.words[U]|0)+M,this.words[U]=w&67108863,M=w>>>26;if(this.length=S.length,M!==0)this.words[this.length]=M,this.length++;else if(S!==this)for(;U<S.length;U++)this.words[U]=S.words[U];return this},o.prototype.add=function(f){var w;return f.negative!==0&&this.negative===0?(f.negative=0,w=this.sub(f),f.negative^=1,w):f.negative===0&&this.negative!==0?(this.negative=0,w=f.sub(this),this.negative=1,w):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},o.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var w=this.iadd(f);return f.negative=1,w._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var S=this.cmp(f);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;var I,M;S>0?(I=this,M=f):(I=f,M=this);for(var U=0,K=0;K<M.length;K++)w=(I.words[K]|0)-(M.words[K]|0)+U,U=w>>26,this.words[K]=w&67108863;for(;U!==0&&K<I.length;K++)w=(I.words[K]|0)+U,U=w>>26,this.words[K]=w&67108863;if(U===0&&K<I.length&&I!==this)for(;K<I.length;K++)this.words[K]=I.words[K];return this.length=Math.max(this.length,K),I!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(f){return this.clone().isub(f)};function R(E,f,w){w.negative=f.negative^E.negative;var S=E.length+f.length|0;w.length=S,S=S-1|0;var I=E.words[0]|0,M=f.words[0]|0,U=I*M,K=U&67108863,C=U/67108864|0;w.words[0]=K;for(var d=1;d<S;d++){for(var y=C>>>26,T=C&67108863,L=Math.min(d,f.length-1),G=Math.max(0,d-E.length+1);G<=L;G++){var H=d-G|0;I=E.words[H]|0,M=f.words[G]|0,U=I*M+T,y+=U/67108864|0,T=U&67108863}w.words[d]=T|0,C=y|0}return C!==0?w.words[d]=C|0:w.length--,w._strip()}var N=function(f,w,S){var I=f.words,M=w.words,U=S.words,K=0,C,d,y,T=I[0]|0,L=T&8191,G=T>>>13,H=I[1]|0,ne=H&8191,re=H>>>13,pe=I[2]|0,Ee=pe&8191,Re=pe>>>13,z=I[3]|0,$=z&8191,J=z>>>13,le=I[4]|0,se=le&8191,ie=le>>>13,we=I[5]|0,fe=we&8191,ue=we>>>13,ce=I[6]|0,be=ce&8191,de=ce>>>13,ke=I[7]|0,Ae=ke&8191,A=ke>>>13,m=I[8]|0,b=m&8191,O=m>>>13,q=I[9]|0,Y=q&8191,ee=q>>>13,Pe=M[0]|0,Le=Pe&8191,xe=Pe>>>13,je=M[1]|0,Ce=je&8191,ot=je>>>13,Rh=M[2]|0,vt=Rh&8191,_t=Rh>>>13,Ch=M[3]|0,St=Ch&8191,Et=Ch>>>13,Nh=M[4]|0,kt=Nh&8191,At=Nh>>>13,Oh=M[5]|0,xt=Oh&8191,It=Oh>>>13,Bh=M[6]|0,Tt=Bh&8191,Mt=Bh>>>13,Ph=M[7]|0,Rt=Ph&8191,Ct=Ph>>>13,Lh=M[8]|0,Nt=Lh&8191,Ot=Lh>>>13,Dh=M[9]|0,Bt=Dh&8191,Pt=Dh>>>13;S.negative=f.negative^w.negative,S.length=19,C=Math.imul(L,Le),d=Math.imul(L,xe),d=d+Math.imul(G,Le)|0,y=Math.imul(G,xe);var Uc=(K+C|0)+((d&8191)<<13)|0;K=(y+(d>>>13)|0)+(Uc>>>26)|0,Uc&=67108863,C=Math.imul(ne,Le),d=Math.imul(ne,xe),d=d+Math.imul(re,Le)|0,y=Math.imul(re,xe),C=C+Math.imul(L,Ce)|0,d=d+Math.imul(L,ot)|0,d=d+Math.imul(G,Ce)|0,y=y+Math.imul(G,ot)|0;var jc=(K+C|0)+((d&8191)<<13)|0;K=(y+(d>>>13)|0)+(jc>>>26)|0,jc&=67108863,C=Math.imul(Ee,Le),d=Math.imul(Ee,xe),d=d+Math.imul(Re,Le)|0,y=Math.imul(Re,xe),C=C+Math.imul(ne,Ce)|0,d=d+Math.imul(ne,ot)|0,d=d+Math.imul(re,Ce)|0,y=y+Math.imul(re,ot)|0,C=C+Math.imul(L,vt)|0,d=d+Math.imul(L,_t)|0,d=d+Math.imul(G,vt)|0,y=y+Math.imul(G,_t)|0;var $c=(K+C|0)+((d&8191)<<13)|0;K=(y+(d>>>13)|0)+($c>>>26)|0,$c&=67108863,C=Math.imul($,Le),d=Math.imul($,xe),d=d+Math.imul(J,Le)|0,y=Math.imul(J,xe),C=C+Math.imul(Ee,Ce)|0,d=d+Math.imul(Ee,ot)|0,d=d+Math.imul(Re,Ce)|0,y=y+Math.imul(Re,ot)|0,C=C+Math.imul(ne,vt)|0,d=d+Math.imul(ne,_t)|0,d=d+Math.imul(re,vt)|0,y=y+Math.imul(re,_t)|0,C=C+Math.imul(L,St)|0,d=d+Math.imul(L,Et)|0,d=d+Math.imul(G,St)|0,y=y+Math.imul(G,Et)|0;var Fc=(K+C|0)+((d&8191)<<13)|0;K=(y+(d>>>13)|0)+(Fc>>>26)|0,Fc&=67108863,C=Math.imul(se,Le),d=Math.imul(se,xe),d=d+Math.imul(ie,Le)|0,y=Math.imul(ie,xe),C=C+Math.imul($,Ce)|0,d=d+Math.imul($,ot)|0,d=d+Math.imul(J,Ce)|0,y=y+Math.imul(J,ot)|0,C=C+Math.imul(Ee,vt)|0,d=d+Math.imul(Ee,_t)|0,d=d+Math.imul(Re,vt)|0,y=y+Math.imul(Re,_t)|0,C=C+Math.imul(ne,St)|0,d=d+Math.imul(ne,Et)|0,d=d+Math.imul(re,St)|0,y=y+Math.imul(re,Et)|0,C=C+Math.imul(L,kt)|0,d=d+Math.imul(L,At)|0,d=d+Math.imul(G,kt)|0,y=y+Math.imul(G,At)|0;var Wc=(K+C|0)+((d&8191)<<13)|0;K=(y+(d>>>13)|0)+(Wc>>>26)|0,Wc&=67108863,C=Math.imul(fe,Le),d=Math.imul(fe,xe),d=d+Math.imul(ue,Le)|0,y=Math.imul(ue,xe),C=C+Math.imul(se,Ce)|0,d=d+Math.imul(se,ot)|0,d=d+Math.imul(ie,Ce)|0,y=y+Math.imul(ie,ot)|0,C=C+Math.imul($,vt)|0,d=d+Math.imul($,_t)|0,d=d+Math.imul(J,vt)|0,y=y+Math.imul(J,_t)|0,C=C+Math.imul(Ee,St)|0,d=d+Math.imul(Ee,Et)|0,d=d+Math.imul(Re,St)|0,y=y+Math.imul(Re,Et)|0,C=C+Math.imul(ne,kt)|0,d=d+Math.imul(ne,At)|0,d=d+Math.imul(re,kt)|0,y=y+Math.imul(re,At)|0,C=C+Math.imul(L,xt)|0,d=d+Math.imul(L,It)|0,d=d+Math.imul(G,xt)|0,y=y+Math.imul(G,It)|0;var Hc=(K+C|0)+((d&8191)<<13)|0;K=(y+(d>>>13)|0)+(Hc>>>26)|0,Hc&=67108863,C=Math.imul(be,Le),d=Math.imul(be,xe),d=d+Math.imul(de,Le)|0,y=Math.imul(de,xe),C=C+Math.imul(fe,Ce)|0,d=d+Math.imul(fe,ot)|0,d=d+Math.imul(ue,Ce)|0,y=y+Math.imul(ue,ot)|0,C=C+Math.imul(se,vt)|0,d=d+Math.imul(se,_t)|0,d=d+Math.imul(ie,vt)|0,y=y+Math.imul(ie,_t)|0,C=C+Math.imul($,St)|0,d=d+Math.imul($,Et)|0,d=d+Math.imul(J,St)|0,y=y+Math.imul(J,Et)|0,C=C+Math.imul(Ee,kt)|0,d=d+Math.imul(Ee,At)|0,d=d+Math.imul(Re,kt)|0,y=y+Math.imul(Re,At)|0,C=C+Math.imul(ne,xt)|0,d=d+Math.imul(ne,It)|0,d=d+Math.imul(re,xt)|0,y=y+Math.imul(re,It)|0,C=C+Math.imul(L,Tt)|0,d=d+Math.imul(L,Mt)|0,d=d+Math.imul(G,Tt)|0,y=y+Math.imul(G,Mt)|0;var Kc=(K+C|0)+((d&8191)<<13)|0;K=(y+(d>>>13)|0)+(Kc>>>26)|0,Kc&=67108863,C=Math.imul(Ae,Le),d=Math.imul(Ae,xe),d=d+Math.imul(A,Le)|0,y=Math.imul(A,xe),C=C+Math.imul(be,Ce)|0,d=d+Math.imul(be,ot)|0,d=d+Math.imul(de,Ce)|0,y=y+Math.imul(de,ot)|0,C=C+Math.imul(fe,vt)|0,d=d+Math.imul(fe,_t)|0,d=d+Math.imul(ue,vt)|0,y=y+Math.imul(ue,_t)|0,C=C+Math.imul(se,St)|0,d=d+Math.imul(se,Et)|0,d=d+Math.imul(ie,St)|0,y=y+Math.imul(ie,Et)|0,C=C+Math.imul($,kt)|0,d=d+Math.imul($,At)|0,d=d+Math.imul(J,kt)|0,y=y+Math.imul(J,At)|0,C=C+Math.imul(Ee,xt)|0,d=d+Math.imul(Ee,It)|0,d=d+Math.imul(Re,xt)|0,y=y+Math.imul(Re,It)|0,C=C+Math.imul(ne,Tt)|0,d=d+Math.imul(ne,Mt)|0,d=d+Math.imul(re,Tt)|0,y=y+Math.imul(re,Mt)|0,C=C+Math.imul(L,Rt)|0,d=d+Math.imul(L,Ct)|0,d=d+Math.imul(G,Rt)|0,y=y+Math.imul(G,Ct)|0;var Vc=(K+C|0)+((d&8191)<<13)|0;K=(y+(d>>>13)|0)+(Vc>>>26)|0,Vc&=67108863,C=Math.imul(b,Le),d=Math.imul(b,xe),d=d+Math.imul(O,Le)|0,y=Math.imul(O,xe),C=C+Math.imul(Ae,Ce)|0,d=d+Math.imul(Ae,ot)|0,d=d+Math.imul(A,Ce)|0,y=y+Math.imul(A,ot)|0,C=C+Math.imul(be,vt)|0,d=d+Math.imul(be,_t)|0,d=d+Math.imul(de,vt)|0,y=y+Math.imul(de,_t)|0,C=C+Math.imul(fe,St)|0,d=d+Math.imul(fe,Et)|0,d=d+Math.imul(ue,St)|0,y=y+Math.imul(ue,Et)|0,C=C+Math.imul(se,kt)|0,d=d+Math.imul(se,At)|0,d=d+Math.imul(ie,kt)|0,y=y+Math.imul(ie,At)|0,C=C+Math.imul($,xt)|0,d=d+Math.imul($,It)|0,d=d+Math.imul(J,xt)|0,y=y+Math.imul(J,It)|0,C=C+Math.imul(Ee,Tt)|0,d=d+Math.imul(Ee,Mt)|0,d=d+Math.imul(Re,Tt)|0,y=y+Math.imul(Re,Mt)|0,C=C+Math.imul(ne,Rt)|0,d=d+Math.imul(ne,Ct)|0,d=d+Math.imul(re,Rt)|0,y=y+Math.imul(re,Ct)|0,C=C+Math.imul(L,Nt)|0,d=d+Math.imul(L,Ot)|0,d=d+Math.imul(G,Nt)|0,y=y+Math.imul(G,Ot)|0;var qc=(K+C|0)+((d&8191)<<13)|0;K=(y+(d>>>13)|0)+(qc>>>26)|0,qc&=67108863,C=Math.imul(Y,Le),d=Math.imul(Y,xe),d=d+Math.imul(ee,Le)|0,y=Math.imul(ee,xe),C=C+Math.imul(b,Ce)|0,d=d+Math.imul(b,ot)|0,d=d+Math.imul(O,Ce)|0,y=y+Math.imul(O,ot)|0,C=C+Math.imul(Ae,vt)|0,d=d+Math.imul(Ae,_t)|0,d=d+Math.imul(A,vt)|0,y=y+Math.imul(A,_t)|0,C=C+Math.imul(be,St)|0,d=d+Math.imul(be,Et)|0,d=d+Math.imul(de,St)|0,y=y+Math.imul(de,Et)|0,C=C+Math.imul(fe,kt)|0,d=d+Math.imul(fe,At)|0,d=d+Math.imul(ue,kt)|0,y=y+Math.imul(ue,At)|0,C=C+Math.imul(se,xt)|0,d=d+Math.imul(se,It)|0,d=d+Math.imul(ie,xt)|0,y=y+Math.imul(ie,It)|0,C=C+Math.imul($,Tt)|0,d=d+Math.imul($,Mt)|0,d=d+Math.imul(J,Tt)|0,y=y+Math.imul(J,Mt)|0,C=C+Math.imul(Ee,Rt)|0,d=d+Math.imul(Ee,Ct)|0,d=d+Math.imul(Re,Rt)|0,y=y+Math.imul(Re,Ct)|0,C=C+Math.imul(ne,Nt)|0,d=d+Math.imul(ne,Ot)|0,d=d+Math.imul(re,Nt)|0,y=y+Math.imul(re,Ot)|0,C=C+Math.imul(L,Bt)|0,d=d+Math.imul(L,Pt)|0,d=d+Math.imul(G,Bt)|0,y=y+Math.imul(G,Pt)|0;var Zc=(K+C|0)+((d&8191)<<13)|0;K=(y+(d>>>13)|0)+(Zc>>>26)|0,Zc&=67108863,C=Math.imul(Y,Ce),d=Math.imul(Y,ot),d=d+Math.imul(ee,Ce)|0,y=Math.imul(ee,ot),C=C+Math.imul(b,vt)|0,d=d+Math.imul(b,_t)|0,d=d+Math.imul(O,vt)|0,y=y+Math.imul(O,_t)|0,C=C+Math.imul(Ae,St)|0,d=d+Math.imul(Ae,Et)|0,d=d+Math.imul(A,St)|0,y=y+Math.imul(A,Et)|0,C=C+Math.imul(be,kt)|0,d=d+Math.imul(be,At)|0,d=d+Math.imul(de,kt)|0,y=y+Math.imul(de,At)|0,C=C+Math.imul(fe,xt)|0,d=d+Math.imul(fe,It)|0,d=d+Math.imul(ue,xt)|0,y=y+Math.imul(ue,It)|0,C=C+Math.imul(se,Tt)|0,d=d+Math.imul(se,Mt)|0,d=d+Math.imul(ie,Tt)|0,y=y+Math.imul(ie,Mt)|0,C=C+Math.imul($,Rt)|0,d=d+Math.imul($,Ct)|0,d=d+Math.imul(J,Rt)|0,y=y+Math.imul(J,Ct)|0,C=C+Math.imul(Ee,Nt)|0,d=d+Math.imul(Ee,Ot)|0,d=d+Math.imul(Re,Nt)|0,y=y+Math.imul(Re,Ot)|0,C=C+Math.imul(ne,Bt)|0,d=d+Math.imul(ne,Pt)|0,d=d+Math.imul(re,Bt)|0,y=y+Math.imul(re,Pt)|0;var Gc=(K+C|0)+((d&8191)<<13)|0;K=(y+(d>>>13)|0)+(Gc>>>26)|0,Gc&=67108863,C=Math.imul(Y,vt),d=Math.imul(Y,_t),d=d+Math.imul(ee,vt)|0,y=Math.imul(ee,_t),C=C+Math.imul(b,St)|0,d=d+Math.imul(b,Et)|0,d=d+Math.imul(O,St)|0,y=y+Math.imul(O,Et)|0,C=C+Math.imul(Ae,kt)|0,d=d+Math.imul(Ae,At)|0,d=d+Math.imul(A,kt)|0,y=y+Math.imul(A,At)|0,C=C+Math.imul(be,xt)|0,d=d+Math.imul(be,It)|0,d=d+Math.imul(de,xt)|0,y=y+Math.imul(de,It)|0,C=C+Math.imul(fe,Tt)|0,d=d+Math.imul(fe,Mt)|0,d=d+Math.imul(ue,Tt)|0,y=y+Math.imul(ue,Mt)|0,C=C+Math.imul(se,Rt)|0,d=d+Math.imul(se,Ct)|0,d=d+Math.imul(ie,Rt)|0,y=y+Math.imul(ie,Ct)|0,C=C+Math.imul($,Nt)|0,d=d+Math.imul($,Ot)|0,d=d+Math.imul(J,Nt)|0,y=y+Math.imul(J,Ot)|0,C=C+Math.imul(Ee,Bt)|0,d=d+Math.imul(Ee,Pt)|0,d=d+Math.imul(Re,Bt)|0,y=y+Math.imul(Re,Pt)|0;var Yc=(K+C|0)+((d&8191)<<13)|0;K=(y+(d>>>13)|0)+(Yc>>>26)|0,Yc&=67108863,C=Math.imul(Y,St),d=Math.imul(Y,Et),d=d+Math.imul(ee,St)|0,y=Math.imul(ee,Et),C=C+Math.imul(b,kt)|0,d=d+Math.imul(b,At)|0,d=d+Math.imul(O,kt)|0,y=y+Math.imul(O,At)|0,C=C+Math.imul(Ae,xt)|0,d=d+Math.imul(Ae,It)|0,d=d+Math.imul(A,xt)|0,y=y+Math.imul(A,It)|0,C=C+Math.imul(be,Tt)|0,d=d+Math.imul(be,Mt)|0,d=d+Math.imul(de,Tt)|0,y=y+Math.imul(de,Mt)|0,C=C+Math.imul(fe,Rt)|0,d=d+Math.imul(fe,Ct)|0,d=d+Math.imul(ue,Rt)|0,y=y+Math.imul(ue,Ct)|0,C=C+Math.imul(se,Nt)|0,d=d+Math.imul(se,Ot)|0,d=d+Math.imul(ie,Nt)|0,y=y+Math.imul(ie,Ot)|0,C=C+Math.imul($,Bt)|0,d=d+Math.imul($,Pt)|0,d=d+Math.imul(J,Bt)|0,y=y+Math.imul(J,Pt)|0;var Jc=(K+C|0)+((d&8191)<<13)|0;K=(y+(d>>>13)|0)+(Jc>>>26)|0,Jc&=67108863,C=Math.imul(Y,kt),d=Math.imul(Y,At),d=d+Math.imul(ee,kt)|0,y=Math.imul(ee,At),C=C+Math.imul(b,xt)|0,d=d+Math.imul(b,It)|0,d=d+Math.imul(O,xt)|0,y=y+Math.imul(O,It)|0,C=C+Math.imul(Ae,Tt)|0,d=d+Math.imul(Ae,Mt)|0,d=d+Math.imul(A,Tt)|0,y=y+Math.imul(A,Mt)|0,C=C+Math.imul(be,Rt)|0,d=d+Math.imul(be,Ct)|0,d=d+Math.imul(de,Rt)|0,y=y+Math.imul(de,Ct)|0,C=C+Math.imul(fe,Nt)|0,d=d+Math.imul(fe,Ot)|0,d=d+Math.imul(ue,Nt)|0,y=y+Math.imul(ue,Ot)|0,C=C+Math.imul(se,Bt)|0,d=d+Math.imul(se,Pt)|0,d=d+Math.imul(ie,Bt)|0,y=y+Math.imul(ie,Pt)|0;var Qc=(K+C|0)+((d&8191)<<13)|0;K=(y+(d>>>13)|0)+(Qc>>>26)|0,Qc&=67108863,C=Math.imul(Y,xt),d=Math.imul(Y,It),d=d+Math.imul(ee,xt)|0,y=Math.imul(ee,It),C=C+Math.imul(b,Tt)|0,d=d+Math.imul(b,Mt)|0,d=d+Math.imul(O,Tt)|0,y=y+Math.imul(O,Mt)|0,C=C+Math.imul(Ae,Rt)|0,d=d+Math.imul(Ae,Ct)|0,d=d+Math.imul(A,Rt)|0,y=y+Math.imul(A,Ct)|0,C=C+Math.imul(be,Nt)|0,d=d+Math.imul(be,Ot)|0,d=d+Math.imul(de,Nt)|0,y=y+Math.imul(de,Ot)|0,C=C+Math.imul(fe,Bt)|0,d=d+Math.imul(fe,Pt)|0,d=d+Math.imul(ue,Bt)|0,y=y+Math.imul(ue,Pt)|0;var Xc=(K+C|0)+((d&8191)<<13)|0;K=(y+(d>>>13)|0)+(Xc>>>26)|0,Xc&=67108863,C=Math.imul(Y,Tt),d=Math.imul(Y,Mt),d=d+Math.imul(ee,Tt)|0,y=Math.imul(ee,Mt),C=C+Math.imul(b,Rt)|0,d=d+Math.imul(b,Ct)|0,d=d+Math.imul(O,Rt)|0,y=y+Math.imul(O,Ct)|0,C=C+Math.imul(Ae,Nt)|0,d=d+Math.imul(Ae,Ot)|0,d=d+Math.imul(A,Nt)|0,y=y+Math.imul(A,Ot)|0,C=C+Math.imul(be,Bt)|0,d=d+Math.imul(be,Pt)|0,d=d+Math.imul(de,Bt)|0,y=y+Math.imul(de,Pt)|0;var eu=(K+C|0)+((d&8191)<<13)|0;K=(y+(d>>>13)|0)+(eu>>>26)|0,eu&=67108863,C=Math.imul(Y,Rt),d=Math.imul(Y,Ct),d=d+Math.imul(ee,Rt)|0,y=Math.imul(ee,Ct),C=C+Math.imul(b,Nt)|0,d=d+Math.imul(b,Ot)|0,d=d+Math.imul(O,Nt)|0,y=y+Math.imul(O,Ot)|0,C=C+Math.imul(Ae,Bt)|0,d=d+Math.imul(Ae,Pt)|0,d=d+Math.imul(A,Bt)|0,y=y+Math.imul(A,Pt)|0;var tu=(K+C|0)+((d&8191)<<13)|0;K=(y+(d>>>13)|0)+(tu>>>26)|0,tu&=67108863,C=Math.imul(Y,Nt),d=Math.imul(Y,Ot),d=d+Math.imul(ee,Nt)|0,y=Math.imul(ee,Ot),C=C+Math.imul(b,Bt)|0,d=d+Math.imul(b,Pt)|0,d=d+Math.imul(O,Bt)|0,y=y+Math.imul(O,Pt)|0;var nu=(K+C|0)+((d&8191)<<13)|0;K=(y+(d>>>13)|0)+(nu>>>26)|0,nu&=67108863,C=Math.imul(Y,Bt),d=Math.imul(Y,Pt),d=d+Math.imul(ee,Bt)|0,y=Math.imul(ee,Pt);var ru=(K+C|0)+((d&8191)<<13)|0;return K=(y+(d>>>13)|0)+(ru>>>26)|0,ru&=67108863,U[0]=Uc,U[1]=jc,U[2]=$c,U[3]=Fc,U[4]=Wc,U[5]=Hc,U[6]=Kc,U[7]=Vc,U[8]=qc,U[9]=Zc,U[10]=Gc,U[11]=Yc,U[12]=Jc,U[13]=Qc,U[14]=Xc,U[15]=eu,U[16]=tu,U[17]=nu,U[18]=ru,K!==0&&(U[19]=K,S.length++),S};Math.imul||(N=R);function k(E,f,w){w.negative=f.negative^E.negative,w.length=E.length+f.length;for(var S=0,I=0,M=0;M<w.length-1;M++){var U=I;I=0;for(var K=S&67108863,C=Math.min(M,f.length-1),d=Math.max(0,M-E.length+1);d<=C;d++){var y=M-d,T=E.words[y]|0,L=f.words[d]|0,G=T*L,H=G&67108863;U=U+(G/67108864|0)|0,H=H+K|0,K=H&67108863,U=U+(H>>>26)|0,I+=U>>>26,U&=67108863}w.words[M]=K,S=U,U=I}return S!==0?w.words[M]=S:w.length--,w._strip()}function B(E,f,w){return k(E,f,w)}o.prototype.mulTo=function(f,w){var S,I=this.length+f.length;return this.length===10&&f.length===10?S=N(this,f,w):I<63?S=R(this,f,w):I<1024?S=k(this,f,w):S=B(this,f,w),S},o.prototype.mul=function(f){var w=new o(null);return w.words=new Array(this.length+f.length),this.mulTo(f,w)},o.prototype.mulf=function(f){var w=new o(null);return w.words=new Array(this.length+f.length),B(this,f,w)},o.prototype.imul=function(f){return this.clone().mulTo(f,this)},o.prototype.imuln=function(f){var w=f<0;w&&(f=-f),r(typeof f=="number"),r(f<67108864);for(var S=0,I=0;I<this.length;I++){var M=(this.words[I]|0)*f,U=(M&67108863)+(S&67108863);S>>=26,S+=M/67108864|0,S+=U>>>26,this.words[I]=U&67108863}return S!==0&&(this.words[I]=S,this.length++),this.length=f===0?1:this.length,w?this.ineg():this},o.prototype.muln=function(f){return this.clone().imuln(f)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(f){var w=x(f);if(w.length===0)return new o(1);for(var S=this,I=0;I<w.length&&w[I]===0;I++,S=S.sqr());if(++I<w.length)for(var M=S.sqr();I<w.length;I++,M=M.sqr())w[I]!==0&&(S=S.mul(M));return S},o.prototype.iushln=function(f){r(typeof f=="number"&&f>=0);var w=f%26,S=(f-w)/26,I=67108863>>>26-w<<26-w,M;if(w!==0){var U=0;for(M=0;M<this.length;M++){var K=this.words[M]&I,C=(this.words[M]|0)-K<<w;this.words[M]=C|U,U=K>>>26-w}U&&(this.words[M]=U,this.length++)}if(S!==0){for(M=this.length-1;M>=0;M--)this.words[M+S]=this.words[M];for(M=0;M<S;M++)this.words[M]=0;this.length+=S}return this._strip()},o.prototype.ishln=function(f){return r(this.negative===0),this.iushln(f)},o.prototype.iushrn=function(f,w,S){r(typeof f=="number"&&f>=0);var I;w?I=(w-w%26)/26:I=0;var M=f%26,U=Math.min((f-M)/26,this.length),K=67108863^67108863>>>M<<M,C=S;if(I-=U,I=Math.max(0,I),C){for(var d=0;d<U;d++)C.words[d]=this.words[d];C.length=U}if(U!==0)if(this.length>U)for(this.length-=U,d=0;d<this.length;d++)this.words[d]=this.words[d+U];else this.words[0]=0,this.length=1;var y=0;for(d=this.length-1;d>=0&&(y!==0||d>=I);d--){var T=this.words[d]|0;this.words[d]=y<<26-M|T>>>M,y=T&K}return C&&y!==0&&(C.words[C.length++]=y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(f,w,S){return r(this.negative===0),this.iushrn(f,w,S)},o.prototype.shln=function(f){return this.clone().ishln(f)},o.prototype.ushln=function(f){return this.clone().iushln(f)},o.prototype.shrn=function(f){return this.clone().ishrn(f)},o.prototype.ushrn=function(f){return this.clone().iushrn(f)},o.prototype.testn=function(f){r(typeof f=="number"&&f>=0);var w=f%26,S=(f-w)/26,I=1<<w;if(this.length<=S)return!1;var M=this.words[S];return!!(M&I)},o.prototype.imaskn=function(f){r(typeof f=="number"&&f>=0);var w=f%26,S=(f-w)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(w!==0&&S++,this.length=Math.min(S,this.length),w!==0){var I=67108863^67108863>>>w<<w;this.words[this.length-1]&=I}return this._strip()},o.prototype.maskn=function(f){return this.clone().imaskn(f)},o.prototype.iaddn=function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},o.prototype._iaddn=function(f){this.words[0]+=f;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},o.prototype.isubn=function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this._strip()},o.prototype.addn=function(f){return this.clone().iaddn(f)},o.prototype.subn=function(f){return this.clone().isubn(f)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(f,w,S){var I=f.length+S,M;this._expand(I);var U,K=0;for(M=0;M<f.length;M++){U=(this.words[M+S]|0)+K;var C=(f.words[M]|0)*w;U-=C&67108863,K=(U>>26)-(C/67108864|0),this.words[M+S]=U&67108863}for(;M<this.length-S;M++)U=(this.words[M+S]|0)+K,K=U>>26,this.words[M+S]=U&67108863;if(K===0)return this._strip();for(r(K===-1),K=0,M=0;M<this.length;M++)U=-(this.words[M]|0)+K,K=U>>26,this.words[M]=U&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(f,w){var S=this.length-f.length,I=this.clone(),M=f,U=M.words[M.length-1]|0,K=this._countBits(U);S=26-K,S!==0&&(M=M.ushln(S),I.iushln(S),U=M.words[M.length-1]|0);var C=I.length-M.length,d;if(w!=="mod"){d=new o(null),d.length=C+1,d.words=new Array(d.length);for(var y=0;y<d.length;y++)d.words[y]=0}var T=I.clone()._ishlnsubmul(M,1,C);T.negative===0&&(I=T,d&&(d.words[C]=1));for(var L=C-1;L>=0;L--){var G=(I.words[M.length+L]|0)*67108864+(I.words[M.length+L-1]|0);for(G=Math.min(G/U|0,67108863),I._ishlnsubmul(M,G,L);I.negative!==0;)G--,I.negative=0,I._ishlnsubmul(M,1,L),I.isZero()||(I.negative^=1);d&&(d.words[L]=G)}return d&&d._strip(),I._strip(),w!=="div"&&S!==0&&I.iushrn(S),{div:d||null,mod:I}},o.prototype.divmod=function(f,w,S){if(r(!f.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var I,M,U;return this.negative!==0&&f.negative===0?(U=this.neg().divmod(f,w),w!=="mod"&&(I=U.div.neg()),w!=="div"&&(M=U.mod.neg(),S&&M.negative!==0&&M.iadd(f)),{div:I,mod:M}):this.negative===0&&f.negative!==0?(U=this.divmod(f.neg(),w),w!=="mod"&&(I=U.div.neg()),{div:I,mod:U.mod}):(this.negative&f.negative)!==0?(U=this.neg().divmod(f.neg(),w),w!=="div"&&(M=U.mod.neg(),S&&M.negative!==0&&M.isub(f)),{div:U.div,mod:M}):f.length>this.length||this.cmp(f)<0?{div:new o(0),mod:this}:f.length===1?w==="div"?{div:this.divn(f.words[0]),mod:null}:w==="mod"?{div:null,mod:new o(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new o(this.modrn(f.words[0]))}:this._wordDiv(f,w)},o.prototype.div=function(f){return this.divmod(f,"div",!1).div},o.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},o.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},o.prototype.divRound=function(f){var w=this.divmod(f);if(w.mod.isZero())return w.div;var S=w.div.negative!==0?w.mod.isub(f):w.mod,I=f.ushrn(1),M=f.andln(1),U=S.cmp(I);return U<0||M===1&&U===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},o.prototype.modrn=function(f){var w=f<0;w&&(f=-f),r(f<=67108863);for(var S=(1<<26)%f,I=0,M=this.length-1;M>=0;M--)I=(S*I+(this.words[M]|0))%f;return w?-I:I},o.prototype.modn=function(f){return this.modrn(f)},o.prototype.idivn=function(f){var w=f<0;w&&(f=-f),r(f<=67108863);for(var S=0,I=this.length-1;I>=0;I--){var M=(this.words[I]|0)+S*67108864;this.words[I]=M/f|0,S=M%f}return this._strip(),w?this.ineg():this},o.prototype.divn=function(f){return this.clone().idivn(f)},o.prototype.egcd=function(f){r(f.negative===0),r(!f.isZero());var w=this,S=f.clone();w.negative!==0?w=w.umod(f):w=w.clone();for(var I=new o(1),M=new o(0),U=new o(0),K=new o(1),C=0;w.isEven()&&S.isEven();)w.iushrn(1),S.iushrn(1),++C;for(var d=S.clone(),y=w.clone();!w.isZero();){for(var T=0,L=1;(w.words[0]&L)===0&&T<26;++T,L<<=1);if(T>0)for(w.iushrn(T);T-- >0;)(I.isOdd()||M.isOdd())&&(I.iadd(d),M.isub(y)),I.iushrn(1),M.iushrn(1);for(var G=0,H=1;(S.words[0]&H)===0&&G<26;++G,H<<=1);if(G>0)for(S.iushrn(G);G-- >0;)(U.isOdd()||K.isOdd())&&(U.iadd(d),K.isub(y)),U.iushrn(1),K.iushrn(1);w.cmp(S)>=0?(w.isub(S),I.isub(U),M.isub(K)):(S.isub(w),U.isub(I),K.isub(M))}return{a:U,b:K,gcd:S.iushln(C)}},o.prototype._invmp=function(f){r(f.negative===0),r(!f.isZero());var w=this,S=f.clone();w.negative!==0?w=w.umod(f):w=w.clone();for(var I=new o(1),M=new o(0),U=S.clone();w.cmpn(1)>0&&S.cmpn(1)>0;){for(var K=0,C=1;(w.words[0]&C)===0&&K<26;++K,C<<=1);if(K>0)for(w.iushrn(K);K-- >0;)I.isOdd()&&I.iadd(U),I.iushrn(1);for(var d=0,y=1;(S.words[0]&y)===0&&d<26;++d,y<<=1);if(d>0)for(S.iushrn(d);d-- >0;)M.isOdd()&&M.iadd(U),M.iushrn(1);w.cmp(S)>=0?(w.isub(S),I.isub(M)):(S.isub(w),M.isub(I))}var T;return w.cmpn(1)===0?T=I:T=M,T.cmpn(0)<0&&T.iadd(f),T},o.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var w=this.clone(),S=f.clone();w.negative=0,S.negative=0;for(var I=0;w.isEven()&&S.isEven();I++)w.iushrn(1),S.iushrn(1);do{for(;w.isEven();)w.iushrn(1);for(;S.isEven();)S.iushrn(1);var M=w.cmp(S);if(M<0){var U=w;w=S,S=U}else if(M===0||S.cmpn(1)===0)break;w.isub(S)}while(!0);return S.iushln(I)},o.prototype.invm=function(f){return this.egcd(f).a.umod(f)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(f){return this.words[0]&f},o.prototype.bincn=function(f){r(typeof f=="number");var w=f%26,S=(f-w)/26,I=1<<w;if(this.length<=S)return this._expand(S+1),this.words[S]|=I,this;for(var M=I,U=S;M!==0&&U<this.length;U++){var K=this.words[U]|0;K+=M,M=K>>>26,K&=67108863,this.words[U]=K}return M!==0&&(this.words[U]=M,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(f){var w=f<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;this._strip();var S;if(this.length>1)S=1;else{w&&(f=-f),r(f<=67108863,"Number is too big");var I=this.words[0]|0;S=I===f?0:I<f?-1:1}return this.negative!==0?-S|0:S},o.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var w=this.ucmp(f);return this.negative!==0?-w|0:w},o.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var w=0,S=this.length-1;S>=0;S--){var I=this.words[S]|0,M=f.words[S]|0;if(I!==M){I<M?w=-1:I>M&&(w=1);break}}return w},o.prototype.gtn=function(f){return this.cmpn(f)===1},o.prototype.gt=function(f){return this.cmp(f)===1},o.prototype.gten=function(f){return this.cmpn(f)>=0},o.prototype.gte=function(f){return this.cmp(f)>=0},o.prototype.ltn=function(f){return this.cmpn(f)===-1},o.prototype.lt=function(f){return this.cmp(f)===-1},o.prototype.lten=function(f){return this.cmpn(f)<=0},o.prototype.lte=function(f){return this.cmp(f)<=0},o.prototype.eqn=function(f){return this.cmpn(f)===0},o.prototype.eq=function(f){return this.cmp(f)===0},o.red=function(f){return new V(f)},o.prototype.toRed=function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(f){return this.red=f,this},o.prototype.forceRed=function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},o.prototype.redAdd=function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},o.prototype.redIAdd=function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},o.prototype.redSub=function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},o.prototype.redISub=function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},o.prototype.redShl=function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},o.prototype.redMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},o.prototype.redIMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var F={k256:null,p224:null,p192:null,p25519:null};function Z(E,f){this.name=E,this.p=new o(f,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Z.prototype._tmp=function(){var f=new o(null);return f.words=new Array(Math.ceil(this.n/13)),f},Z.prototype.ireduce=function(f){var w=f,S;do this.split(w,this.tmp),w=this.imulK(w),w=w.iadd(this.tmp),S=w.bitLength();while(S>this.n);var I=S<this.n?-1:w.ucmp(this.p);return I===0?(w.words[0]=0,w.length=1):I>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},Z.prototype.split=function(f,w){f.iushrn(this.n,0,w)},Z.prototype.imulK=function(f){return f.imul(this.k)};function te(){Z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(te,Z),te.prototype.split=function(f,w){for(var S=4194303,I=Math.min(f.length,9),M=0;M<I;M++)w.words[M]=f.words[M];if(w.length=I,f.length<=9){f.words[0]=0,f.length=1;return}var U=f.words[9];for(w.words[w.length++]=U&S,M=10;M<f.length;M++){var K=f.words[M]|0;f.words[M-10]=(K&S)<<4|U>>>22,U=K}U>>>=22,f.words[M-10]=U,U===0&&f.length>10?f.length-=10:f.length-=9},te.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var w=0,S=0;S<f.length;S++){var I=f.words[S]|0;w+=I*977,f.words[S]=w&67108863,w=I*64+(w/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function oe(){Z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(oe,Z);function P(){Z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(P,Z);function D(){Z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(D,Z),D.prototype.imulK=function(f){for(var w=0,S=0;S<f.length;S++){var I=(f.words[S]|0)*19+w,M=I&67108863;I>>>=26,f.words[S]=M,w=I}return w!==0&&(f.words[f.length++]=w),f},o._prime=function(f){if(F[f])return F[f];var w;if(f==="k256")w=new te;else if(f==="p224")w=new oe;else if(f==="p192")w=new P;else if(f==="p25519")w=new D;else throw new Error("Unknown prime "+f);return F[f]=w,w};function V(E){if(typeof E=="string"){var f=o._prime(E);this.m=f.p,this.prime=f}else r(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}V.prototype._verify1=function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},V.prototype._verify2=function(f,w){r((f.negative|w.negative)===0,"red works only with positives"),r(f.red&&f.red===w.red,"red works only with red numbers")},V.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(u(f,f.umod(this.m)._forceRed(this)),f)},V.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},V.prototype.add=function(f,w){this._verify2(f,w);var S=f.add(w);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},V.prototype.iadd=function(f,w){this._verify2(f,w);var S=f.iadd(w);return S.cmp(this.m)>=0&&S.isub(this.m),S},V.prototype.sub=function(f,w){this._verify2(f,w);var S=f.sub(w);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},V.prototype.isub=function(f,w){this._verify2(f,w);var S=f.isub(w);return S.cmpn(0)<0&&S.iadd(this.m),S},V.prototype.shl=function(f,w){return this._verify1(f),this.imod(f.ushln(w))},V.prototype.imul=function(f,w){return this._verify2(f,w),this.imod(f.imul(w))},V.prototype.mul=function(f,w){return this._verify2(f,w),this.imod(f.mul(w))},V.prototype.isqr=function(f){return this.imul(f,f.clone())},V.prototype.sqr=function(f){return this.mul(f,f)},V.prototype.sqrt=function(f){if(f.isZero())return f.clone();var w=this.m.andln(3);if(r(w%2===1),w===3){var S=this.m.add(new o(1)).iushrn(2);return this.pow(f,S)}for(var I=this.m.subn(1),M=0;!I.isZero()&&I.andln(1)===0;)M++,I.iushrn(1);r(!I.isZero());var U=new o(1).toRed(this),K=U.redNeg(),C=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new o(2*d*d).toRed(this);this.pow(d,C).cmp(K)!==0;)d.redIAdd(K);for(var y=this.pow(d,I),T=this.pow(f,I.addn(1).iushrn(1)),L=this.pow(f,I),G=M;L.cmp(U)!==0;){for(var H=L,ne=0;H.cmp(U)!==0;ne++)H=H.redSqr();r(ne<G);var re=this.pow(y,new o(1).iushln(G-ne-1));T=T.redMul(re),y=re.redSqr(),L=L.redMul(y),G=ne}return T},V.prototype.invm=function(f){var w=f._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},V.prototype.pow=function(f,w){if(w.isZero())return new o(1).toRed(this);if(w.cmpn(1)===0)return f.clone();var S=4,I=new Array(1<<S);I[0]=new o(1).toRed(this),I[1]=f;for(var M=2;M<I.length;M++)I[M]=this.mul(I[M-1],f);var U=I[0],K=0,C=0,d=w.bitLength()%26;for(d===0&&(d=26),M=w.length-1;M>=0;M--){for(var y=w.words[M],T=d-1;T>=0;T--){var L=y>>T&1;if(U!==I[0]&&(U=this.sqr(U)),L===0&&K===0){C=0;continue}K<<=1,K|=L,C++,!(C!==S&&(M!==0||T!==0))&&(U=this.mul(U,I[K]),C=0,K=0)}d=26}return U},V.prototype.convertTo=function(f){var w=f.umod(this.m);return w===f?w.clone():w},V.prototype.convertFrom=function(f){var w=f.clone();return w.red=null,w},o.mont=function(f){return new j(f)};function j(E){V.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(j,V),j.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},j.prototype.convertFrom=function(f){var w=this.imod(f.mul(this.rinv));return w.red=null,w},j.prototype.imul=function(f,w){if(f.isZero()||w.isZero())return f.words[0]=0,f.length=1,f;var S=f.imul(w),I=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=S.isub(I).iushrn(this.shift),U=M;return M.cmp(this.m)>=0?U=M.isub(this.m):M.cmpn(0)<0&&(U=M.iadd(this.m)),U._forceRed(this)},j.prototype.mul=function(f,w){if(f.isZero()||w.isZero())return new o(0)._forceRed(this);var S=f.mul(w),I=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),M=S.isub(I).iushrn(this.shift),U=M;return M.cmp(this.m)>=0?U=M.isub(this.m):M.cmpn(0)<0&&(U=M.iadd(this.m)),U._forceRed(this)},j.prototype.invm=function(f){var w=this.imod(f._invmp(this.m).mul(this.r2));return w._forceRed(this)}})(e,Lx)})(ya)),ya.exports}var Dx=$m();const Ap=vc(Dx);var Qi={exports:{}};var xp;function zx(){return xp||(xp=1,(function(e,t){var n=Kf(),r=n.Buffer;function s(i,a){for(var c in i)a[c]=i[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(s(n,t),t.Buffer=o);function o(i,a,c){return r(i,a,c)}o.prototype=Object.create(r.prototype),s(r,o),o.from=function(i,a,c){if(typeof i=="number")throw new TypeError("Argument must not be a number");return r(i,a,c)},o.alloc=function(i,a,c){if(typeof i!="number")throw new TypeError("Argument must be a number");var l=r(i);return a!==void 0?typeof c=="string"?l.fill(a,c):l.fill(a):l.fill(0),l},o.allocUnsafe=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return r(i)},o.allocUnsafeSlow=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(i)}})(Qi,Qi.exports)),Qi.exports}var Pu,Ip;function Ux(){if(Ip)return Pu;Ip=1;var e=zx().Buffer;function t(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),s=0;s<r.length;s++)r[s]=255;for(var o=0;o<n.length;o++){var i=n.charAt(o),a=i.charCodeAt(0);if(r[a]!==255)throw new TypeError(i+" is ambiguous");r[a]=o}var c=n.length,l=n.charAt(0),u=Math.log(c)/Math.log(256),h=Math.log(256)/Math.log(c);function g(_){if((Array.isArray(_)||_ instanceof Uint8Array)&&(_=e.from(_)),!e.isBuffer(_))throw new TypeError("Expected Buffer");if(_.length===0)return"";for(var x=0,R=0,N=0,k=_.length;N!==k&&_[N]===0;)N++,x++;for(var B=(k-N)*h+1>>>0,F=new Uint8Array(B);N!==k;){for(var Z=_[N],te=0,oe=B-1;(Z!==0||te<R)&&oe!==-1;oe--,te++)Z+=256*F[oe]>>>0,F[oe]=Z%c>>>0,Z=Z/c>>>0;if(Z!==0)throw new Error("Non-zero carry");R=te,N++}for(var P=B-R;P!==B&&F[P]===0;)P++;for(var D=l.repeat(x);P<B;++P)D+=n.charAt(F[P]);return D}function p(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return e.alloc(0);for(var x=0,R=0,N=0;_[x]===l;)R++,x++;for(var k=(_.length-x)*u+1>>>0,B=new Uint8Array(k);x<_.length;){var F=_.charCodeAt(x);if(F>255)return;var Z=r[F];if(Z===255)return;for(var te=0,oe=k-1;(Z!==0||te<N)&&oe!==-1;oe--,te++)Z+=c*B[oe]>>>0,B[oe]=Z%256>>>0,Z=Z/256>>>0;if(Z!==0)throw new Error("Non-zero carry");N=te,x++}for(var P=k-N;P!==k&&B[P]===0;)P++;var D=e.allocUnsafe(R+(k-P));D.fill(0,0,R);for(var V=R;P!==k;)D[V++]=B[P++];return D}function v(_){var x=p(_);if(x)return x;throw new Error("Non-base"+c+" character")}return{encode:g,decodeUnsafe:p,decode:v}}return Pu=t,Pu}var Lu,Tp;function Fm(){if(Tp)return Lu;Tp=1;var e=Ux(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return Lu=e(t),Lu}var jx=Fm();const Vt=vc(jx),Mp=vm;var Ge={};function br(e,t,n){return t<=e&&e<=n}function Ec(e){if(e===void 0)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function $x(e){for(var t=String(e),n=t.length,r=0,s=[];r<n;){var o=t.charCodeAt(r);if(o<55296||o>57343)s.push(o);else if(56320<=o&&o<=57343)s.push(65533);else if(55296<=o&&o<=56319)if(r===n-1)s.push(65533);else{var i=e.charCodeAt(r+1);if(56320<=i&&i<=57343){var a=o&1023,c=i&1023;s.push(65536+(a<<10)+c),r+=1}else s.push(65533)}r+=1}return s}function Fx(e){for(var t="",n=0;n<e.length;++n){var r=e[n];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return t}var Ka=-1;function Xf(e){this.tokens=[].slice.call(e)}Xf.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Ka},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var vo=-1;function Du(e,t){if(e)throw TypeError("Decoder error");return t||65533}var Va="utf-8";function qa(e,t){if(!(this instanceof qa))return new qa(e,t);if(e=e!==void 0?String(e).toLowerCase():Va,e!==Va)throw new Error("Encoding not supported. Only utf-8 is supported");t=Ec(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}qa.prototype={decode:function(t,n){var r;typeof t=="object"&&t instanceof ArrayBuffer?r=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):r=new Uint8Array(0),n=Ec(n),this._streaming||(this._decoder=new Wx({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var s=new Xf(r),o=[],i;!s.endOfStream()&&(i=this._decoder.handler(s,s.read()),i!==vo);)i!==null&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));if(!this._streaming){do{if(i=this._decoder.handler(s,s.read()),i===vo)break;i!==null&&(Array.isArray(i)?o.push.apply(o,i):o.push(i))}while(!s.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),Fx(o)}};function Za(e,t){if(!(this instanceof Za))return new Za(e,t);if(e=e!==void 0?String(e).toLowerCase():Va,e!==Va)throw new Error("Encoding not supported. Only utf-8 is supported");t=Ec(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Za.prototype={encode:function(t,n){t=t?String(t):"",n=Ec(n),this._streaming||(this._encoder=new Hx(this._options)),this._streaming=!!n.stream;for(var r=[],s=new Xf($x(t)),o;!s.endOfStream()&&(o=this._encoder.handler(s,s.read()),o!==vo);)Array.isArray(o)?r.push.apply(r,o):r.push(o);if(!this._streaming){for(;o=this._encoder.handler(s,s.read()),o!==vo;)Array.isArray(o)?r.push.apply(r,o):r.push(o);this._encoder=null}return new Uint8Array(r)}};function Wx(e){var t=e.fatal,n=0,r=0,s=0,o=128,i=191;this.handler=function(a,c){if(c===Ka&&s!==0)return s=0,Du(t);if(c===Ka)return vo;if(s===0){if(br(c,0,127))return c;if(br(c,194,223))s=1,n=c-192;else if(br(c,224,239))c===224&&(o=160),c===237&&(i=159),s=2,n=c-224;else if(br(c,240,244))c===240&&(o=144),c===244&&(i=143),s=3,n=c-240;else return Du(t);return n=n<<6*s,null}if(!br(c,o,i))return n=s=r=0,o=128,i=191,a.prepend(c),Du(t);if(o=128,i=191,r+=1,n+=c-128<<6*(s-r),r!==s)return null;var l=n;return n=s=r=0,l}}function Hx(e){e.fatal,this.handler=function(t,n){if(n===Ka)return vo;if(br(n,0,127))return n;var r,s;br(n,128,2047)?(r=1,s=192):br(n,2048,65535)?(r=2,s=224):br(n,65536,1114111)&&(r=3,s=240);for(var o=[(n>>6*r)+s];r>0;){var i=n>>6*(r-1);o.push(128|i&63),r-=1}return o}}const Kx=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:qa,TextEncoder:Za},Symbol.toStringTag,{value:"Module"})),Vx=Hf(Kx);var Rp;function qx(){if(Rp)return Ge;Rp=1;var e=Ge&&Ge.__createBinding||(Object.create?(function(P,D,V,j){j===void 0&&(j=V),Object.defineProperty(P,j,{enumerable:!0,get:function(){return D[V]}})}):(function(P,D,V,j){j===void 0&&(j=V),P[j]=D[V]})),t=Ge&&Ge.__setModuleDefault||(Object.create?(function(P,D){Object.defineProperty(P,"default",{enumerable:!0,value:D})}):function(P,D){P.default=D}),n=Ge&&Ge.__decorate||function(P,D,V,j){var E=arguments.length,f=E<3?D:j===null?j=Object.getOwnPropertyDescriptor(D,V):j,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(P,D,V,j);else for(var S=P.length-1;S>=0;S--)(w=P[S])&&(f=(E<3?w(f):E>3?w(D,V,f):w(D,V))||f);return E>3&&f&&Object.defineProperty(D,V,f),f},r=Ge&&Ge.__importStar||function(P){if(P&&P.__esModule)return P;var D={};if(P!=null)for(var V in P)V!=="default"&&Object.hasOwnProperty.call(P,V)&&e(D,P,V);return t(D,P),D},s=Ge&&Ge.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.deserializeUnchecked=Ge.deserialize=Ge.serialize=Ge.BinaryReader=Ge.BinaryWriter=Ge.BorshError=Ge.baseDecode=Ge.baseEncode=void 0;const o=s($m()),i=s(Fm()),a=r(Vx),c=typeof TextDecoder!="function"?a.TextDecoder:TextDecoder,l=new c("utf-8",{fatal:!0});function u(P){return typeof P=="string"&&(P=Buffer.from(P,"utf8")),i.default.encode(Buffer.from(P))}Ge.baseEncode=u;function h(P){return Buffer.from(i.default.decode(P))}Ge.baseDecode=h;const g=1024;class p extends Error{constructor(D){super(D),this.fieldPath=[],this.originalMessage=D}addToFieldPath(D){this.fieldPath.splice(0,0,D),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Ge.BorshError=p;class v{constructor(){this.buf=Buffer.alloc(g),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(g)]))}writeU8(D){this.maybeResize(),this.buf.writeUInt8(D,this.length),this.length+=1}writeU16(D){this.maybeResize(),this.buf.writeUInt16LE(D,this.length),this.length+=2}writeU32(D){this.maybeResize(),this.buf.writeUInt32LE(D,this.length),this.length+=4}writeU64(D){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(D).toArray("le",8)))}writeU128(D){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(D).toArray("le",16)))}writeU256(D){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(D).toArray("le",32)))}writeU512(D){this.maybeResize(),this.writeBuffer(Buffer.from(new o.default(D).toArray("le",64)))}writeBuffer(D){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),D,Buffer.alloc(g)]),this.length+=D.length}writeString(D){this.maybeResize();const V=Buffer.from(D,"utf8");this.writeU32(V.length),this.writeBuffer(V)}writeFixedArray(D){this.writeBuffer(Buffer.from(D))}writeArray(D,V){this.maybeResize(),this.writeU32(D.length);for(const j of D)this.maybeResize(),V(j)}toArray(){return this.buf.subarray(0,this.length)}}Ge.BinaryWriter=v;function _(P,D,V){const j=V.value;V.value=function(...E){try{return j.apply(this,E)}catch(f){if(f instanceof RangeError){const w=f.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(w)>=0)throw new p("Reached the end of buffer when deserializing")}throw f}}}class x{constructor(D){this.buf=D,this.offset=0}readU8(){const D=this.buf.readUInt8(this.offset);return this.offset+=1,D}readU16(){const D=this.buf.readUInt16LE(this.offset);return this.offset+=2,D}readU32(){const D=this.buf.readUInt32LE(this.offset);return this.offset+=4,D}readU64(){const D=this.readBuffer(8);return new o.default(D,"le")}readU128(){const D=this.readBuffer(16);return new o.default(D,"le")}readU256(){const D=this.readBuffer(32);return new o.default(D,"le")}readU512(){const D=this.readBuffer(64);return new o.default(D,"le")}readBuffer(D){if(this.offset+D>this.buf.length)throw new p(`Expected buffer length ${D} isn't within bounds`);const V=this.buf.slice(this.offset,this.offset+D);return this.offset+=D,V}readString(){const D=this.readU32(),V=this.readBuffer(D);try{return l.decode(V)}catch(j){throw new p(`Error decoding UTF-8 string: ${j}`)}}readFixedArray(D){return new Uint8Array(this.readBuffer(D))}readArray(D){const V=this.readU32(),j=Array();for(let E=0;E<V;++E)j.push(D());return j}}n([_],x.prototype,"readU8",null),n([_],x.prototype,"readU16",null),n([_],x.prototype,"readU32",null),n([_],x.prototype,"readU64",null),n([_],x.prototype,"readU128",null),n([_],x.prototype,"readU256",null),n([_],x.prototype,"readU512",null),n([_],x.prototype,"readString",null),n([_],x.prototype,"readFixedArray",null),n([_],x.prototype,"readArray",null),Ge.BinaryReader=x;function R(P){return P.charAt(0).toUpperCase()+P.slice(1)}function N(P,D,V,j,E){try{if(typeof j=="string")E[`write${R(j)}`](V);else if(j instanceof Array)if(typeof j[0]=="number"){if(V.length!==j[0])throw new p(`Expecting byte array of length ${j[0]}, but got ${V.length} bytes`);E.writeFixedArray(V)}else if(j.length===2&&typeof j[1]=="number"){if(V.length!==j[1])throw new p(`Expecting byte array of length ${j[1]}, but got ${V.length} bytes`);for(let f=0;f<j[1];f++)N(P,null,V[f],j[0],E)}else E.writeArray(V,f=>{N(P,D,f,j[0],E)});else if(j.kind!==void 0)switch(j.kind){case"option":{V==null?E.writeU8(0):(E.writeU8(1),N(P,D,V,j.type,E));break}case"map":{E.writeU32(V.size),V.forEach((f,w)=>{N(P,D,w,j.key,E),N(P,D,f,j.value,E)});break}default:throw new p(`FieldType ${j} unrecognized`)}else k(P,V,E)}catch(f){throw f instanceof p&&f.addToFieldPath(D),f}}function k(P,D,V){if(typeof D.borshSerialize=="function"){D.borshSerialize(V);return}const j=P.get(D.constructor);if(!j)throw new p(`Class ${D.constructor.name} is missing in schema`);if(j.kind==="struct")j.fields.map(([E,f])=>{N(P,E,D[E],f,V)});else if(j.kind==="enum"){const E=D[j.field];for(let f=0;f<j.values.length;++f){const[w,S]=j.values[f];if(w===E){V.writeU8(f),N(P,w,D[w],S,V);break}}}else throw new p(`Unexpected schema kind: ${j.kind} for ${D.constructor.name}`)}function B(P,D,V=v){const j=new V;return k(P,D,j),j.toArray()}Ge.serialize=B;function F(P,D,V,j){try{if(typeof V=="string")return j[`read${R(V)}`]();if(V instanceof Array){if(typeof V[0]=="number")return j.readFixedArray(V[0]);if(typeof V[1]=="number"){const E=[];for(let f=0;f<V[1];f++)E.push(F(P,null,V[0],j));return E}else return j.readArray(()=>F(P,D,V[0],j))}if(V.kind==="option")return j.readU8()?F(P,D,V.type,j):void 0;if(V.kind==="map"){let E=new Map;const f=j.readU32();for(let w=0;w<f;w++){const S=F(P,D,V.key,j),I=F(P,D,V.value,j);E.set(S,I)}return E}return Z(P,V,j)}catch(E){throw E instanceof p&&E.addToFieldPath(D),E}}function Z(P,D,V){if(typeof D.borshDeserialize=="function")return D.borshDeserialize(V);const j=P.get(D);if(!j)throw new p(`Class ${D.name} is missing in schema`);if(j.kind==="struct"){const E={};for(const[f,w]of P.get(D).fields)E[f]=F(P,f,w,V);return new D(E)}if(j.kind==="enum"){const E=V.readU8();if(E>=j.values.length)throw new p(`Enum index: ${E} is out of range`);const[f,w]=j.values[E],S=F(P,f,w,V);return new D({[f]:S})}throw new p(`Unexpected schema kind: ${j.kind} for ${D.constructor.name}`)}function te(P,D,V,j=x){const E=new j(V),f=Z(P,D,E);if(E.offset<V.length)throw new p(`Unexpected ${V.length-E.offset} bytes after deserialized data`);return f}Ge.deserialize=te;function oe(P,D,V,j=x){const E=new j(V);return Z(P,D,E)}return Ge.deserializeUnchecked=oe,Ge}var zu=qx(),X={},Cp;function Zx(){if(Cp)return X;Cp=1,Object.defineProperty(X,"__esModule",{value:!0}),X.s16=X.s8=X.nu64be=X.u48be=X.u40be=X.u32be=X.u24be=X.u16be=X.nu64=X.u48=X.u40=X.u32=X.u24=X.u16=X.u8=X.offset=X.greedy=X.Constant=X.UTF8=X.CString=X.Blob=X.Boolean=X.BitField=X.BitStructure=X.VariantLayout=X.Union=X.UnionLayoutDiscriminator=X.UnionDiscriminator=X.Structure=X.Sequence=X.DoubleBE=X.Double=X.FloatBE=X.Float=X.NearInt64BE=X.NearInt64=X.NearUInt64BE=X.NearUInt64=X.IntBE=X.Int=X.UIntBE=X.UInt=X.OffsetLayout=X.GreedyCount=X.ExternalLayout=X.bindConstructorLayout=X.nameWithProperty=X.Layout=X.uint8ArrayToBuffer=X.checkUint8Array=void 0,X.constant=X.utf8=X.cstr=X.blob=X.unionLayoutDiscriminator=X.union=X.seq=X.bits=X.struct=X.f64be=X.f64=X.f32be=X.f32=X.ns64be=X.s48be=X.s40be=X.s32be=X.s24be=X.s16be=X.ns64=X.s48=X.s40=X.s32=X.s24=void 0;const e=Kf();function t(d){if(!(d instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}X.checkUint8Array=t;function n(d){return t(d),e.Buffer.from(d.buffer,d.byteOffset,d.length)}X.uint8ArrayToBuffer=n;let r=class{constructor(y,T){if(!Number.isInteger(y))throw new TypeError("span must be an integer");this.span=y,this.property=T}makeDestinationObject(){return{}}getSpan(y,T){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(y){const T=Object.create(this.constructor.prototype);return Object.assign(T,this),T.property=y,T}fromArray(y){}};X.Layout=r;function s(d,y){return y.property?d+"["+y.property+"]":d}X.nameWithProperty=s;function o(d,y){if(typeof d!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(d,"layout_"))throw new Error("Class is already bound to a layout");if(!(y&&y instanceof r))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(y,"boundConstructor_"))throw new Error("layout is already bound to a constructor");d.layout_=y,y.boundConstructor_=d,y.makeDestinationObject=(()=>new d),Object.defineProperty(d.prototype,"encode",{value(T,L){return y.encode(this,T,L)},writable:!0}),Object.defineProperty(d,"decode",{value(T,L){return y.decode(T,L)},writable:!0})}X.bindConstructorLayout=o;class i extends r{isCount(){throw new Error("ExternalLayout is abstract")}}X.ExternalLayout=i;class a extends i{constructor(y=1,T){if(!Number.isInteger(y)||0>=y)throw new TypeError("elementSpan must be a (positive) integer");super(-1,T),this.elementSpan=y}isCount(){return!0}decode(y,T=0){t(y);const L=y.length-T;return Math.floor(L/this.elementSpan)}encode(y,T,L){return 0}}X.GreedyCount=a;class c extends i{constructor(y,T=0,L){if(!(y instanceof r))throw new TypeError("layout must be a Layout");if(!Number.isInteger(T))throw new TypeError("offset must be integer or undefined");super(y.span,L||y.property),this.layout=y,this.offset=T}isCount(){return this.layout instanceof l||this.layout instanceof u}decode(y,T=0){return this.layout.decode(y,T+this.offset)}encode(y,T,L=0){return this.layout.encode(y,T,L+this.offset)}}X.OffsetLayout=c;class l extends r{constructor(y,T){if(super(y,T),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(y,T=0){return n(y).readUIntLE(T,this.span)}encode(y,T,L=0){return n(T).writeUIntLE(y,L,this.span),this.span}}X.UInt=l;class u extends r{constructor(y,T){if(super(y,T),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(y,T=0){return n(y).readUIntBE(T,this.span)}encode(y,T,L=0){return n(T).writeUIntBE(y,L,this.span),this.span}}X.UIntBE=u;class h extends r{constructor(y,T){if(super(y,T),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(y,T=0){return n(y).readIntLE(T,this.span)}encode(y,T,L=0){return n(T).writeIntLE(y,L,this.span),this.span}}X.Int=h;class g extends r{constructor(y,T){if(super(y,T),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(y,T=0){return n(y).readIntBE(T,this.span)}encode(y,T,L=0){return n(T).writeIntBE(y,L,this.span),this.span}}X.IntBE=g;const p=Math.pow(2,32);function v(d){const y=Math.floor(d/p),T=d-y*p;return{hi32:y,lo32:T}}function _(d,y){return d*p+y}class x extends r{constructor(y){super(8,y)}decode(y,T=0){const L=n(y),G=L.readUInt32LE(T),H=L.readUInt32LE(T+4);return _(H,G)}encode(y,T,L=0){const G=v(y),H=n(T);return H.writeUInt32LE(G.lo32,L),H.writeUInt32LE(G.hi32,L+4),8}}X.NearUInt64=x;class R extends r{constructor(y){super(8,y)}decode(y,T=0){const L=n(y),G=L.readUInt32BE(T),H=L.readUInt32BE(T+4);return _(G,H)}encode(y,T,L=0){const G=v(y),H=n(T);return H.writeUInt32BE(G.hi32,L),H.writeUInt32BE(G.lo32,L+4),8}}X.NearUInt64BE=R;class N extends r{constructor(y){super(8,y)}decode(y,T=0){const L=n(y),G=L.readUInt32LE(T),H=L.readInt32LE(T+4);return _(H,G)}encode(y,T,L=0){const G=v(y),H=n(T);return H.writeUInt32LE(G.lo32,L),H.writeInt32LE(G.hi32,L+4),8}}X.NearInt64=N;class k extends r{constructor(y){super(8,y)}decode(y,T=0){const L=n(y),G=L.readInt32BE(T),H=L.readUInt32BE(T+4);return _(G,H)}encode(y,T,L=0){const G=v(y),H=n(T);return H.writeInt32BE(G.hi32,L),H.writeUInt32BE(G.lo32,L+4),8}}X.NearInt64BE=k;class B extends r{constructor(y){super(4,y)}decode(y,T=0){return n(y).readFloatLE(T)}encode(y,T,L=0){return n(T).writeFloatLE(y,L),4}}X.Float=B;class F extends r{constructor(y){super(4,y)}decode(y,T=0){return n(y).readFloatBE(T)}encode(y,T,L=0){return n(T).writeFloatBE(y,L),4}}X.FloatBE=F;class Z extends r{constructor(y){super(8,y)}decode(y,T=0){return n(y).readDoubleLE(T)}encode(y,T,L=0){return n(T).writeDoubleLE(y,L),8}}X.Double=Z;class te extends r{constructor(y){super(8,y)}decode(y,T=0){return n(y).readDoubleBE(T)}encode(y,T,L=0){return n(T).writeDoubleBE(y,L),8}}X.DoubleBE=te;class oe extends r{constructor(y,T,L){if(!(y instanceof r))throw new TypeError("elementLayout must be a Layout");if(!(T instanceof i&&T.isCount()||Number.isInteger(T)&&0<=T))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let G=-1;!(T instanceof i)&&0<y.span&&(G=T*y.span),super(G,L),this.elementLayout=y,this.count=T}getSpan(y,T=0){if(0<=this.span)return this.span;let L=0,G=this.count;if(G instanceof i&&(G=G.decode(y,T)),0<this.elementLayout.span)L=G*this.elementLayout.span;else{let H=0;for(;H<G;)L+=this.elementLayout.getSpan(y,T+L),++H}return L}decode(y,T=0){const L=[];let G=0,H=this.count;for(H instanceof i&&(H=H.decode(y,T));G<H;)L.push(this.elementLayout.decode(y,T)),T+=this.elementLayout.getSpan(y,T),G+=1;return L}encode(y,T,L=0){const G=this.elementLayout,H=y.reduce((ne,re)=>ne+G.encode(re,T,L+ne),0);return this.count instanceof i&&this.count.encode(y.length,T,L),H}}X.Sequence=oe;class P extends r{constructor(y,T,L){if(!(Array.isArray(y)&&y.reduce((H,ne)=>H&&ne instanceof r,!0)))throw new TypeError("fields must be array of Layout instances");typeof T=="boolean"&&L===void 0&&(L=T,T=void 0);for(const H of y)if(0>H.span&&H.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let G=-1;try{G=y.reduce((H,ne)=>H+ne.getSpan(),0)}catch{}super(G,T),this.fields=y,this.decodePrefixes=!!L}getSpan(y,T=0){if(0<=this.span)return this.span;let L=0;try{L=this.fields.reduce((G,H)=>{const ne=H.getSpan(y,T);return T+=ne,G+ne},0)}catch{throw new RangeError("indeterminate span")}return L}decode(y,T=0){t(y);const L=this.makeDestinationObject();for(const G of this.fields)if(G.property!==void 0&&(L[G.property]=G.decode(y,T)),T+=G.getSpan(y,T),this.decodePrefixes&&y.length===T)break;return L}encode(y,T,L=0){const G=L;let H=0,ne=0;for(const re of this.fields){let pe=re.span;if(ne=0<pe?pe:0,re.property!==void 0){const Ee=y[re.property];Ee!==void 0&&(ne=re.encode(Ee,T,L),0>pe&&(pe=re.getSpan(T,L)))}H=L,L+=pe}return H+ne-G}fromArray(y){const T=this.makeDestinationObject();for(const L of this.fields)L.property!==void 0&&0<y.length&&(T[L.property]=y.shift());return T}layoutFor(y){if(typeof y!="string")throw new TypeError("property must be string");for(const T of this.fields)if(T.property===y)return T}offsetOf(y){if(typeof y!="string")throw new TypeError("property must be string");let T=0;for(const L of this.fields){if(L.property===y)return T;0>L.span?T=-1:0<=T&&(T+=L.span)}}}X.Structure=P;class D{constructor(y){this.property=y}decode(y,T){throw new Error("UnionDiscriminator is abstract")}encode(y,T,L){throw new Error("UnionDiscriminator is abstract")}}X.UnionDiscriminator=D;class V extends D{constructor(y,T){if(!(y instanceof i&&y.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(T||y.property||"variant"),this.layout=y}decode(y,T){return this.layout.decode(y,T)}encode(y,T,L){return this.layout.encode(y,T,L)}}X.UnionLayoutDiscriminator=V;class j extends r{constructor(y,T,L){let G;if(y instanceof l||y instanceof u)G=new V(new c(y));else if(y instanceof i&&y.isCount())G=new V(y);else if(y instanceof D)G=y;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(T===void 0&&(T=null),!(T===null||T instanceof r))throw new TypeError("defaultLayout must be null or a Layout");if(T!==null){if(0>T.span)throw new Error("defaultLayout must have constant span");T.property===void 0&&(T=T.replicate("content"))}let H=-1;T&&(H=T.span,0<=H&&(y instanceof l||y instanceof u)&&(H+=G.layout.span)),super(H,L),this.discriminator=G,this.usesPrefixDiscriminator=y instanceof l||y instanceof u,this.defaultLayout=T,this.registry={};let ne=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(re){return ne(re)},this.configGetSourceVariant=function(re){ne=re.bind(this)}}getSpan(y,T=0){if(0<=this.span)return this.span;const L=this.getVariant(y,T);if(!L)throw new Error("unable to determine span for unrecognized variant");return L.getSpan(y,T)}defaultGetSourceVariant(y){if(Object.prototype.hasOwnProperty.call(y,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(y,this.defaultLayout.property))return;const T=this.registry[y[this.discriminator.property]];if(T&&(!T.layout||T.property&&Object.prototype.hasOwnProperty.call(y,T.property)))return T}else for(const T in this.registry){const L=this.registry[T];if(L.property&&Object.prototype.hasOwnProperty.call(y,L.property))return L}throw new Error("unable to infer src variant")}decode(y,T=0){let L;const G=this.discriminator,H=G.decode(y,T),ne=this.registry[H];if(ne===void 0){const re=this.defaultLayout;let pe=0;this.usesPrefixDiscriminator&&(pe=G.layout.span),L=this.makeDestinationObject(),L[G.property]=H,L[re.property]=re.decode(y,T+pe)}else L=ne.decode(y,T);return L}encode(y,T,L=0){const G=this.getSourceVariant(y);if(G===void 0){const H=this.discriminator,ne=this.defaultLayout;let re=0;return this.usesPrefixDiscriminator&&(re=H.layout.span),H.encode(y[H.property],T,L),re+ne.encode(y[ne.property],T,L+re)}return G.encode(y,T,L)}addVariant(y,T,L){const G=new E(this,y,T,L);return this.registry[y]=G,G}getVariant(y,T=0){let L;return y instanceof Uint8Array?L=this.discriminator.decode(y,T):L=y,this.registry[L]}}X.Union=j;class E extends r{constructor(y,T,L,G){if(!(y instanceof j))throw new TypeError("union must be a Union");if(!Number.isInteger(T)||0>T)throw new TypeError("variant must be a (non-negative) integer");if(typeof L=="string"&&G===void 0&&(G=L,L=null),L){if(!(L instanceof r))throw new TypeError("layout must be a Layout");if(y.defaultLayout!==null&&0<=L.span&&L.span>y.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof G!="string")throw new TypeError("variant must have a String property")}let H=y.span;0>y.span&&(H=L?L.span:0,0<=H&&y.usesPrefixDiscriminator&&(H+=y.discriminator.layout.span)),super(H,G),this.union=y,this.variant=T,this.layout=L||null}getSpan(y,T=0){if(0<=this.span)return this.span;let L=0;this.union.usesPrefixDiscriminator&&(L=this.union.discriminator.layout.span);let G=0;return this.layout&&(G=this.layout.getSpan(y,T+L)),L+G}decode(y,T=0){const L=this.makeDestinationObject();if(this!==this.union.getVariant(y,T))throw new Error("variant mismatch");let G=0;return this.union.usesPrefixDiscriminator&&(G=this.union.discriminator.layout.span),this.layout?L[this.property]=this.layout.decode(y,T+G):this.property?L[this.property]=!0:this.union.usesPrefixDiscriminator&&(L[this.union.discriminator.property]=this.variant),L}encode(y,T,L=0){let G=0;if(this.union.usesPrefixDiscriminator&&(G=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(y,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,T,L);let H=G;if(this.layout&&(this.layout.encode(y[this.property],T,L+G),H+=this.layout.getSpan(T,L+G),0<=this.union.span&&H>this.union.span))throw new Error("encoded variant overruns containing union");return H}fromArray(y){if(this.layout)return this.layout.fromArray(y)}}X.VariantLayout=E;function f(d){return 0>d&&(d+=4294967296),d}class w extends r{constructor(y,T,L){if(!(y instanceof l||y instanceof u))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof T=="string"&&L===void 0&&(L=T,T=!1),4<y.span)throw new RangeError("word cannot exceed 32 bits");super(y.span,L),this.word=y,this.msb=!!T,this.fields=[];let G=0;this._packedSetValue=function(H){return G=f(H),this},this._packedGetValue=function(){return G}}decode(y,T=0){const L=this.makeDestinationObject(),G=this.word.decode(y,T);this._packedSetValue(G);for(const H of this.fields)H.property!==void 0&&(L[H.property]=H.decode(y));return L}encode(y,T,L=0){const G=this.word.decode(T,L);this._packedSetValue(G);for(const H of this.fields)if(H.property!==void 0){const ne=y[H.property];ne!==void 0&&H.encode(ne)}return this.word.encode(this._packedGetValue(),T,L)}addField(y,T){const L=new S(this,y,T);return this.fields.push(L),L}addBoolean(y){const T=new I(this,y);return this.fields.push(T),T}fieldFor(y){if(typeof y!="string")throw new TypeError("property must be string");for(const T of this.fields)if(T.property===y)return T}}X.BitStructure=w;class S{constructor(y,T,L){if(!(y instanceof w))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(T)||0>=T)throw new TypeError("bits must be positive integer");const G=8*y.span,H=y.fields.reduce((ne,re)=>ne+re.bits,0);if(T+H>G)throw new Error("bits too long for span remainder ("+(G-H)+" of "+G+" remain)");this.container=y,this.bits=T,this.valueMask=(1<<T)-1,T===32&&(this.valueMask=4294967295),this.start=H,this.container.msb&&(this.start=G-H-T),this.wordMask=f(this.valueMask<<this.start),this.property=L}decode(y,T){const L=this.container._packedGetValue();return f(L&this.wordMask)>>>this.start}encode(y){if(typeof y!="number"||!Number.isInteger(y)||y!==f(y&this.valueMask))throw new TypeError(s("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const T=this.container._packedGetValue(),L=f(y<<this.start);this.container._packedSetValue(f(T&~this.wordMask)|L)}}X.BitField=S;class I extends S{constructor(y,T){super(y,1,T)}decode(y,T){return!!super.decode(y,T)}encode(y){typeof y=="boolean"&&(y=+y),super.encode(y)}}X.Boolean=I;class M extends r{constructor(y,T){if(!(y instanceof i&&y.isCount()||Number.isInteger(y)&&0<=y))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let L=-1;y instanceof i||(L=y),super(L,T),this.length=y}getSpan(y,T){let L=this.span;return 0>L&&(L=this.length.decode(y,T)),L}decode(y,T=0){let L=this.span;return 0>L&&(L=this.length.decode(y,T)),n(y).slice(T,T+L)}encode(y,T,L){let G=this.length;if(this.length instanceof i&&(G=y.length),!(y instanceof Uint8Array&&G===y.length))throw new TypeError(s("Blob.encode",this)+" requires (length "+G+") Uint8Array as src");if(L+G>T.length)throw new RangeError("encoding overruns Uint8Array");const H=n(y);return n(T).write(H.toString("hex"),L,G,"hex"),this.length instanceof i&&this.length.encode(G,T,L),G}}X.Blob=M;class U extends r{constructor(y){super(-1,y)}getSpan(y,T=0){t(y);let L=T;for(;L<y.length&&y[L]!==0;)L+=1;return 1+L-T}decode(y,T=0){const L=this.getSpan(y,T);return n(y).slice(T,T+L-1).toString("utf-8")}encode(y,T,L=0){typeof y!="string"&&(y=String(y));const G=e.Buffer.from(y,"utf8"),H=G.length;if(L+H>T.length)throw new RangeError("encoding overruns Buffer");const ne=n(T);return G.copy(ne,L),ne[L+H]=0,H+1}}X.CString=U;class K extends r{constructor(y,T){if(typeof y=="string"&&T===void 0&&(T=y,y=void 0),y===void 0)y=-1;else if(!Number.isInteger(y))throw new TypeError("maxSpan must be an integer");super(-1,T),this.maxSpan=y}getSpan(y,T=0){return t(y),y.length-T}decode(y,T=0){const L=this.getSpan(y,T);if(0<=this.maxSpan&&this.maxSpan<L)throw new RangeError("text length exceeds maxSpan");return n(y).slice(T,T+L).toString("utf-8")}encode(y,T,L=0){typeof y!="string"&&(y=String(y));const G=e.Buffer.from(y,"utf8"),H=G.length;if(0<=this.maxSpan&&this.maxSpan<H)throw new RangeError("text length exceeds maxSpan");if(L+H>T.length)throw new RangeError("encoding overruns Buffer");return G.copy(n(T),L),H}}X.UTF8=K;class C extends r{constructor(y,T){super(0,T),this.value=y}decode(y,T){return this.value}encode(y,T,L){return 0}}return X.Constant=C,X.greedy=((d,y)=>new a(d,y)),X.offset=((d,y,T)=>new c(d,y,T)),X.u8=(d=>new l(1,d)),X.u16=(d=>new l(2,d)),X.u24=(d=>new l(3,d)),X.u32=(d=>new l(4,d)),X.u40=(d=>new l(5,d)),X.u48=(d=>new l(6,d)),X.nu64=(d=>new x(d)),X.u16be=(d=>new u(2,d)),X.u24be=(d=>new u(3,d)),X.u32be=(d=>new u(4,d)),X.u40be=(d=>new u(5,d)),X.u48be=(d=>new u(6,d)),X.nu64be=(d=>new R(d)),X.s8=(d=>new h(1,d)),X.s16=(d=>new h(2,d)),X.s24=(d=>new h(3,d)),X.s32=(d=>new h(4,d)),X.s40=(d=>new h(5,d)),X.s48=(d=>new h(6,d)),X.ns64=(d=>new N(d)),X.s16be=(d=>new g(2,d)),X.s24be=(d=>new g(3,d)),X.s32be=(d=>new g(4,d)),X.s40be=(d=>new g(5,d)),X.s48be=(d=>new g(6,d)),X.ns64be=(d=>new k(d)),X.f32=(d=>new B(d)),X.f32be=(d=>new F(d)),X.f64=(d=>new Z(d)),X.f64be=(d=>new te(d)),X.struct=((d,y,T)=>new P(d,y,T)),X.bits=((d,y,T)=>new w(d,y,T)),X.seq=((d,y,T)=>new oe(d,y,T)),X.union=((d,y,T)=>new j(d,y,T)),X.unionLayoutDiscriminator=((d,y)=>new V(d,y)),X.blob=((d,y)=>new M(d,y)),X.cstr=(d=>new U(d)),X.utf8=((d,y)=>new K(d,y)),X.constant=((d,y)=>new C(d,y)),X}var W=Zx(),Gx=8078e3,Yx=8078001,Jx=8078004,Qx=8078005,Xx=8078006,eI=8078011;function Wm(e){return Array.isArray(e)?"%5B"+e.map(Wm).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function tI([e,t]){return`${e}=${Wm(t)}`}function nI(e){const t=Object.entries(e).map(tI).join("&");return btoa(t)}function rI(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${nI(t)}'`),`${n}\``}}var so=class extends Error{cause=this.cause;context;constructor(...[t,n]){let r,s;if(n){const{cause:i,...a}=n;i&&(s={cause:i}),Object.keys(a).length>0&&(r=a)}const o=rI(t,r);super(o,s),this.context={__code:t,...r},this.name="SolanaError"}};function sI(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function oI(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(sI(t,e));return e.write(t,n,0),n}})}function iI(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}function $s(e){return"fixedSize"in e&&typeof e.fixedSize=="number"}function aI(e,t){if($s(e)!==$s(t))throw new so(Jx);if($s(e)&&$s(t)&&e.fixedSize!==t.fixedSize)throw new so(Qx,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!$s(e)&&!$s(t)&&e.maxSize!==t.maxSize)throw new so(Xx,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function cI(e,t,n=0){if(t.length-n<=0)throw new so(Gx,{codecDescription:e})}function uI(e,t,n,r=0){const s=n.length-r;if(s<t)throw new so(Yx,{bytesLength:s,codecDescription:e,expected:t})}function lI(e,t,n,r){if(r<t||r>n)throw new so(eI,{codecDescription:e,max:n,min:t,value:r})}function Hm(e){return e?.endian!==1}function fI(e){return oI({fixedSize:e.size,write(t,n,r){e.range&&lI(e.name,e.range[0],e.range[1],t);const s=new ArrayBuffer(e.size);return e.set(new DataView(s),t,Hm(e.config)),n.set(new Uint8Array(s),r),r+e.size}})}function hI(e){return iI({fixedSize:e.size,read(t,n=0){cI(e.name,t,n),uI(e.name,e.size,t,n);const r=new DataView(dI(t,n,e.size));return[e.get(r,Hm(e.config)),n+e.size]}})}function dI(e,t,n){const r=e.byteOffset+(t??0),s=n??e.byteLength;return e.buffer.slice(r,r+s)}var Km=(e={})=>fI({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(t,n,r)=>t.setBigUint64(0,BigInt(n),r),size:8}),pI=(e={})=>hI({config:e,get:(t,n)=>t.getBigUint64(0,n),name:"u64",size:8}),gI=(e={})=>aI(Km(e),pI(e));class yI extends TypeError{constructor(t,n){let r;const{message:s,explanation:o,...i}=t,{path:a}=t,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(o??c),o!=null&&(this.cause=c),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>r??(r=[t,...n()])}}function mI(e){return Ri(e)&&typeof e[Symbol.iterator]=="function"}function Ri(e){return typeof e=="object"&&e!=null}function Ga(e){return Ri(e)&&!Array.isArray(e)}function Fn(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function wI(e){const{done:t,value:n}=e.next();return t?void 0:n}function bI(e,t,n,r){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:s,branch:o}=t,{type:i}=n,{refinement:a,message:c=`Expected a value of type \`${i}\`${a?` with refinement \`${a}\``:""}, but received: \`${Fn(r)}\``}=e;return{value:r,type:i,refinement:a,key:s[s.length-1],path:s,branch:o,...e,message:c}}function*Np(e,t,n,r){mI(e)||(e=[e]);for(const s of e){const o=bI(s,t,n,r);o&&(yield o)}}function*eh(e,t,n={}){const{path:r=[],branch:s=[e],coerce:o=!1,mask:i=!1}=n,a={path:r,branch:s,mask:i};o&&(e=t.coercer(e,a));let c="valid";for(const l of t.validator(e,a))l.explanation=n.message,c="not_valid",yield[l,void 0];for(let[l,u,h]of t.entries(e,a)){const g=eh(u,h,{path:l===void 0?r:[...r,l],branch:l===void 0?s:[...s,u],coerce:o,mask:i,message:n.message});for(const p of g)p[0]?(c=p[0].refinement!=null?"not_refined":"not_valid",yield[p[0],void 0]):o&&(u=p[1],l===void 0?e=u:e instanceof Map?e.set(l,u):e instanceof Set?e.add(u):Ri(e)&&(u!==void 0||l in e)&&(e[l]=u))}if(c!=="not_valid")for(const l of t.refiner(e,a))l.explanation=n.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,e])}let cr=class{constructor(t){const{type:n,schema:r,validator:s,refiner:o,coercer:i=c=>c,entries:a=function*(){}}=t;this.type=n,this.schema=r,this.entries=a,this.coercer=i,s?this.validator=(c,l)=>{const u=s(c,l);return Np(u,l,this,c)}:this.validator=()=>[],o?this.refiner=(c,l)=>{const u=o(c,l);return Np(u,l,this,c)}:this.refiner=()=>[]}assert(t,n){return Vm(t,this,n)}create(t,n){return me(t,this,n)}is(t){return qm(t,this)}mask(t,n){return vI(t,this,n)}validate(t,n={}){return Ci(t,this,n)}};function Vm(e,t,n){const r=Ci(e,t,{message:n});if(r[0])throw r[0]}function me(e,t,n){const r=Ci(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function vI(e,t,n){const r=Ci(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function qm(e,t){return!Ci(e,t)[0]}function Ci(e,t,n={}){const r=eh(e,t,n),s=wI(r);return s[0]?[new yI(s[0],function*(){for(const i of r)i[0]&&(yield i[0])}),void 0]:[void 0,s[1]]}function Cs(e,t){return new cr({type:e,schema:null,validator:t})}function _I(){return Cs("any",()=>!0)}function ve(e){return new cr({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${Fn(t)}`}})}function ar(){return Cs("boolean",e=>typeof e=="boolean")}function th(e){return Cs("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${Fn(t)}`)}function it(e){const t=Fn(e),n=typeof e;return new cr({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?e:null,validator(r){return r===e||`Expected the literal \`${t}\`, but received: ${Fn(r)}`}})}function SI(){return Cs("never",()=>!1)}function _e(e){return new cr({...e,validator:(t,n)=>t===null||e.validator(t,n),refiner:(t,n)=>t===null||e.refiner(t,n)})}function Q(){return Cs("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${Fn(e)}`)}function Me(e){return new cr({...e,validator:(t,n)=>t===void 0||e.validator(t,n),refiner:(t,n)=>t===void 0||e.refiner(t,n)})}function Zm(e,t){return new cr({type:"record",schema:null,*entries(n){if(Ri(n))for(const r in n){const s=n[r];yield[r,r,e],yield[r,s,t]}},validator(n){return Ga(n)||`Expected an object, but received: ${Fn(n)}`},coercer(n){return Ga(n)?{...n}:n}})}function ge(){return Cs("string",e=>typeof e=="string"||`Expected a string, but received: ${Fn(e)}`)}function nh(e){const t=SI();return new cr({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let s=0;s<r;s++)yield[s,n[s],e[s]||t]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${Fn(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function he(e){const t=Object.keys(e);return new cr({type:"type",schema:e,*entries(n){if(Ri(n))for(const r of t)yield[r,n[r],e[r]]},validator(n){return Ga(n)||`Expected an object, but received: ${Fn(n)}`},coercer(n){return Ga(n)?{...n}:n}})}function hn(e){const t=e.map(n=>n.type).join(" | ");return new cr({type:"union",schema:null,coercer(n,r){for(const s of e){const[o,i]=s.validate(n,{coerce:!0,mask:r.mask});if(!o)return i}return n},validator(n,r){const s=[];for(const o of e){const[...i]=eh(n,o,r),[a]=i;if(a[0])for(const[c]of i)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Fn(n)}`,...s]}})}function To(){return Cs("unknown",()=>!0)}function Ni(e,t,n){return new cr({...e,coercer:(r,s)=>qm(r,t)?e.coercer(n(r,s),s):e.coercer(r,s)})}var Xi,EI=new Uint8Array(16);function Gm(){if(!Xi&&(Xi=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Xi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Xi(EI)}const kI=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function kc(e){return typeof e=="string"&&kI.test(e)}var Kt=[];for(var Uu=0;Uu<256;++Uu)Kt.push((Uu+256).toString(16).substr(1));function Ac(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Kt[e[t+0]]+Kt[e[t+1]]+Kt[e[t+2]]+Kt[e[t+3]]+"-"+Kt[e[t+4]]+Kt[e[t+5]]+"-"+Kt[e[t+6]]+Kt[e[t+7]]+"-"+Kt[e[t+8]]+Kt[e[t+9]]+"-"+Kt[e[t+10]]+Kt[e[t+11]]+Kt[e[t+12]]+Kt[e[t+13]]+Kt[e[t+14]]+Kt[e[t+15]]).toLowerCase();if(!kc(n))throw TypeError("Stringified UUID is invalid");return n}var Op,ju,$u=0,Fu=0;function AI(e,t,n){var r=t&&n||0,s=t||new Array(16);e=e||{};var o=e.node||Op,i=e.clockseq!==void 0?e.clockseq:ju;if(o==null||i==null){var a=e.random||(e.rng||Gm)();o==null&&(o=Op=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),i==null&&(i=ju=(a[6]<<8|a[7])&16383)}var c=e.msecs!==void 0?e.msecs:Date.now(),l=e.nsecs!==void 0?e.nsecs:Fu+1,u=c-$u+(l-Fu)/1e4;if(u<0&&e.clockseq===void 0&&(i=i+1&16383),(u<0||c>$u)&&e.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");$u=c,Fu=l,ju=i,c+=122192928e5;var h=((c&268435455)*1e4+l)%4294967296;s[r++]=h>>>24&255,s[r++]=h>>>16&255,s[r++]=h>>>8&255,s[r++]=h&255;var g=c/4294967296*1e4&268435455;s[r++]=g>>>8&255,s[r++]=g&255,s[r++]=g>>>24&15|16,s[r++]=g>>>16&255,s[r++]=i>>>8|128,s[r++]=i&255;for(var p=0;p<6;++p)s[r+p]=o[p];return t||Ac(s)}function Ym(e){if(!kc(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}function xI(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}var II="6ba7b810-9dad-11d1-80b4-00c04fd430c8",TI="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Jm(e,t,n){function r(s,o,i,a){if(typeof s=="string"&&(s=xI(s)),typeof o=="string"&&(o=Ym(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+s.length);if(c.set(o),c.set(s,o.length),c=n(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,i){a=a||0;for(var l=0;l<16;++l)i[a+l]=c[l];return i}return Ac(c)}try{r.name=e}catch{}return r.DNS=II,r.URL=TI,r}function MI(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return RI(CI(NI(e),e.length*8))}function RI(e){for(var t=[],n=e.length*32,r="0123456789abcdef",s=0;s<n;s+=8){var o=e[s>>5]>>>s%32&255,i=parseInt(r.charAt(o>>>4&15)+r.charAt(o&15),16);t.push(i)}return t}function Qm(e){return(e+64>>>9<<4)+14+1}function CI(e,t){e[t>>5]|=128<<t%32,e[Qm(t)-1]=t;for(var n=1732584193,r=-271733879,s=-1732584194,o=271733878,i=0;i<e.length;i+=16){var a=n,c=r,l=s,u=o;n=Qt(n,r,s,o,e[i],7,-680876936),o=Qt(o,n,r,s,e[i+1],12,-389564586),s=Qt(s,o,n,r,e[i+2],17,606105819),r=Qt(r,s,o,n,e[i+3],22,-1044525330),n=Qt(n,r,s,o,e[i+4],7,-176418897),o=Qt(o,n,r,s,e[i+5],12,1200080426),s=Qt(s,o,n,r,e[i+6],17,-1473231341),r=Qt(r,s,o,n,e[i+7],22,-45705983),n=Qt(n,r,s,o,e[i+8],7,1770035416),o=Qt(o,n,r,s,e[i+9],12,-1958414417),s=Qt(s,o,n,r,e[i+10],17,-42063),r=Qt(r,s,o,n,e[i+11],22,-1990404162),n=Qt(n,r,s,o,e[i+12],7,1804603682),o=Qt(o,n,r,s,e[i+13],12,-40341101),s=Qt(s,o,n,r,e[i+14],17,-1502002290),r=Qt(r,s,o,n,e[i+15],22,1236535329),n=Xt(n,r,s,o,e[i+1],5,-165796510),o=Xt(o,n,r,s,e[i+6],9,-1069501632),s=Xt(s,o,n,r,e[i+11],14,643717713),r=Xt(r,s,o,n,e[i],20,-373897302),n=Xt(n,r,s,o,e[i+5],5,-701558691),o=Xt(o,n,r,s,e[i+10],9,38016083),s=Xt(s,o,n,r,e[i+15],14,-660478335),r=Xt(r,s,o,n,e[i+4],20,-405537848),n=Xt(n,r,s,o,e[i+9],5,568446438),o=Xt(o,n,r,s,e[i+14],9,-1019803690),s=Xt(s,o,n,r,e[i+3],14,-187363961),r=Xt(r,s,o,n,e[i+8],20,1163531501),n=Xt(n,r,s,o,e[i+13],5,-1444681467),o=Xt(o,n,r,s,e[i+2],9,-51403784),s=Xt(s,o,n,r,e[i+7],14,1735328473),r=Xt(r,s,o,n,e[i+12],20,-1926607734),n=en(n,r,s,o,e[i+5],4,-378558),o=en(o,n,r,s,e[i+8],11,-2022574463),s=en(s,o,n,r,e[i+11],16,1839030562),r=en(r,s,o,n,e[i+14],23,-35309556),n=en(n,r,s,o,e[i+1],4,-1530992060),o=en(o,n,r,s,e[i+4],11,1272893353),s=en(s,o,n,r,e[i+7],16,-155497632),r=en(r,s,o,n,e[i+10],23,-1094730640),n=en(n,r,s,o,e[i+13],4,681279174),o=en(o,n,r,s,e[i],11,-358537222),s=en(s,o,n,r,e[i+3],16,-722521979),r=en(r,s,o,n,e[i+6],23,76029189),n=en(n,r,s,o,e[i+9],4,-640364487),o=en(o,n,r,s,e[i+12],11,-421815835),s=en(s,o,n,r,e[i+15],16,530742520),r=en(r,s,o,n,e[i+2],23,-995338651),n=tn(n,r,s,o,e[i],6,-198630844),o=tn(o,n,r,s,e[i+7],10,1126891415),s=tn(s,o,n,r,e[i+14],15,-1416354905),r=tn(r,s,o,n,e[i+5],21,-57434055),n=tn(n,r,s,o,e[i+12],6,1700485571),o=tn(o,n,r,s,e[i+3],10,-1894986606),s=tn(s,o,n,r,e[i+10],15,-1051523),r=tn(r,s,o,n,e[i+1],21,-2054922799),n=tn(n,r,s,o,e[i+8],6,1873313359),o=tn(o,n,r,s,e[i+15],10,-30611744),s=tn(s,o,n,r,e[i+6],15,-1560198380),r=tn(r,s,o,n,e[i+13],21,1309151649),n=tn(n,r,s,o,e[i+4],6,-145523070),o=tn(o,n,r,s,e[i+11],10,-1120210379),s=tn(s,o,n,r,e[i+2],15,718787259),r=tn(r,s,o,n,e[i+9],21,-343485551),n=Hr(n,a),r=Hr(r,c),s=Hr(s,l),o=Hr(o,u)}return[n,r,s,o]}function NI(e){if(e.length===0)return[];for(var t=e.length*8,n=new Uint32Array(Qm(t)),r=0;r<t;r+=8)n[r>>5]|=(e[r/8]&255)<<r%32;return n}function Hr(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function OI(e,t){return e<<t|e>>>32-t}function xc(e,t,n,r,s,o){return Hr(OI(Hr(Hr(t,e),Hr(r,o)),s),n)}function Qt(e,t,n,r,s,o,i){return xc(t&n|~t&r,e,t,s,o,i)}function Xt(e,t,n,r,s,o,i){return xc(t&r|n&~r,e,t,s,o,i)}function en(e,t,n,r,s,o,i){return xc(t^n^r,e,t,s,o,i)}function tn(e,t,n,r,s,o,i){return xc(n^(t|~r),e,t,s,o,i)}var BI=Jm("v3",48,MI);function PI(e,t,n){e=e||{};var r=e.random||(e.rng||Gm)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=r[s];return t}return Ac(r)}function LI(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function Wu(e,t){return e<<t|e>>>32-t}function DI(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var r=unescape(encodeURIComponent(e));e=[];for(var s=0;s<r.length;++s)e.push(r.charCodeAt(s))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,i=Math.ceil(o/16),a=new Array(i),c=0;c<i;++c){for(var l=new Uint32Array(16),u=0;u<16;++u)l[u]=e[c*64+u*4]<<24|e[c*64+u*4+1]<<16|e[c*64+u*4+2]<<8|e[c*64+u*4+3];a[c]=l}a[i-1][14]=(e.length-1)*8/Math.pow(2,32),a[i-1][14]=Math.floor(a[i-1][14]),a[i-1][15]=(e.length-1)*8&4294967295;for(var h=0;h<i;++h){for(var g=new Uint32Array(80),p=0;p<16;++p)g[p]=a[h][p];for(var v=16;v<80;++v)g[v]=Wu(g[v-3]^g[v-8]^g[v-14]^g[v-16],1);for(var _=n[0],x=n[1],R=n[2],N=n[3],k=n[4],B=0;B<80;++B){var F=Math.floor(B/20),Z=Wu(_,5)+LI(F,x,R,N)+k+t[F]+g[B]>>>0;k=N,N=R,R=Wu(x,30)>>>0,x=_,_=Z}n[0]=n[0]+_>>>0,n[1]=n[1]+x>>>0,n[2]=n[2]+R>>>0,n[3]=n[3]+N>>>0,n[4]=n[4]+k>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var zI=Jm("v5",80,DI);const UI="00000000-0000-0000-0000-000000000000";function jI(e){if(!kc(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}const $I=Object.freeze(Object.defineProperty({__proto__:null,NIL:UI,parse:Ym,stringify:Ac,v1:AI,v3:BI,v4:PI,v5:zI,validate:kc,version:jI},Symbol.toStringTag,{value:"Module"})),Xm=Hf($I);var Hu,Bp;function FI(){if(Bp)return Hu;Bp=1;const e=Xm.v4;return Hu=function(n,r,s,o){if(typeof n!="string")throw new TypeError(n+" must be a string");o=o||{};const i=typeof o.version=="number"?o.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const a={method:n};if(i===2&&(a.jsonrpc="2.0"),r){if(typeof r!="object"&&!Array.isArray(r))throw new TypeError(r+" must be an object, array or omitted");a.params=r}if(typeof s>"u"){const c=typeof o.generator=="function"?o.generator:function(){return e()};a.id=c(a,o)}else i===2&&s===null?o.notificationIdNull&&(a.id=null):a.id=s;return a},Hu}var Ku,Pp;function WI(){if(Pp)return Ku;Pp=1;const e=Xm.v4,t=FI(),n=function(r,s){if(!(this instanceof n))return new n(r,s);s||(s={}),this.options={reviver:typeof s.reviver<"u"?s.reviver:null,replacer:typeof s.replacer<"u"?s.replacer:null,generator:typeof s.generator<"u"?s.generator:function(){return e()},version:typeof s.version<"u"?s.version:2,notificationIdNull:typeof s.notificationIdNull=="boolean"?s.notificationIdNull:!1},this.callServer=r};return Ku=n,n.prototype.request=function(r,s,o,i){const a=this;let c=null;const l=Array.isArray(r)&&typeof s=="function";if(this.options.version===1&&l)throw new TypeError("JSON-RPC 1.0 does not support batching");if(l||!l&&r&&typeof r=="object"&&typeof s=="function")i=s,c=r;else{typeof o=="function"&&(i=o,o=void 0);const g=typeof i=="function";try{c=t(r,s,o,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(p){if(g){i(p);return}throw p}if(!g)return c}let h;try{h=JSON.stringify(c,this.options.replacer)}catch(g){i(g);return}return this.callServer(h,function(g,p){a._parseResponse(g,p,i)}),c},n.prototype._parseResponse=function(r,s,o){if(r){o(r);return}if(!s){o();return}let i;try{i=JSON.parse(s,this.options.reviver)}catch(a){o(a);return}if(o.length===3)if(Array.isArray(i)){const a=function(l){return typeof l.error<"u"},c=function(l){return!a(l)};o(null,i.filter(a),i.filter(c));return}else{o(null,i.error,i.result);return}o(null,i)},Ku}var HI=WI();const KI=vc(HI);var Vu={exports:{}},Lp;function VI(){return Lp||(Lp=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function o(c,l,u,h,g){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new s(u,h||c,g),v=n?n+l:l;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],p]:c._events[v].push(p):(c._events[v]=p,c._eventsCount++),c}function i(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,h;if(this._eventsCount===0)return l;for(h in u=this._events)t.call(u,h)&&l.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=n?n+l:l,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,p=h.length,v=new Array(p);g<p;g++)v[g]=h[g].fn;return v},a.prototype.listenerCount=function(l){var u=n?n+l:l,h=this._events[u];return h?h.fn?1:h.length:0},a.prototype.emit=function(l,u,h,g,p,v){var _=n?n+l:l;if(!this._events[_])return!1;var x=this._events[_],R=arguments.length,N,k;if(x.fn){switch(x.once&&this.removeListener(l,x.fn,void 0,!0),R){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,h),!0;case 4:return x.fn.call(x.context,u,h,g),!0;case 5:return x.fn.call(x.context,u,h,g,p),!0;case 6:return x.fn.call(x.context,u,h,g,p,v),!0}for(k=1,N=new Array(R-1);k<R;k++)N[k-1]=arguments[k];x.fn.apply(x.context,N)}else{var B=x.length,F;for(k=0;k<B;k++)switch(x[k].once&&this.removeListener(l,x[k].fn,void 0,!0),R){case 1:x[k].fn.call(x[k].context);break;case 2:x[k].fn.call(x[k].context,u);break;case 3:x[k].fn.call(x[k].context,u,h);break;case 4:x[k].fn.call(x[k].context,u,h,g);break;default:if(!N)for(F=1,N=new Array(R-1);F<R;F++)N[F-1]=arguments[F];x[k].fn.apply(x[k].context,N)}}return!0},a.prototype.on=function(l,u,h){return o(this,l,u,h,!1)},a.prototype.once=function(l,u,h){return o(this,l,u,h,!0)},a.prototype.removeListener=function(l,u,h,g){var p=n?n+l:l;if(!this._events[p])return this;if(!u)return i(this,p),this;var v=this._events[p];if(v.fn)v.fn===u&&(!g||v.once)&&(!h||v.context===h)&&i(this,p);else{for(var _=0,x=[],R=v.length;_<R;_++)(v[_].fn!==u||g&&!v[_].once||h&&v[_].context!==h)&&x.push(v[_]);x.length?this._events[p]=x.length===1?x[0]:x:i(this,p)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&i(this,u)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(Vu)),Vu.exports}var qI=VI();const ew=vc(qI);var ZI=class extends ew{socket;constructor(e,t){super(),this.socket=new window.WebSocket(e,t.protocols),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=n=>this.emit("message",n.data),this.socket.onerror=n=>this.emit("error",n),this.socket.onclose=n=>{this.emit("close",n.code,n.reason)}}send(e,t,n){const r=n||t;try{this.socket.send(e),r()}catch(s){r(s)}}close(e,t){this.socket.close(e,t)}addEventListener(e,t,n){this.socket.addEventListener(e,t,n)}};function GI(e,t){return new ZI(e,t)}var YI=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}},JI=class extends ew{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(e,t="ws://localhost:8080",{autoconnect:n=!0,reconnect:r=!0,reconnect_interval:s=1e3,max_reconnects:o=5,...i}={},a,c){super(),this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=n,this.ready=!1,this.reconnect=r,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=o,this.rest_options=i,this.current_reconnects=0,this.generate_request_id=a||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),c?this.dataPack=c:this.dataPack=new YI,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,t,n,r){return!r&&typeof n=="object"&&(r=n,n=null),new Promise((s,o)=>{if(!this.ready)return o(new Error("socket not ready"));const i=this.generate_request_id(e,t),a={jsonrpc:"2.0",method:e,params:t||void 0,id:i};this.socket.send(this.dataPack.encode(a),r,c=>{if(c)return o(c);this.queue[i]={promise:[s,o]},n&&(this.queue[i].timeout=setTimeout(()=>{delete this.queue[i],o(new Error("reply timeout"))},n))})})}async login(e){const t=await this.call("rpc.login",e);if(!t)throw new Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(e,t){return new Promise((n,r)=>{if(!this.ready)return r(new Error("socket not ready"));const s={jsonrpc:"2.0",method:e,params:t};this.socket.send(this.dataPack.encode(s),o=>{if(o)return r(o);n()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const t=await this.call("rpc.on",e);if(typeof e=="string"&&t[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+t[e]);return t}async unsubscribe(e){typeof e=="string"&&(e=[e]);const t=await this.call("rpc.off",e);if(typeof e=="string"&&t[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+t);return t}close(e,t){this.socket&&this.socket.close(e||1e3,t)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return this.reconnect_timer_id!==void 0}willReconnect(){return this.reconnect&&(this.max_reconnects===0||this.current_reconnects<this.max_reconnects)}_connect(e,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:n})=>{n instanceof ArrayBuffer&&(n=Ne.Buffer.from(n).toString());try{n=this.dataPack.decode(n)}catch{return}if(n.notification&&this.listeners(n.notification).length){if(!Object.keys(n.params).length)return this.emit(n.notification);const r=[n.notification];if(n.params.constructor===Object)r.push(n.params);else for(let s=0;s<n.params.length;s++)r.push(n.params[s]);return Promise.resolve().then(()=>{this.emit.apply(this,r)})}if(!this.queue[n.id])return n.method?Promise.resolve().then(()=>{this.emit(n.method,n?.params)}):void 0;"error"in n=="result"in n&&this.queue[n.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[n.id].timeout&&clearTimeout(this.queue[n.id].timeout),n.error?this.queue[n.id].promise[1](n.error):this.queue[n.id].promise[0](n.result),delete this.queue[n.id]}),this.socket.addEventListener("error",n=>this.emit("error",n)),this.socket.addEventListener("close",({code:n,reason:r})=>{this.ready&&setTimeout(()=>this.emit("close",n,r),0),this.ready=!1,this.socket=void 0,n!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)?this.reconnect_timer_id=setTimeout(()=>this._connect(e,t),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",n,r),1))})}};const QI=BigInt(0),zo=BigInt(1),XI=BigInt(2),eT=BigInt(7),tT=BigInt(256),nT=BigInt(113),tw=[],nw=[],rw=[];for(let e=0,t=zo,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],tw.push(2*(5*r+n)),nw.push((e+1)*(e+2)/2%64);let s=QI;for(let o=0;o<7;o++)t=(t<<zo^(t>>eT)*nT)%tT,t&XI&&(s^=zo<<(zo<<BigInt(o))-zo);rw.push(s)}const sw=wm(rw,!0),rT=sw[0],sT=sw[1],Dp=(e,t,n)=>n>32?WA(e,t,n):$A(e,t,n),zp=(e,t,n)=>n>32?HA(e,t,n):FA(e,t,n);function oT(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const a=(i+8)%10,c=(i+2)%10,l=n[c],u=n[c+1],h=Dp(l,u,1)^n[a],g=zp(l,u,1)^n[a+1];for(let p=0;p<50;p+=10)e[i+p]^=h,e[i+p+1]^=g}let s=e[2],o=e[3];for(let i=0;i<24;i++){const a=nw[i],c=Dp(s,o,a),l=zp(s,o,a),u=tw[i];s=e[u],o=e[u+1],e[u]=c,e[u+1]=l}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)n[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=rT[r],e[1]^=sT[r]}Gr(n)}class rh extends Vf{constructor(t,n,r,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,hi(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=CA(this.state)}clone(){return this._cloneInto()}keccak(){fp(this.state32),oT(this.state32,this.rounds),fp(this.state32),this.posOut=0,this.pos=0}update(t){wo(this),t=_c(t),xr(t);const{blockLen:n,state:r}=this,s=t.length;for(let o=0;o<s;){const i=Math.min(n-this.pos,s-o);for(let a=0;a<i;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,(n&128)!==0&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){wo(this,!1),xr(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return hi(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(gm(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Gr(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new rh(n,r,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}}const iT=(e,t,n)=>qf(()=>new rh(t,e,n)),Up=iT(1,136,256/8);class ow extends Vf{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,pm(t);const r=_c(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),Gr(o)}update(t){return wo(this),this.iHash.update(t),this}digestInto(t){wo(this),xr(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const iw=(e,t,n)=>new ow(e,t).update(n).digest();iw.create=(e,t)=>new ow(e,t);const jp=(e,t)=>(e+(e>=0?t:-t)/aw)/t;function aT(e,t,n){const[[r,s],[o,i]]=t,a=jp(i*e,n),c=jp(-s*e,n);let l=e-a*r-c*o,u=-a*s-c*i;const h=l<_r,g=u<_r;h&&(l=-l),g&&(u=-u);const p=Ti(Math.ceil(Em(n)/2))+oo;if(l<_r||l>=p||u<_r||u>=p)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:h,k1:l,k2neg:g,k2:u}}function Vl(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function qu(e,t){const n={};for(let r of Object.keys(t))n[r]=e[r]===void 0?t[r]:e[r];return As(n.lowS,"lowS"),As(n.prehash,"prehash"),n.format!==void 0&&Vl(n.format),n}class cT extends Error{constructor(t=""){super(t)}}const mr={Err:cT,_tlv:{encode:(e,t)=>{const{Err:n}=mr;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=Ji(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?Ji(s.length/2|128):"";return Ji(e)+o+s+t},decode(e,t){const{Err:n}=mr;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],o=!!(s&128);let i=0;if(!o)i=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=t.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)i=i<<8|u;if(r+=c,i<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+i);if(a.length!==i)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+i)}}},_int:{encode(e){const{Err:t}=mr;if(e<_r)throw new t("integer: negative integers are not allowed");let n=Ji(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=mr;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Sc(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=mr,s=pt("signature",e),{v:o,l:i}=r.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,o),{v:l,l:u}=r.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=mr,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),o=r+s;return t.encode(48,o)}},_r=BigInt(0),oo=BigInt(1),aw=BigInt(2),ea=BigInt(3),uT=BigInt(4);function Zs(e,t){const{BYTES:n}=e;let r;if(typeof t=="bigint")r=t;else{let s=pt("private key",t);try{r=e.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function lT(e,t={}){const n=Um("weierstrass",e,t),{Fp:r,Fn:s}=n;let o=n.CURVE;const{h:i,n:a}=o;Mi(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=t;if(c&&(!r.is0(o.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const l=uw(r,s);function u(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function h(j,E,f){const{x:w,y:S}=E.toAffine(),I=r.toBytes(w);if(As(f,"isCompressed"),f){u();const M=!r.isOdd(S);return Jn(cw(M),I)}else return Jn(Uint8Array.of(4),I,r.toBytes(S))}function g(j){Pn(j,void 0,"Point");const{publicKey:E,publicKeyUncompressed:f}=l,w=j.length,S=j[0],I=j.subarray(1);if(w===E&&(S===2||S===3)){const M=r.fromBytes(I);if(!r.isValid(M))throw new Error("bad point: is not on curve, wrong x");const U=_(M);let K;try{K=r.sqrt(U)}catch(y){const T=y instanceof Error?": "+y.message:"";throw new Error("bad point: is not on curve, sqrt error"+T)}u();const C=r.isOdd(K);return(S&1)===1!==C&&(K=r.neg(K)),{x:M,y:K}}else if(w===f&&S===4){const M=r.BYTES,U=r.fromBytes(I.subarray(0,M)),K=r.fromBytes(I.subarray(M,M*2));if(!x(U,K))throw new Error("bad point: is not on curve");return{x:U,y:K}}else throw new Error(`bad point: got length ${w}, expected compressed=${E} or uncompressed=${f}`)}const p=t.toBytes||h,v=t.fromBytes||g;function _(j){const E=r.sqr(j),f=r.mul(E,j);return r.add(r.add(f,r.mul(j,o.a)),o.b)}function x(j,E){const f=r.sqr(E),w=_(j);return r.eql(f,w)}if(!x(o.Gx,o.Gy))throw new Error("bad curve params: generator point");const R=r.mul(r.pow(o.a,ea),uT),N=r.mul(r.sqr(o.b),BigInt(27));if(r.is0(r.add(R,N)))throw new Error("bad curve params: a or b");function k(j,E,f=!1){if(!r.isValid(E)||f&&r.is0(E))throw new Error(`bad point coordinate ${j}`);return E}function B(j){if(!(j instanceof P))throw new Error("ProjectivePoint expected")}function F(j){if(!c||!c.basises)throw new Error("no endo");return aT(j,c.basises,s.ORDER)}const Z=Wa((j,E)=>{const{X:f,Y:w,Z:S}=j;if(r.eql(S,r.ONE))return{x:f,y:w};const I=j.is0();E==null&&(E=I?r.ONE:r.inv(S));const M=r.mul(f,E),U=r.mul(w,E),K=r.mul(S,E);if(I)return{x:r.ZERO,y:r.ZERO};if(!r.eql(K,r.ONE))throw new Error("invZ was invalid");return{x:M,y:U}}),te=Wa(j=>{if(j.is0()){if(t.allowInfinityPoint&&!r.is0(j.Y))return;throw new Error("bad point: ZERO")}const{x:E,y:f}=j.toAffine();if(!r.isValid(E)||!r.isValid(f))throw new Error("bad point: x or y not field elements");if(!x(E,f))throw new Error("bad point: equation left != right");if(!j.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function oe(j,E,f,w,S){return f=new P(r.mul(f.X,j),f.Y,f.Z),E=Ha(w,E),f=Ha(S,f),E.add(f)}class P{constructor(E,f,w){this.X=k("x",E),this.Y=k("y",f,!0),this.Z=k("z",w),Object.freeze(this)}static CURVE(){return o}static fromAffine(E){const{x:f,y:w}=E||{};if(!E||!r.isValid(f)||!r.isValid(w))throw new Error("invalid affine point");if(E instanceof P)throw new Error("projective point not allowed");return r.is0(f)&&r.is0(w)?P.ZERO:new P(f,w,r.ONE)}static fromBytes(E){const f=P.fromAffine(v(Pn(E,void 0,"point")));return f.assertValidity(),f}static fromHex(E){return P.fromBytes(pt("pointHex",E))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(E=8,f=!0){return V.createCache(this,E),f||this.multiply(ea),this}assertValidity(){te(this)}hasEvenY(){const{y:E}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(E)}equals(E){B(E);const{X:f,Y:w,Z:S}=this,{X:I,Y:M,Z:U}=E,K=r.eql(r.mul(f,U),r.mul(I,S)),C=r.eql(r.mul(w,U),r.mul(M,S));return K&&C}negate(){return new P(this.X,r.neg(this.Y),this.Z)}double(){const{a:E,b:f}=o,w=r.mul(f,ea),{X:S,Y:I,Z:M}=this;let U=r.ZERO,K=r.ZERO,C=r.ZERO,d=r.mul(S,S),y=r.mul(I,I),T=r.mul(M,M),L=r.mul(S,I);return L=r.add(L,L),C=r.mul(S,M),C=r.add(C,C),U=r.mul(E,C),K=r.mul(w,T),K=r.add(U,K),U=r.sub(y,K),K=r.add(y,K),K=r.mul(U,K),U=r.mul(L,U),C=r.mul(w,C),T=r.mul(E,T),L=r.sub(d,T),L=r.mul(E,L),L=r.add(L,C),C=r.add(d,d),d=r.add(C,d),d=r.add(d,T),d=r.mul(d,L),K=r.add(K,d),T=r.mul(I,M),T=r.add(T,T),d=r.mul(T,L),U=r.sub(U,d),C=r.mul(T,y),C=r.add(C,C),C=r.add(C,C),new P(U,K,C)}add(E){B(E);const{X:f,Y:w,Z:S}=this,{X:I,Y:M,Z:U}=E;let K=r.ZERO,C=r.ZERO,d=r.ZERO;const y=o.a,T=r.mul(o.b,ea);let L=r.mul(f,I),G=r.mul(w,M),H=r.mul(S,U),ne=r.add(f,w),re=r.add(I,M);ne=r.mul(ne,re),re=r.add(L,G),ne=r.sub(ne,re),re=r.add(f,S);let pe=r.add(I,U);return re=r.mul(re,pe),pe=r.add(L,H),re=r.sub(re,pe),pe=r.add(w,S),K=r.add(M,U),pe=r.mul(pe,K),K=r.add(G,H),pe=r.sub(pe,K),d=r.mul(y,re),K=r.mul(T,H),d=r.add(K,d),K=r.sub(G,d),d=r.add(G,d),C=r.mul(K,d),G=r.add(L,L),G=r.add(G,L),H=r.mul(y,H),re=r.mul(T,re),G=r.add(G,H),H=r.sub(L,H),H=r.mul(y,H),re=r.add(re,H),L=r.mul(G,re),C=r.add(C,L),L=r.mul(pe,re),K=r.mul(ne,K),K=r.sub(K,L),L=r.mul(ne,G),d=r.mul(pe,d),d=r.add(d,L),new P(K,C,d)}subtract(E){return this.add(E.negate())}is0(){return this.equals(P.ZERO)}multiply(E){const{endo:f}=t;if(!s.isValidNot0(E))throw new Error("invalid scalar: out of range");let w,S;const I=M=>V.cached(this,M,U=>ps(P,U));if(f){const{k1neg:M,k1:U,k2neg:K,k2:C}=F(E),{p:d,f:y}=I(U),{p:T,f:L}=I(C);S=y.add(L),w=oe(f.beta,d,T,M,K)}else{const{p:M,f:U}=I(E);w=M,S=U}return ps(P,[w,S])[0]}multiplyUnsafe(E){const{endo:f}=t,w=this;if(!s.isValid(E))throw new Error("invalid scalar: out of range");if(E===_r||w.is0())return P.ZERO;if(E===oo)return w;if(V.hasCache(this))return this.multiply(E);if(f){const{k1neg:S,k1:I,k2neg:M,k2:U}=F(E),{p1:K,p2:C}=mx(P,w,I,U);return oe(f.beta,K,C,S,M)}else return V.unsafe(w,E)}multiplyAndAddUnsafe(E,f,w){const S=this.multiplyUnsafe(f).add(E.multiplyUnsafe(w));return S.is0()?void 0:S}toAffine(E){return Z(this,E)}isTorsionFree(){const{isTorsionFree:E}=t;return i===oo?!0:E?E(P,this):V.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:E}=t;return i===oo?this:E?E(P,this):this.multiplyUnsafe(i)}isSmallOrder(){return this.multiplyUnsafe(i).is0()}toBytes(E=!0){return As(E,"isCompressed"),this.assertValidity(),p(P,this,E)}toHex(E=!0){return _s(this.toBytes(E))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(E=!0){return this.toBytes(E)}_setWindowSize(E){this.precompute(E)}static normalizeZ(E){return ps(P,E)}static msm(E,f){return zm(P,s,E,f)}static fromPrivateKey(E){return P.BASE.multiply(Zs(s,E))}}P.BASE=new P(o.Gx,o.Gy,r.ONE),P.ZERO=new P(r.ZERO,r.ONE,r.ZERO),P.Fp=r,P.Fn=s;const D=s.BITS,V=new Dm(P,t.endo?Math.ceil(D/2):D);return P.BASE.precompute(8),P}function cw(e){return Uint8Array.of(e?2:3)}function uw(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function fT(e,t={}){const{Fn:n}=e,r=t.randomBytes||Zf,s=Object.assign(uw(e.Fp,n),{seed:Bm(n.ORDER)});function o(p){try{return!!Zs(n,p)}catch{return!1}}function i(p,v){const{publicKey:_,publicKeyUncompressed:x}=s;try{const R=p.length;return v===!0&&R!==_||v===!1&&R!==x?!1:!!e.fromBytes(p)}catch{return!1}}function a(p=r(s.seed)){return px(Pn(p,s.seed,"seed"),n.ORDER)}function c(p,v=!0){return e.BASE.multiply(Zs(n,p)).toBytes(v)}function l(p){const v=a(p);return{secretKey:v,publicKey:c(v)}}function u(p){if(typeof p=="bigint")return!1;if(p instanceof e)return!0;const{secretKey:v,publicKey:_,publicKeyUncompressed:x}=s;if(n.allowedLengths||v===_)return;const R=pt("key",p).length;return R===_||R===x}function h(p,v,_=!0){if(u(p)===!0)throw new Error("first arg must be private key");if(u(v)===!1)throw new Error("second arg must be public key");const x=Zs(n,p);return e.fromHex(v).multiply(x).toBytes(_)}return Object.freeze({getPublicKey:c,getSharedSecret:h,keygen:l,Point:e,utils:{isValidSecretKey:o,isValidPublicKey:i,randomSecretKey:a,isValidPrivateKey:o,randomPrivateKey:a,normPrivateKeyToScalar:p=>Zs(n,p),precompute(p=8,v=e.BASE){return v.precompute(p,!1)}},lengths:s})}function hT(e,t,n={}){pm(t),Mi(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||Zf,s=n.hmac||((f,...w)=>iw(t,f,Jn(...w))),{Fp:o,Fn:i}=e,{ORDER:a,BITS:c}=i,{keygen:l,getPublicKey:u,getSharedSecret:h,utils:g,lengths:p}=fT(e,n),v={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},_="compact";function x(f){const w=a>>oo;return f>w}function R(f,w){if(!i.isValidNot0(w))throw new Error(`invalid signature ${f}: out of range 1..Point.Fn.ORDER`);return w}function N(f,w){Vl(w);const S=p.signature,I=w==="compact"?S:w==="recovered"?S+1:void 0;return Pn(f,I,`${w} signature`)}class k{constructor(w,S,I){this.r=R("r",w),this.s=R("s",S),I!=null&&(this.recovery=I),Object.freeze(this)}static fromBytes(w,S=_){N(w,S);let I;if(S==="der"){const{r:C,s:d}=mr.toSig(Pn(w));return new k(C,d)}S==="recovered"&&(I=w[0],S="compact",w=w.subarray(1));const M=i.BYTES,U=w.subarray(0,M),K=w.subarray(M,M*2);return new k(i.fromBytes(U),i.fromBytes(K),I)}static fromHex(w,S){return this.fromBytes(Fa(w),S)}addRecoveryBit(w){return new k(this.r,this.s,w)}recoverPublicKey(w){const S=o.ORDER,{r:I,s:M,recovery:U}=this;if(U==null||![0,1,2,3].includes(U))throw new Error("recovery id invalid");if(a*aw<S&&U>1)throw new Error("recovery id is ambiguous for h>1 curve");const C=U===2||U===3?I+a:I;if(!o.isValid(C))throw new Error("recovery id 2 or 3 invalid");const d=o.toBytes(C),y=e.fromBytes(Jn(cw((U&1)===0),d)),T=i.inv(C),L=F(pt("msgHash",w)),G=i.create(-L*T),H=i.create(M*T),ne=e.BASE.multiplyUnsafe(G).add(y.multiplyUnsafe(H));if(ne.is0())throw new Error("point at infinify");return ne.assertValidity(),ne}hasHighS(){return x(this.s)}toBytes(w=_){if(Vl(w),w==="der")return Fa(mr.hexFromSig(this));const S=i.toBytes(this.r),I=i.toBytes(this.s);if(w==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Jn(Uint8Array.of(this.recovery),S,I)}return Jn(S,I)}toHex(w){return _s(this.toBytes(w))}assertValidity(){}static fromCompact(w){return k.fromBytes(pt("sig",w),"compact")}static fromDER(w){return k.fromBytes(pt("sig",w),"der")}normalizeS(){return this.hasHighS()?new k(this.r,i.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return _s(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return _s(this.toBytes("compact"))}}const B=n.bits2int||function(w){if(w.length>8192)throw new Error("input is too large");const S=Sc(w),I=w.length*8-c;return I>0?S>>BigInt(I):S},F=n.bits2int_modN||function(w){return i.create(B(w))},Z=Ti(c);function te(f){return Kl("num < 2^"+c,f,_r,Z),i.toBytes(f)}function oe(f,w){return Pn(f,void 0,"message"),w?Pn(t(f),void 0,"prehashed message"):f}function P(f,w,S){if(["recovered","canonical"].some(G=>G in S))throw new Error("sign() legacy options not supported");const{lowS:I,prehash:M,extraEntropy:U}=qu(S,v);f=oe(f,M);const K=F(f),C=Zs(i,w),d=[te(C),te(K)];if(U!=null&&U!==!1){const G=U===!0?r(p.secretKey):U;d.push(pt("extraEntropy",G))}const y=Jn(...d),T=K;function L(G){const H=B(G);if(!i.isValidNot0(H))return;const ne=i.inv(H),re=e.BASE.multiply(H).toAffine(),pe=i.create(re.x);if(pe===_r)return;const Ee=i.create(ne*i.create(T+pe*C));if(Ee===_r)return;let Re=(re.x===pe?0:2)|Number(re.y&oo),z=Ee;return I&&x(Ee)&&(z=i.neg(Ee),Re^=1),new k(pe,z,Re)}return{seed:y,k2sig:L}}function D(f,w,S={}){f=pt("message",f);const{seed:I,k2sig:M}=P(f,w,S);return sx(t.outputLen,i.BYTES,s)(I,M)}function V(f){let w;const S=typeof f=="string"||Ii(f),I=!S&&f!==null&&typeof f=="object"&&typeof f.r=="bigint"&&typeof f.s=="bigint";if(!S&&!I)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(I)w=new k(f.r,f.s);else if(S){try{w=k.fromBytes(pt("sig",f),"der")}catch(M){if(!(M instanceof mr.Err))throw M}if(!w)try{w=k.fromBytes(pt("sig",f),"compact")}catch{return!1}}return w||!1}function j(f,w,S,I={}){const{lowS:M,prehash:U,format:K}=qu(I,v);if(S=pt("publicKey",S),w=oe(pt("message",w),U),"strict"in I)throw new Error("options.strict was renamed to lowS");const C=K===void 0?V(f):k.fromBytes(pt("sig",f),K);if(C===!1)return!1;try{const d=e.fromBytes(S);if(M&&C.hasHighS())return!1;const{r:y,s:T}=C,L=F(w),G=i.inv(T),H=i.create(L*G),ne=i.create(y*G),re=e.BASE.multiplyUnsafe(H).add(d.multiplyUnsafe(ne));return re.is0()?!1:i.create(re.x)===y}catch{return!1}}function E(f,w,S={}){const{prehash:I}=qu(S,v);return w=oe(w,I),k.fromBytes(f,"recovered").recoverPublicKey(w).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:h,utils:g,lengths:p,Point:e,sign:D,verify:j,recoverPublicKey:E,Signature:k,hash:t})}function dT(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp;let r=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(i=>Math.ceil(i/2)))):void 0;const s=Rs(t.n,{BITS:e.nBitLength,allowedLengths:r,modFromBytes:e.wrapPrivateKey}),o={Fp:n,Fn:s,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:o}}function pT(e){const{CURVE:t,curveOpts:n}=dT(e),r={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,hash:e.hash,ecdsaOpts:r}}function gT(e,t){const n=t.Point;return Object.assign({},t,{ProjectivePoint:n,CURVE:Object.assign({},e,Nm(n.Fn.ORDER,n.Fn.BITS))})}function yT(e){const{CURVE:t,curveOpts:n,hash:r,ecdsaOpts:s}=pT(e),o=lT(t,n),i=hT(o,r,s);return gT(e,i)}function mT(e,t){const n=r=>yT({...e,hash:r});return{...n(t),create:n}}const sh={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},wT={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},$p=BigInt(2);function bT(e){const t=sh.p,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,h=dt(u,n,t)*u%t,g=dt(h,n,t)*u%t,p=dt(g,$p,t)*l%t,v=dt(p,s,t)*p%t,_=dt(v,o,t)*v%t,x=dt(_,a,t)*_%t,R=dt(x,c,t)*x%t,N=dt(R,a,t)*_%t,k=dt(N,n,t)*u%t,B=dt(k,i,t)*v%t,F=dt(B,r,t)*l%t,Z=dt(F,$p,t);if(!ql.eql(ql.sqr(Z),e))throw new Error("Cannot find square root");return Z}const ql=Rs(sh.p,{sqrt:bT}),oh=mT({...sh,Fp:ql,lowS:!0,endo:wT},vm),vT=Io.utils.randomPrivateKey,Fp=()=>{const e=Io.utils.randomPrivateKey(),t=Ya(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),{publicKey:t,secretKey:n}},Ya=Io.getPublicKey;function Wp(e){try{return Io.ExtendedPoint.fromHex(e),!0}catch{return!1}}const ih=(e,t)=>Io.sign(e,t.slice(0,32)),_T=Io.verify,ze=e=>Ne.Buffer.isBuffer(e)?e:e instanceof Uint8Array?Ne.Buffer.from(e.buffer,e.byteOffset,e.byteLength):Ne.Buffer.from(e);class ah{constructor(t){Object.assign(this,t)}encode(){return Ne.Buffer.from(zu.serialize(ni,this))}static decode(t){return zu.deserialize(ni,this,t)}static decodeUnchecked(t){return zu.deserializeUnchecked(ni,this,t)}}class ST extends ah{constructor(t){if(super(t),this.enum="",Object.keys(t).length!==1)throw new Error("Enum can only take single value");Object.keys(t).map(n=>{this.enum=n})}}const ni=new Map;var lw;const fw=32,sr=32;function ET(e){return e._bn!==void 0}let Hp=1;class ye extends ah{constructor(t){if(super({}),this._bn=void 0,ET(t))this._bn=t._bn;else{if(typeof t=="string"){const n=Vt.decode(t);if(n.length!=sr)throw new Error("Invalid public key input");this._bn=new Ap(n)}else this._bn=new Ap(t);if(this._bn.byteLength()>sr)throw new Error("Invalid public key input")}}static unique(){const t=new ye(Hp);return Hp+=1,new ye(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return Vt.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(Ne.Buffer);if(t.length===sr)return t;const n=Ne.Buffer.alloc(32);return t.copy(n,32-t.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,n,r){const s=Ne.Buffer.concat([t.toBuffer(),Ne.Buffer.from(n),r.toBuffer()]),o=Mp(s);return new ye(o)}static createProgramAddressSync(t,n){let r=Ne.Buffer.alloc(0);t.forEach(function(o){if(o.length>fw)throw new TypeError("Max seed length exceeded");r=Ne.Buffer.concat([r,ze(o)])}),r=Ne.Buffer.concat([r,n.toBuffer(),Ne.Buffer.from("ProgramDerivedAddress")]);const s=Mp(r);if(Wp(s))throw new Error("Invalid seeds, address must fall off the curve");return new ye(s)}static async createProgramAddress(t,n){return this.createProgramAddressSync(t,n)}static findProgramAddressSync(t,n){let r=255,s;for(;r!=0;){try{const o=t.concat(Ne.Buffer.from([r]));s=this.createProgramAddressSync(o,n)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,n){return this.findProgramAddressSync(t,n)}static isOnCurve(t){const n=new ye(t);return Wp(n.toBytes())}}lw=ye;ye.default=new lw("11111111111111111111111111111111");ni.set(ye,{kind:"struct",fields:[["_bn","u256"]]});class kT{constructor(t){if(this._publicKey=void 0,this._secretKey=void 0,t){const n=ze(t);if(t.length!==64)throw new Error("bad secret key size");this._publicKey=n.slice(32,64),this._secretKey=n.slice(0,32)}else this._secretKey=ze(vT()),this._publicKey=ze(Ya(this._secretKey))}get publicKey(){return new ye(this._publicKey)}get secretKey(){return Ne.Buffer.concat([this._secretKey,this._publicKey],64)}}const AT=new ye("BPFLoader1111111111111111111111111111111111"),Zr=1232,Ic=127,pi=64;class ch extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(ch.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class uh extends Error{constructor(t,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(uh.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Gs extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Gs.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class gi{constructor(t,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=n}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const n of this.keySegments()){if(t<n.length)return n[t];t-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((o,i)=>{r.set(o.toBase58(),i)});const s=o=>{const i=r.get(o.toBase58());if(i===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return i};return t.map(o=>({programIdIndex:s(o.programId),accountKeyIndexes:o.keys.map(i=>s(i.pubkey)),data:o.data}))}}const Ue=(e="publicKey")=>W.blob(32,e),xT=(e="signature")=>W.blob(64,e),gs=(e="string")=>{const t=W.struct([W.u32("length"),W.u32("lengthPadding"),W.blob(W.offset(W.u32(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t),s=t;return s.decode=(o,i)=>n(o,i).chars.toString(),s.encode=(o,i,a)=>{const c={chars:Ne.Buffer.from(o,"utf8")};return r(c,i,a)},s.alloc=o=>W.u32().span+W.u32().span+Ne.Buffer.from(o,"utf8").length,s},IT=(e="authorized")=>W.struct([Ue("staker"),Ue("withdrawer")],e),TT=(e="lockup")=>W.struct([W.ns64("unixTimestamp"),W.ns64("epoch"),Ue("custodian")],e),MT=(e="voteInit")=>W.struct([Ue("nodePubkey"),Ue("authorizedVoter"),Ue("authorizedWithdrawer"),W.u8("commission")],e),RT=(e="voteAuthorizeWithSeedArgs")=>W.struct([W.u32("voteAuthorizationType"),Ue("currentAuthorityDerivedKeyOwnerPubkey"),gs("currentAuthorityDerivedKeySeed"),Ue("newAuthorized")],e);function hw(e,t){const n=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(t[s.property]);if("count"in s&&"elementLayout"in s){const o=t[s.property];if(Array.isArray(o))return o.length*n(s.elementLayout)}else if("fields"in s)return hw({layout:s},t[s.property]);return 0};let r=0;return e.layout.fields.forEach(s=>{r+=n(s)}),r}function pn(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(r&127)<<n*7,n+=1,(r&128)===0)break}return t}function bn(e,t){let n=t;for(;;){let r=n&127;if(n>>=7,n==0){e.push(r);break}else r|=128,e.push(r)}}function We(e,t){if(!e)throw new Error(t||"Assertion failed")}class Tc{constructor(t,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=n}static compile(t,n){const r=new Map,s=i=>{const a=i.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},o=s(n);o.isSigner=!0,o.isWritable=!0;for(const i of t){s(i.programId).isInvoked=!0;for(const a of i.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new Tc(n,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];We(t.length<=256,"Max static account keys length exceeded");const n=t.filter(([,c])=>c.isSigner&&c.isWritable),r=t.filter(([,c])=>c.isSigner&&!c.isWritable),s=t.filter(([,c])=>!c.isSigner&&c.isWritable),o=t.filter(([,c])=>!c.isSigner&&!c.isWritable),i={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:o.length};{We(n.length>0,"Expected at least one writable signer key");const[c]=n[0];We(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([c])=>new ye(c)),...r.map(([c])=>new ye(c)),...s.map(([c])=>new ye(c)),...o.map(([c])=>new ye(c))];return[i,a]}extractTableLookup(t){const[n,r]=this.drainKeysFoundInLookupTable(t.state.addresses,i=>!i.isSigner&&!i.isInvoked&&i.isWritable),[s,o]=this.drainKeysFoundInLookupTable(t.state.addresses,i=>!i.isSigner&&!i.isInvoked&&!i.isWritable);if(!(n.length===0&&s.length===0))return[{accountKey:t.key,writableIndexes:n,readonlyIndexes:s},{writable:r,readonly:o}]}drainKeysFoundInLookupTable(t,n){const r=new Array,s=new Array;for(const[o,i]of this.keyMetaMap.entries())if(n(i)){const a=new ye(o),c=t.findIndex(l=>l.equals(a));c>=0&&(We(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(o))}return[r,s]}}const dw="Reached end of buffer unexpectedly";function Qn(e){if(e.length===0)throw new Error(dw);return e.shift()}function gn(e,...t){const[n]=t;if(t.length===2?n+(t[1]??0)>e.length:n>=e.length)throw new Error(dw);return e.splice(...t)}class Wn{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(n=>new ye(n)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Vt.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new gi(this.staticAccountKeys)}static compile(t){const n=Tc.compile(t.instructions,t.payerKey),[r,s]=n.getMessageComponents(),i=new gi(s).compileInstructions(t.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Vt.encode(a.data)}));return new Wn({header:r,accountKeys:s,recentBlockhash:t.recentBlockhash,instructions:i})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const r=t-n,o=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<o}else{const r=n-this.header.numReadonlySignedAccounts;return t<r}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,n)=>!this.isProgramId(n))}serialize(){const t=this.accountKeys.length;let n=[];bn(n,t);const r=this.instructions.map(h=>{const{accounts:g,programIdIndex:p}=h,v=Array.from(Vt.decode(h.data));let _=[];bn(_,g.length);let x=[];return bn(x,v.length),{programIdIndex:p,keyIndicesCount:Ne.Buffer.from(_),keyIndices:g,dataLength:Ne.Buffer.from(x),data:v}});let s=[];bn(s,r.length);let o=Ne.Buffer.alloc(Zr);Ne.Buffer.from(s).copy(o);let i=s.length;r.forEach(h=>{const p=W.struct([W.u8("programIdIndex"),W.blob(h.keyIndicesCount.length,"keyIndicesCount"),W.seq(W.u8("keyIndex"),h.keyIndices.length,"keyIndices"),W.blob(h.dataLength.length,"dataLength"),W.seq(W.u8("userdatum"),h.data.length,"data")]).encode(h,o,i);i+=p}),o=o.slice(0,i);const a=W.struct([W.blob(1,"numRequiredSignatures"),W.blob(1,"numReadonlySignedAccounts"),W.blob(1,"numReadonlyUnsignedAccounts"),W.blob(n.length,"keyCount"),W.seq(Ue("key"),t,"keys"),Ue("recentBlockhash")]),c={numRequiredSignatures:Ne.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Ne.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Ne.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Ne.Buffer.from(n),keys:this.accountKeys.map(h=>ze(h.toBytes())),recentBlockhash:Vt.decode(this.recentBlockhash)};let l=Ne.Buffer.alloc(2048);const u=a.encode(c,l);return o.copy(l,u),l.slice(0,u+o.length)}static from(t){let n=[...t];const r=Qn(n);if(r!==(r&Ic))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=Qn(n),o=Qn(n),i=pn(n);let a=[];for(let g=0;g<i;g++){const p=gn(n,0,sr);a.push(new ye(Ne.Buffer.from(p)))}const c=gn(n,0,sr),l=pn(n);let u=[];for(let g=0;g<l;g++){const p=Qn(n),v=pn(n),_=gn(n,0,v),x=pn(n),R=gn(n,0,x),N=Vt.encode(Ne.Buffer.from(R));u.push({programIdIndex:p,accounts:_,data:N})}const h={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:o},recentBlockhash:Vt.encode(Ne.Buffer.from(c)),accountKeys:a,instructions:u};return new Wn(h)}}class xs{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const n of this.addressTableLookups)t+=n.readonlyIndexes.length+n.writableIndexes.length;return t}getAccountKeys(t){let n;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)n=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new gi(this.staticAccountKeys,n)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(t>=r){const s=t-r,o=this.addressTableLookups.reduce((i,a)=>i+a.writableIndexes.length,0);return s<o}else if(t>=this.header.numRequiredSignatures){const s=t-n,i=r-n-this.header.numReadonlyUnsignedAccounts;return s<i}else{const s=n-this.header.numReadonlySignedAccounts;return t<s}}resolveAddressTableLookups(t){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=t.find(o=>o.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const o of r.writableIndexes)if(o<s.state.addresses.length)n.writable.push(s.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`);for(const o of r.readonlyIndexes)if(o<s.state.addresses.length)n.readonly.push(s.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(t){const n=Tc.compile(t.instructions,t.payerKey),r=new Array,s={writable:new Array,readonly:new Array},o=t.addressLookupTableAccounts||[];for(const u of o){const h=n.extractTableLookup(u);if(h!==void 0){const[g,{writable:p,readonly:v}]=h;r.push(g),s.writable.push(...p),s.readonly.push(...v)}}const[i,a]=n.getMessageComponents(),l=new gi(a,s).compileInstructions(t.instructions);return new xs({header:i,staticAccountKeys:a,recentBlockhash:t.recentBlockhash,compiledInstructions:l,addressTableLookups:r})}serialize(){const t=Array();bn(t,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();bn(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),o=Array();bn(o,this.addressTableLookups.length);const i=W.struct([W.u8("prefix"),W.struct([W.u8("numRequiredSignatures"),W.u8("numReadonlySignedAccounts"),W.u8("numReadonlyUnsignedAccounts")],"header"),W.blob(t.length,"staticAccountKeysLength"),W.seq(Ue(),this.staticAccountKeys.length,"staticAccountKeys"),Ue("recentBlockhash"),W.blob(r.length,"instructionsLength"),W.blob(n.length,"serializedInstructions"),W.blob(o.length,"addressTableLookupsLength"),W.blob(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(Zr),l=i.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(u=>u.toBytes()),recentBlockhash:Vt.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:s},a);return a.slice(0,l)}serializeInstructions(){let t=0;const n=new Uint8Array(Zr);for(const r of this.compiledInstructions){const s=Array();bn(s,r.accountKeyIndexes.length);const o=Array();bn(o,r.data.length);const i=W.struct([W.u8("programIdIndex"),W.blob(s.length,"encodedAccountKeyIndexesLength"),W.seq(W.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),W.blob(o.length,"encodedDataLength"),W.blob(r.data.length,"data")]);t+=i.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:r.data},n,t)}return n.slice(0,t)}serializeAddressTableLookups(){let t=0;const n=new Uint8Array(Zr);for(const r of this.addressTableLookups){const s=Array();bn(s,r.writableIndexes.length);const o=Array();bn(o,r.readonlyIndexes.length);const i=W.struct([Ue("accountKey"),W.blob(s.length,"encodedWritableIndexesLength"),W.seq(W.u8(),r.writableIndexes.length,"writableIndexes"),W.blob(o.length,"encodedReadonlyIndexesLength"),W.seq(W.u8(),r.readonlyIndexes.length,"readonlyIndexes")]);t+=i.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:r.readonlyIndexes},n,t)}return n.slice(0,t)}static deserialize(t){let n=[...t];const r=Qn(n),s=r&Ic;We(r!==s,"Expected versioned message but received legacy message");const o=s;We(o===0,`Expected versioned message with version 0 but found version ${o}`);const i={numRequiredSignatures:Qn(n),numReadonlySignedAccounts:Qn(n),numReadonlyUnsignedAccounts:Qn(n)},a=[],c=pn(n);for(let v=0;v<c;v++)a.push(new ye(gn(n,0,sr)));const l=Vt.encode(gn(n,0,sr)),u=pn(n),h=[];for(let v=0;v<u;v++){const _=Qn(n),x=pn(n),R=gn(n,0,x),N=pn(n),k=new Uint8Array(gn(n,0,N));h.push({programIdIndex:_,accountKeyIndexes:R,data:k})}const g=pn(n),p=[];for(let v=0;v<g;v++){const _=new ye(gn(n,0,sr)),x=pn(n),R=gn(n,0,x),N=pn(n),k=gn(n,0,N);p.push({accountKey:_,writableIndexes:R,readonlyIndexes:k})}return new xs({header:i,staticAccountKeys:a,recentBlockhash:l,compiledInstructions:h,addressTableLookups:p})}}const lh={deserializeMessageVersion(e){const t=e[0],n=t&Ic;return n===t?"legacy":n},deserialize:e=>{const t=lh.deserializeMessageVersion(e);if(t==="legacy")return Wn.from(e);if(t===0)return xs.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let pr=(function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e})({});const CT=Ne.Buffer.alloc(pi).fill(0);class Qe{constructor(t){this.keys=void 0,this.programId=void 0,this.data=Ne.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:n,isWritable:r})=>({pubkey:t.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class He{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=t;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=t;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new Qe(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(t=this.recentBlockhash,n=this.instructions),!t)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let _=0;_<n.length;_++)if(n[_].programId===void 0)throw new Error(`Transaction instruction index ${_} has undefined program id`);const s=[],o=[];n.forEach(_=>{_.keys.forEach(R=>{o.push({...R})});const x=_.programId.toString();s.includes(x)||s.push(x)}),s.forEach(_=>{o.push({pubkey:new ye(_),isSigner:!1,isWritable:!1})});const i=[];o.forEach(_=>{const x=_.pubkey.toString(),R=i.findIndex(N=>N.pubkey.toString()===x);R>-1?(i[R].isWritable=i[R].isWritable||_.isWritable,i[R].isSigner=i[R].isSigner||_.isSigner):i.push(_)}),i.sort(function(_,x){if(_.isSigner!==x.isSigner)return _.isSigner?-1:1;if(_.isWritable!==x.isWritable)return _.isWritable?-1:1;const R={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return _.pubkey.toBase58().localeCompare(x.pubkey.toBase58(),"en",R)});const a=i.findIndex(_=>_.pubkey.equals(r));if(a>-1){const[_]=i.splice(a,1);_.isSigner=!0,_.isWritable=!0,i.unshift(_)}else i.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const _ of this.signatures){const x=i.findIndex(R=>R.pubkey.equals(_.publicKey));if(x>-1)i[x].isSigner||(i[x].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${_.publicKey.toString()}`)}let c=0,l=0,u=0;const h=[],g=[];i.forEach(({pubkey:_,isSigner:x,isWritable:R})=>{x?(h.push(_.toString()),c+=1,R||(l+=1)):(g.push(_.toString()),R||(u+=1))});const p=h.concat(g),v=n.map(_=>{const{data:x,programId:R}=_;return{programIdIndex:p.indexOf(R.toString()),accounts:_.keys.map(N=>p.indexOf(N.pubkey.toString())),data:Vt.encode(x)}});return v.forEach(_=>{We(_.programIdIndex>=0),_.accounts.forEach(x=>We(x>=0))}),new Wn({header:{numRequiredSignatures:c,numReadonlySignedAccounts:l,numReadonlyUnsignedAccounts:u},accountKeys:p,recentBlockhash:t,instructions:v})}_compile(){const t=this.compileMessage(),n=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((s,o)=>n[o].equals(s.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const n=new Set;this.signatures=t.filter(r=>{const s=r.toString();return n.has(s)?!1:(n.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of t){const i=o.publicKey.toString();n.has(i)||(n.add(i),r.push(o))}this.signatures=r.map(o=>({signature:null,publicKey:o.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const o of t){const i=o.publicKey.toString();n.has(i)||(n.add(i),r.push(o))}const s=this._compile();this._partialSign(s,...r)}_partialSign(t,...n){const r=t.serialize();n.forEach(s=>{const o=ih(r,s.secretKey);this._addSignature(s.publicKey,ze(o))})}addSignature(t,n){this._compile(),this._addSignature(t,n)}_addSignature(t,n){We(n.length===64);const r=this.signatures.findIndex(s=>t.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=Ne.Buffer.from(n)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,n){const r={};for(const{signature:s,publicKey:o}of this.signatures)s===null?n&&(r.missing||=[]).push(o):_T(s,t,o.toBytes())||(r.invalid||=[]).push(o);return r.invalid||r.missing?r:void 0}serialize(t){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),s=this.serializeMessage();if(r){const o=this._getMessageSignednessErrors(s,n);if(o){let i="Signature verification failed.";throw o.invalid&&(i+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),o.missing&&(i+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(i)}}return this._serialize(s)}_serialize(t){const{signatures:n}=this,r=[];bn(r,n.length);const s=r.length+n.length*64+t.length,o=Ne.Buffer.alloc(s);return We(n.length<256),Ne.Buffer.from(r).copy(o,0),n.forEach(({signature:i},a)=>{i!==null&&(We(i.length===64,"signature has invalid length"),Ne.Buffer.from(i).copy(o,r.length+a*64))}),t.copy(o,r.length+n.length*64),We(o.length<=Zr,`Transaction too large: ${o.length} > ${Zr}`),o}get keys(){return We(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return We(this.instructions.length===1),this.instructions[0].programId}get data(){return We(this.instructions.length===1),this.instructions[0].data}static from(t){let n=[...t];const r=pn(n);let s=[];for(let o=0;o<r;o++){const i=gn(n,0,pi);s.push(Vt.encode(Ne.Buffer.from(i)))}return He.populate(Wn.from(n),s)}static populate(t,n=[]){const r=new He;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),n.forEach((s,o)=>{const i={signature:s==Vt.encode(CT)?null:Vt.decode(s),publicKey:t.accountKeys[o]};r.signatures.push(i)}),t.instructions.forEach(s=>{const o=s.accounts.map(i=>{const a=t.accountKeys[i];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||t.isAccountSigner(i),isWritable:t.isAccountWritable(i)}});r.instructions.push(new Qe({keys:o,programId:t.accountKeys[s.programIdIndex],data:Vt.decode(s.data)}))}),r._message=t,r._json=r.toJSON(),r}}class fh{constructor(t){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=t.payerKey,this.instructions=t.instructions,this.recentBlockhash=t.recentBlockhash}static decompile(t,n){const{header:r,compiledInstructions:s,recentBlockhash:o}=t,{numRequiredSignatures:i,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,l=i-a;We(l>0,"Message header is invalid");const u=t.staticAccountKeys.length-i-c;We(u>=0,"Message header is invalid");const h=t.getAccountKeys(n),g=h.get(0);if(g===void 0)throw new Error("Failed to decompile message because no account keys were found");const p=[];for(const v of s){const _=[];for(const R of v.accountKeyIndexes){const N=h.get(R);if(N===void 0)throw new Error(`Failed to find key for account key index ${R}`);const k=R<i;let B;k?B=R<l:R<h.staticAccountKeys.length?B=R-i<u:B=R-h.staticAccountKeys.length<h.accountKeysFromLookups.writable.length,_.push({pubkey:N,isSigner:R<r.numRequiredSignatures,isWritable:B})}const x=h.get(v.programIdIndex);if(x===void 0)throw new Error(`Failed to find program id for program id index ${v.programIdIndex}`);p.push(new Qe({programId:x,data:ze(v.data),keys:_}))}return new fh({payerKey:g,instructions:p,recentBlockhash:o})}compileToLegacyMessage(){return Wn.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(t){return xs.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:t})}}class hh{get version(){return this.message.version}constructor(t,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)We(n.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let s=0;s<t.header.numRequiredSignatures;s++)r.push(new Uint8Array(pi));this.signatures=r}this.message=t}serialize(){const t=this.message.serialize(),n=Array();bn(n,this.signatures.length);const r=W.struct([W.blob(n.length,"encodedSignaturesLength"),W.seq(xT(),this.signatures.length,"signatures"),W.blob(t.length,"serializedMessage")]),s=new Uint8Array(2048),o=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:t},s);return s.slice(0,o)}static deserialize(t){let n=[...t];const r=[],s=pn(n);for(let i=0;i<s;i++)r.push(new Uint8Array(gn(n,0,pi)));const o=lh.deserialize(new Uint8Array(n));return new hh(o,r)}sign(t){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of t){const o=r.findIndex(i=>i.equals(s.publicKey));We(o>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[o]=ih(n,s.secretKey)}}addSignature(t,n){We(n.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(t));We(s>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=n}}const NT=160,OT=64,BT=NT/OT,pw=1e3/BT,Gn=new ye("SysvarC1ock11111111111111111111111111111111"),PT=new ye("SysvarEpochSchedu1e111111111111111111111111"),LT=new ye("Sysvar1nstructions1111111111111111111111111"),ma=new ye("SysvarRecentB1ockHashes11111111111111111111"),_o=new ye("SysvarRent111111111111111111111111111111111"),DT=new ye("SysvarRewards111111111111111111111111111111"),zT=new ye("SysvarS1otHashes111111111111111111111111111"),UT=new ye("SysvarS1otHistory11111111111111111111111111"),wa=new ye("SysvarStakeHistory1111111111111111111111111");class yi extends Error{constructor({action:t,signature:n,transactionMessage:r,logs:s}){const o=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",i="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(t){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+o+i;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+o+i;break;default:a=`Unknown action '${(c=>c)(t)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(!(t!=null&&typeof t=="object"&&"then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{t.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const o=s.meta.logMessages;this.transactionLogs=o,n(o)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const jT={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Ie extends Error{constructor({code:t,message:n,data:r},s){super(s!=null?`${s}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=t,this.data=r,this.name="SolanaJSONRPCError"}}async function Zl(e,t,n,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},o=await e.sendTransaction(t,n,s);let i;if(t.recentBlockhash!=null&&t.lastValidBlockHeight!=null)i=(await e.confirmTransaction({abortSignal:r?.abortSignal,signature:o,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},r&&r.commitment)).value;else if(t.minNonceContextSlot!=null&&t.nonceInfo!=null){const{nonceInstruction:a}=t.nonceInfo,c=a.keys[0].pubkey;i=(await e.confirmTransaction({abortSignal:r?.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:t.nonceInfo.nonce,signature:o},r&&r.commitment)).value}else r?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),i=(await e.confirmTransaction(o,r&&r.commitment)).value;if(i.err)throw o!=null?new yi({action:"send",signature:o,transactionMessage:`Status: (${JSON.stringify(i)})`}):new Error(`Transaction ${o} failed (${JSON.stringify(i)})`);return o}function us(e){return new Promise(t=>setTimeout(t,e))}function $e(e,t){const n=e.layout.span>=0?e.layout.span:hw(e,t),r=Ne.Buffer.alloc(n),s=Object.assign({instruction:e.index},t);return e.layout.encode(s,r),r}function Ze(e,t){let n;try{n=e.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(n.instruction!==e.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${e.index}`);return n}const gw=W.nu64("lamportsPerSignature"),yw=W.struct([W.u32("version"),W.u32("state"),Ue("authorizedPubkey"),Ue("nonce"),W.struct([gw],"feeCalculator")]),Gl=yw.span;class Mc{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const n=yw.decode(ze(t),0);return new Mc({authorizedPubkey:new ye(n.authorizedPubkey),nonce:new ye(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function So(e){const t=W.blob(8,e),n=t.decode.bind(t),r=t.encode.bind(t),s=t,o=gI();return s.decode=(i,a)=>{const c=n(i,a);return o.decode(c)},s.encode=(i,a,c)=>{const l=o.encode(i);return r(l,a,c)},s}class $T{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const r=W.u32("instruction").decode(t.data);let s;for(const[o,i]of Object.entries(tt))if(i.index==r){s=o;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:n,space:r,programId:s}=Ze(tt.Create,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,lamports:n,space:r,programId:new ye(s)}}static decodeTransfer(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:n}=Ze(tt.Transfer,t.data);return{fromPubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,lamports:n}}static decodeTransferWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:n,seed:r,programId:s}=Ze(tt.TransferWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,basePubkey:t.keys[1].pubkey,toPubkey:t.keys[2].pubkey,lamports:n,seed:r,programId:new ye(s)}}static decodeAllocate(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{space:n}=Ze(tt.Allocate,t.data);return{accountPubkey:t.keys[0].pubkey,space:n}}static decodeAllocateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:n,seed:r,space:s,programId:o}=Ze(tt.AllocateWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new ye(n),seed:r,space:s,programId:new ye(o)}}static decodeAssign(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{programId:n}=Ze(tt.Assign,t.data);return{accountPubkey:t.keys[0].pubkey,programId:new ye(n)}}static decodeAssignWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:n,seed:r,programId:s}=Ze(tt.AssignWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new ye(n),seed:r,programId:new ye(s)}}static decodeCreateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{base:n,seed:r,lamports:s,space:o,programId:i}=Ze(tt.CreateWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,basePubkey:new ye(n),seed:r,lamports:s,space:o,programId:new ye(i)}}static decodeNonceInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{authorized:n}=Ze(tt.InitializeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:new ye(n)}}static decodeNonceAdvance(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),Ze(tt.AdvanceNonceAccount,t.data),{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static decodeNonceWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);const{lamports:n}=Ze(tt.WithdrawNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:n}}static decodeNonceAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{authorized:n}=Ze(tt.AuthorizeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[1].pubkey,newAuthorizedPubkey:new ye(n)}}static checkProgramId(t){if(!t.equals(Ht.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(t,n){if(t.length<n)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${n}`)}}const tt=Object.freeze({Create:{index:0,layout:W.struct([W.u32("instruction"),W.ns64("lamports"),W.ns64("space"),Ue("programId")])},Assign:{index:1,layout:W.struct([W.u32("instruction"),Ue("programId")])},Transfer:{index:2,layout:W.struct([W.u32("instruction"),So("lamports")])},CreateWithSeed:{index:3,layout:W.struct([W.u32("instruction"),Ue("base"),gs("seed"),W.ns64("lamports"),W.ns64("space"),Ue("programId")])},AdvanceNonceAccount:{index:4,layout:W.struct([W.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:W.struct([W.u32("instruction"),W.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:W.struct([W.u32("instruction"),Ue("authorized")])},AuthorizeNonceAccount:{index:7,layout:W.struct([W.u32("instruction"),Ue("authorized")])},Allocate:{index:8,layout:W.struct([W.u32("instruction"),W.ns64("space")])},AllocateWithSeed:{index:9,layout:W.struct([W.u32("instruction"),Ue("base"),gs("seed"),W.ns64("space"),Ue("programId")])},AssignWithSeed:{index:10,layout:W.struct([W.u32("instruction"),Ue("base"),gs("seed"),Ue("programId")])},TransferWithSeed:{index:11,layout:W.struct([W.u32("instruction"),So("lamports"),gs("seed"),Ue("programId")])},UpgradeNonceAccount:{index:12,layout:W.struct([W.u32("instruction")])}});class Ht{constructor(){}static createAccount(t){const n=tt.Create,r=$e(n,{lamports:t.lamports,space:t.space,programId:ze(t.programId.toBuffer())});return new Qe({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(t){let n,r;if("basePubkey"in t){const s=tt.TransferWithSeed;n=$e(s,{lamports:BigInt(t.lamports),seed:t.seed,programId:ze(t.programId.toBuffer())}),r=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=tt.Transfer;n=$e(s,{lamports:BigInt(t.lamports)}),r=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new Qe({keys:r,programId:this.programId,data:n})}static assign(t){let n,r;if("basePubkey"in t){const s=tt.AssignWithSeed;n=$e(s,{base:ze(t.basePubkey.toBuffer()),seed:t.seed,programId:ze(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=tt.Assign;n=$e(s,{programId:ze(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new Qe({keys:r,programId:this.programId,data:n})}static createAccountWithSeed(t){const n=tt.CreateWithSeed,r=$e(n,{base:ze(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:ze(t.programId.toBuffer())});let s=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey.equals(t.fromPubkey)||s.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new Qe({keys:s,programId:this.programId,data:r})}static createNonceAccount(t){const n=new He;"basePubkey"in t&&"seed"in t?n.add(Ht.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:Gl,programId:this.programId})):n.add(Ht.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:Gl,programId:this.programId}));const r={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return n.add(this.nonceInitialize(r)),n}static nonceInitialize(t){const n=tt.InitializeNonceAccount,r=$e(n,{authorized:ze(t.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ma,isSigner:!1,isWritable:!1},{pubkey:_o,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Qe(s)}static nonceAdvance(t){const n=tt.AdvanceNonceAccount,r=$e(n),s={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ma,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Qe(s)}static nonceWithdraw(t){const n=tt.WithdrawNonceAccount,r=$e(n,{lamports:t.lamports});return new Qe({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:ma,isSigner:!1,isWritable:!1},{pubkey:_o,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(t){const n=tt.AuthorizeNonceAccount,r=$e(n,{authorized:ze(t.newAuthorizedPubkey.toBuffer())});return new Qe({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(t){let n,r;if("basePubkey"in t){const s=tt.AllocateWithSeed;n=$e(s,{base:ze(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:ze(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=tt.Allocate;n=$e(s,{space:t.space}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new Qe({keys:r,programId:this.programId,data:n})}}Ht.programId=new ye("11111111111111111111111111111111");const FT=Zr-300;class Is{constructor(){}static getMinNumSignatures(t){return 2*(Math.ceil(t/Is.chunkSize)+1+1)}static async load(t,n,r,s,o){{const h=await t.getMinimumBalanceForRentExemption(o.length),g=await t.getAccountInfo(r.publicKey,"confirmed");let p=null;if(g!==null){if(g.executable)return console.error("Program load failed, account is already executable"),!1;g.data.length!==o.length&&(p=p||new He,p.add(Ht.allocate({accountPubkey:r.publicKey,space:o.length}))),g.owner.equals(s)||(p=p||new He,p.add(Ht.assign({accountPubkey:r.publicKey,programId:s}))),g.lamports<h&&(p=p||new He,p.add(Ht.transfer({fromPubkey:n.publicKey,toPubkey:r.publicKey,lamports:h-g.lamports})))}else p=new He().add(Ht.createAccount({fromPubkey:n.publicKey,newAccountPubkey:r.publicKey,lamports:h>0?h:1,space:o.length,programId:s}));p!==null&&await Zl(t,p,[n,r],{commitment:"confirmed"})}const i=W.struct([W.u32("instruction"),W.u32("offset"),W.u32("bytesLength"),W.u32("bytesLengthPadding"),W.seq(W.u8("byte"),W.offset(W.u32(),-8),"bytes")]),a=Is.chunkSize;let c=0,l=o,u=[];for(;l.length>0;){const h=l.slice(0,a),g=Ne.Buffer.alloc(a+16);i.encode({instruction:0,offset:c,bytes:h,bytesLength:0,bytesLengthPadding:0},g);const p=new He().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:g});u.push(Zl(t,p,[n,r],{commitment:"confirmed"})),t._rpcEndpoint.includes("solana.com")&&await us(1e3/4),c+=a,l=l.slice(a)}await Promise.all(u);{const h=W.struct([W.u32("instruction")]),g=Ne.Buffer.alloc(h.span);h.encode({instruction:1},g);const p=new He().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:_o,isSigner:!1,isWritable:!1}],programId:s,data:g}),v="processed",_=await t.sendTransaction(p,[n,r],{preflightCommitment:v}),{context:x,value:R}=await t.confirmTransaction({signature:_,lastValidBlockHeight:p.lastValidBlockHeight,blockhash:p.recentBlockhash},v);if(R.err)throw new Error(`Transaction ${_} failed (${JSON.stringify(R)})`);for(;;){try{if(await t.getSlot({commitment:v})>x.slot)break}catch{}await new Promise(N=>setTimeout(N,Math.round(pw/2)))}}return!0}}Is.chunkSize=FT;const WT=new ye("BPFLoader2111111111111111111111111111111111");class HT{static getMinNumSignatures(t){return Is.getMinNumSignatures(t)}static load(t,n,r,s,o){return Is.load(t,n,r,o,s)}}function KT(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Zu,Kp;function VT(){if(Kp)return Zu;Kp=1;var e=Object.prototype.toString,t=Object.keys||function(r){var s=[];for(var o in r)s.push(o);return s};function n(r,s){var o,i,a,c,l,u,h;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),s);if(h=e.call(r),h==="[object Array]"){for(a="[",i=r.length-1,o=0;o<i;o++)a+=n(r[o],!0)+",";return i>-1&&(a+=n(r[o],!0)),a+"]"}else if(h==="[object Object]"){for(c=t(r).sort(),i=c.length,a="",o=0;o<i;)l=c[o],u=n(r[l],!1),u!==void 0&&(a&&(a+=","),a+=JSON.stringify(l)+":"+u),o++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return Zu=function(r){var s=n(r,!1);if(s!==void 0)return""+s},Zu}var qT=VT(),Vp=KT(qT);const Uo=32;function Gu(e){let t=0;for(;e>1;)e/=2,t++;return t}function ZT(e){return e===0?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e|=e>>32,e+1)}class mw{constructor(t,n,r,s,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=o}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const n=Gu(ZT(t+Uo+1))-Gu(Uo)-1,r=this.getSlotsInEpoch(n),s=t-(r-Uo);return[n,s]}else{const n=t-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),s=this.firstNormalEpoch+r,o=n%this.slotsPerEpoch;return[s,o]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*Uo:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+Gu(Uo)):this.slotsPerEpoch}}var GT=globalThis.fetch;class YT extends JI{constructor(t,n,r){const s=o=>{const i=GI(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in i?this.underlyingSocket=i.socket:this.underlyingSocket=i,i};super(s,t,n,r),this.underlyingSocket=void 0}call(...t){const n=this.underlyingSocket?.readyState;return n===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...t){const n=this.underlyingSocket?.readyState;return n===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function JT(e,t){let n;try{n=e.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${e.index}`);return n}const qp=56;class Yl{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const n=JT(QT,t),r=t.length-qp;We(r>=0,"lookup table is invalid"),We(r%32===0,"lookup table is invalid");const s=r/32,{addresses:o}=W.struct([W.seq(Ue(),s,"addresses")]).decode(t.slice(qp));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new ye(n.authority[0]):void 0,addresses:o.map(i=>new ye(i))}}}const QT={index:1,layout:W.struct([W.u32("typeIndex"),So("deactivationSlot"),W.nu64("lastExtendedSlot"),W.u8("lastExtendedStartIndex"),W.u8(),W.seq(Ue(),W.offset(W.u8(),-1),"authority")])},XT=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function eM(e){const t=e.match(XT);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[n,r,s,o]=t,i=e.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${i}//${r}${c}${o}`}const ct=Ni(th(ye),ge(),e=>new ye(e)),ww=nh([ge(),it("base64")]),dh=Ni(th(Ne.Buffer),ww,e=>Ne.Buffer.from(e[0],"base64")),bw=30*1e3;function tM(e){if(/^https?:/.test(e)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}function Xe(e){let t,n;if(typeof e=="string")t=e;else if(e){const{commitment:r,...s}=e;t=r,n=s}return{commitment:t,config:n}}function Zp(e){return e.map(t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t)}function vw(e){return hn([he({jsonrpc:it("2.0"),id:ge(),result:e}),he({jsonrpc:it("2.0"),id:ge(),error:he({code:To(),message:ge(),data:Me(_I())})})])}const nM=vw(To());function De(e){return Ni(vw(e),nM,t=>"error"in t?t:{...t,result:me(t.result,e)})}function bt(e){return De(he({context:he({slot:Q()}),value:e}))}function Rc(e){return he({context:he({slot:Q()}),value:e})}function Yu(e,t){return e===0?new xs({header:t.header,staticAccountKeys:t.accountKeys.map(n=>new ye(n)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:Vt.decode(n.data)})),addressTableLookups:t.addressTableLookups}):new Wn(t)}const rM=he({foundation:Q(),foundationTerm:Q(),initial:Q(),taper:Q(),terminal:Q()}),sM=De(ve(_e(he({epoch:Q(),effectiveSlot:Q(),amount:Q(),postBalance:Q(),commission:Me(_e(Q()))})))),oM=ve(he({slot:Q(),prioritizationFee:Q()})),iM=he({total:Q(),validator:Q(),foundation:Q(),epoch:Q()}),aM=he({epoch:Q(),slotIndex:Q(),slotsInEpoch:Q(),absoluteSlot:Q(),blockHeight:Me(Q()),transactionCount:Me(Q())}),cM=he({slotsPerEpoch:Q(),leaderScheduleSlotOffset:Q(),warmup:ar(),firstNormalEpoch:Q(),firstNormalSlot:Q()}),uM=Zm(ge(),ve(Q())),Ns=_e(hn([he({}),ge()])),lM=he({err:Ns}),fM=it("receivedSignature"),hM=he({"solana-core":ge(),"feature-set":Me(Q())}),dM=he({program:ge(),programId:ct,parsed:To()}),pM=he({programId:ct,accounts:ve(ct),data:ge()}),Gp=bt(he({err:_e(hn([he({}),ge()])),logs:_e(ve(ge())),accounts:Me(_e(ve(_e(he({executable:ar(),owner:ge(),lamports:Q(),data:ve(ge()),rentEpoch:Me(Q())}))))),unitsConsumed:Me(Q()),returnData:Me(_e(he({programId:ge(),data:nh([ge(),it("base64")])}))),innerInstructions:Me(_e(ve(he({index:Q(),instructions:ve(hn([dM,pM]))}))))})),gM=bt(he({byIdentity:Zm(ge(),ve(Q())),range:he({firstSlot:Q(),lastSlot:Q()})}));function yM(e,t,n,r,s,o){const i=n||GT;let a;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(u,h)=>{const g=await new Promise((p,v)=>{try{r(u,h,(_,x)=>p([_,x]))}catch(_){v(_)}});return await i(...g)}),new KI(async(u,h)=>{const g={method:"POST",body:u,agent:a,headers:Object.assign({"Content-Type":"application/json"},t||{},yR)};try{let p=5,v,_=500;for(;c?v=await c(e,g):v=await i(e,g),!(v.status!==429||s===!0||(p-=1,p===0));)console.error(`Server responded with ${v.status} ${v.statusText}.  Retrying after ${_}ms delay...`),await us(_),_*=2;const x=await v.text();v.ok?h(null,x):h(new Error(`${v.status} ${v.statusText}: ${x}`))}catch(p){p instanceof Error&&h(p)}},{})}function mM(e){return(t,n)=>new Promise((r,s)=>{e.request(t,n,(o,i)=>{if(o){s(o);return}r(i)})})}function wM(e){return t=>new Promise((n,r)=>{t.length===0&&n([]);const s=t.map(o=>e.request(o.methodName,o.args));e.request(s,(o,i)=>{if(o){r(o);return}n(i)})})}const bM=De(rM),vM=De(iM),_M=De(oM),SM=De(aM),EM=De(cM),kM=De(uM),AM=De(Q()),xM=bt(he({total:Q(),circulating:Q(),nonCirculating:Q(),nonCirculatingAccounts:ve(ct)})),Jl=he({amount:ge(),uiAmount:_e(Q()),decimals:Q(),uiAmountString:Me(ge())}),IM=bt(ve(he({address:ct,amount:ge(),uiAmount:_e(Q()),decimals:Q(),uiAmountString:Me(ge())}))),TM=bt(ve(he({pubkey:ct,account:he({executable:ar(),owner:ct,lamports:Q(),data:dh,rentEpoch:Q()})}))),Ql=he({program:ge(),parsed:To(),space:Q()}),MM=bt(ve(he({pubkey:ct,account:he({executable:ar(),owner:ct,lamports:Q(),data:Ql,rentEpoch:Q()})}))),RM=bt(ve(he({lamports:Q(),address:ct}))),mi=he({executable:ar(),owner:ct,lamports:Q(),data:dh,rentEpoch:Q()}),CM=he({pubkey:ct,account:mi}),NM=Ni(hn([th(Ne.Buffer),Ql]),hn([ww,Ql]),e=>Array.isArray(e)?me(e,dh):e),Xl=he({executable:ar(),owner:ct,lamports:Q(),data:NM,rentEpoch:Q()}),OM=he({pubkey:ct,account:Xl}),BM=he({state:hn([it("active"),it("inactive"),it("activating"),it("deactivating")]),active:Q(),inactive:Q()}),PM=De(ve(he({signature:ge(),slot:Q(),err:Ns,memo:_e(ge()),blockTime:Me(_e(Q()))}))),LM=De(ve(he({signature:ge(),slot:Q(),err:Ns,memo:_e(ge()),blockTime:Me(_e(Q()))}))),DM=he({subscription:Q(),result:Rc(mi)}),zM=he({pubkey:ct,account:mi}),UM=he({subscription:Q(),result:Rc(zM)}),jM=he({parent:Q(),slot:Q(),root:Q()}),$M=he({subscription:Q(),result:jM}),FM=hn([he({type:hn([it("firstShredReceived"),it("completed"),it("optimisticConfirmation"),it("root")]),slot:Q(),timestamp:Q()}),he({type:it("createdBank"),parent:Q(),slot:Q(),timestamp:Q()}),he({type:it("frozen"),slot:Q(),timestamp:Q(),stats:he({numTransactionEntries:Q(),numSuccessfulTransactions:Q(),numFailedTransactions:Q(),maxTransactionsPerEntry:Q()})}),he({type:it("dead"),slot:Q(),timestamp:Q(),err:ge()})]),WM=he({subscription:Q(),result:FM}),HM=he({subscription:Q(),result:Rc(hn([lM,fM]))}),KM=he({subscription:Q(),result:Q()}),VM=he({pubkey:ge(),gossip:_e(ge()),tpu:_e(ge()),rpc:_e(ge()),version:_e(ge())}),Yp=he({votePubkey:ge(),nodePubkey:ge(),activatedStake:Q(),epochVoteAccount:ar(),epochCredits:ve(nh([Q(),Q(),Q()])),commission:Q(),lastVote:Q(),rootSlot:_e(Q())}),qM=De(he({current:ve(Yp),delinquent:ve(Yp)})),ZM=hn([it("processed"),it("confirmed"),it("finalized")]),GM=he({slot:Q(),confirmations:_e(Q()),err:Ns,confirmationStatus:Me(ZM)}),YM=bt(ve(_e(GM))),JM=De(Q()),_w=he({accountKey:ct,writableIndexes:ve(Q()),readonlyIndexes:ve(Q())}),ph=he({signatures:ve(ge()),message:he({accountKeys:ve(ge()),header:he({numRequiredSignatures:Q(),numReadonlySignedAccounts:Q(),numReadonlyUnsignedAccounts:Q()}),instructions:ve(he({accounts:ve(Q()),data:ge(),programIdIndex:Q()})),recentBlockhash:ge(),addressTableLookups:Me(ve(_w))})}),Sw=he({pubkey:ct,signer:ar(),writable:ar(),source:Me(hn([it("transaction"),it("lookupTable")]))}),Ew=he({accountKeys:ve(Sw),signatures:ve(ge())}),kw=he({parsed:To(),program:ge(),programId:ct}),Aw=he({accounts:ve(ct),data:ge(),programId:ct}),QM=hn([Aw,kw]),XM=hn([he({parsed:To(),program:ge(),programId:ge()}),he({accounts:ve(ge()),data:ge(),programId:ge()})]),xw=Ni(QM,XM,e=>"accounts"in e?me(e,Aw):me(e,kw)),Iw=he({signatures:ve(ge()),message:he({accountKeys:ve(Sw),instructions:ve(xw),recentBlockhash:ge(),addressTableLookups:Me(_e(ve(_w)))})}),Ja=he({accountIndex:Q(),mint:ge(),owner:Me(ge()),programId:Me(ge()),uiTokenAmount:Jl}),Tw=he({writable:ve(ct),readonly:ve(ct)}),Cc=he({err:Ns,fee:Q(),innerInstructions:Me(_e(ve(he({index:Q(),instructions:ve(he({accounts:ve(Q()),data:ge(),programIdIndex:Q()}))})))),preBalances:ve(Q()),postBalances:ve(Q()),logMessages:Me(_e(ve(ge()))),preTokenBalances:Me(_e(ve(Ja))),postTokenBalances:Me(_e(ve(Ja))),loadedAddresses:Me(Tw),computeUnitsConsumed:Me(Q()),costUnits:Me(Q())}),gh=he({err:Ns,fee:Q(),innerInstructions:Me(_e(ve(he({index:Q(),instructions:ve(xw)})))),preBalances:ve(Q()),postBalances:ve(Q()),logMessages:Me(_e(ve(ge()))),preTokenBalances:Me(_e(ve(Ja))),postTokenBalances:Me(_e(ve(Ja))),loadedAddresses:Me(Tw),computeUnitsConsumed:Me(Q()),costUnits:Me(Q())}),Mo=hn([it(0),it("legacy")]),Os=he({pubkey:ge(),lamports:Q(),postBalance:_e(Q()),rewardType:_e(ge()),commission:Me(_e(Q()))}),eR=De(_e(he({blockhash:ge(),previousBlockhash:ge(),parentSlot:Q(),transactions:ve(he({transaction:ph,meta:_e(Cc),version:Me(Mo)})),rewards:Me(ve(Os)),blockTime:_e(Q()),blockHeight:_e(Q())}))),tR=De(_e(he({blockhash:ge(),previousBlockhash:ge(),parentSlot:Q(),rewards:Me(ve(Os)),blockTime:_e(Q()),blockHeight:_e(Q())}))),nR=De(_e(he({blockhash:ge(),previousBlockhash:ge(),parentSlot:Q(),transactions:ve(he({transaction:Ew,meta:_e(Cc),version:Me(Mo)})),rewards:Me(ve(Os)),blockTime:_e(Q()),blockHeight:_e(Q())}))),rR=De(_e(he({blockhash:ge(),previousBlockhash:ge(),parentSlot:Q(),transactions:ve(he({transaction:Iw,meta:_e(gh),version:Me(Mo)})),rewards:Me(ve(Os)),blockTime:_e(Q()),blockHeight:_e(Q())}))),sR=De(_e(he({blockhash:ge(),previousBlockhash:ge(),parentSlot:Q(),transactions:ve(he({transaction:Ew,meta:_e(gh),version:Me(Mo)})),rewards:Me(ve(Os)),blockTime:_e(Q()),blockHeight:_e(Q())}))),oR=De(_e(he({blockhash:ge(),previousBlockhash:ge(),parentSlot:Q(),rewards:Me(ve(Os)),blockTime:_e(Q()),blockHeight:_e(Q())}))),iR=De(_e(he({blockhash:ge(),previousBlockhash:ge(),parentSlot:Q(),transactions:ve(he({transaction:ph,meta:_e(Cc)})),rewards:Me(ve(Os)),blockTime:_e(Q())}))),Jp=De(_e(he({blockhash:ge(),previousBlockhash:ge(),parentSlot:Q(),signatures:ve(ge()),blockTime:_e(Q())}))),Ju=De(_e(he({slot:Q(),meta:_e(Cc),blockTime:Me(_e(Q())),transaction:ph,version:Me(Mo)}))),ta=De(_e(he({slot:Q(),transaction:Iw,meta:_e(gh),blockTime:Me(_e(Q())),version:Me(Mo)}))),aR=bt(he({blockhash:ge(),lastValidBlockHeight:Q()})),cR=bt(ar()),uR=he({slot:Q(),numTransactions:Q(),numSlots:Q(),samplePeriodSecs:Q()}),lR=De(ve(uR)),fR=bt(_e(he({feeCalculator:he({lamportsPerSignature:Q()})}))),hR=De(ge()),dR=De(ge()),pR=he({err:Ns,logs:ve(ge()),signature:ge()}),gR=he({result:Rc(pR),subscription:Q()}),yR={"solana-client":"js/1.0.0-maintenance"};class mR{constructor(t,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const l={};return async u=>{const{commitment:h,config:g}=Xe(u),p=this._buildArgs([],h,void 0,g),v=Vp(p);return l[v]=l[v]??(async()=>{try{const _=await this._rpcRequest("getBlockHeight",p),x=me(_,De(Q()));if("error"in x)throw new Ie(x.error,"failed to get block height information");return x.result}finally{delete l[v]}})(),await l[v]}})();let r,s,o,i,a,c;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,s=n.httpHeaders,o=n.fetch,i=n.fetchMiddleware,a=n.disableRetryOnRateLimit,c=n.httpAgent),this._rpcEndpoint=tM(t),this._rpcWsEndpoint=r||eM(t),this._rpcClient=yM(t,s,o,i,a,c),this._rpcRequest=mM(this._rpcClient),this._rpcBatchRequest=wM(this._rpcClient),this._rpcWebSocket=new YT(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,n){const{commitment:r,config:s}=Xe(n),o=this._buildArgs([t.toBase58()],r,void 0,s),i=await this._rpcRequest("getBalance",o),a=me(i,bt(Q()));if("error"in a)throw new Ie(a.error,`failed to get balance for ${t.toBase58()}`);return a.result}async getBalance(t,n){return await this.getBalanceAndContext(t,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+r)})}async getBlockTime(t){const n=await this._rpcRequest("getBlockTime",[t]),r=me(n,De(_e(Q())));if("error"in r)throw new Ie(r.error,`failed to get block time for slot ${t}`);return r.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),n=me(t,De(Q()));if("error"in n)throw new Ie(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),n=me(t,AM);if("error"in n)throw new Ie(n.error,"failed to get first available block");return n.result}async getSupply(t){let n={};typeof t=="string"?n={commitment:t}:t?n={...t,commitment:t&&t.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),s=me(r,xM);if("error"in s)throw new Ie(s.error,"failed to get supply");return s.result}async getTokenSupply(t,n){const r=this._buildArgs([t.toBase58()],n),s=await this._rpcRequest("getTokenSupply",r),o=me(s,bt(Jl));if("error"in o)throw new Ie(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(t,n){const r=this._buildArgs([t.toBase58()],n),s=await this._rpcRequest("getTokenAccountBalance",r),o=me(s,bt(Jl));if("error"in o)throw new Ie(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(t,n,r){const{commitment:s,config:o}=Xe(r);let i=[t.toBase58()];"mint"in n?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()});const a=this._buildArgs(i,s,"base64",o),c=await this._rpcRequest("getTokenAccountsByOwner",a),l=me(c,TM);if("error"in l)throw new Ie(l.error,`failed to get token accounts owned by account ${t.toBase58()}`);return l.result}async getParsedTokenAccountsByOwner(t,n,r){let s=[t.toBase58()];"mint"in n?s.push({mint:n.mint.toBase58()}):s.push({programId:n.programId.toBase58()});const o=this._buildArgs(s,r,"jsonParsed"),i=await this._rpcRequest("getTokenAccountsByOwner",o),a=me(i,MM);if("error"in a)throw new Ie(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getLargestAccounts(t){const n={...t,commitment:t&&t.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],s=await this._rpcRequest("getLargestAccounts",r),o=me(s,RM);if("error"in o)throw new Ie(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(t,n){const r=this._buildArgs([t.toBase58()],n),s=await this._rpcRequest("getTokenLargestAccounts",r),o=me(s,IM);if("error"in o)throw new Ie(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(t,n){const{commitment:r,config:s}=Xe(n),o=this._buildArgs([t.toBase58()],r,"base64",s),i=await this._rpcRequest("getAccountInfo",o),a=me(i,bt(_e(mi)));if("error"in a)throw new Ie(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getParsedAccountInfo(t,n){const{commitment:r,config:s}=Xe(n),o=this._buildArgs([t.toBase58()],r,"jsonParsed",s),i=await this._rpcRequest("getAccountInfo",o),a=me(i,bt(_e(Xl)));if("error"in a)throw new Ie(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getAccountInfo(t,n){try{return(await this.getAccountInfoAndContext(t,n)).value}catch(r){throw new Error("failed to get info about account "+t.toBase58()+": "+r)}}async getMultipleParsedAccounts(t,n){const{commitment:r,config:s}=Xe(n),o=t.map(l=>l.toBase58()),i=this._buildArgs([o],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",i),c=me(a,bt(ve(_e(Xl))));if("error"in c)throw new Ie(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfoAndContext(t,n){const{commitment:r,config:s}=Xe(n),o=t.map(l=>l.toBase58()),i=this._buildArgs([o],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",i),c=me(a,bt(ve(_e(mi))));if("error"in c)throw new Ie(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfo(t,n){return(await this.getMultipleAccountsInfoAndContext(t,n)).value}async getStakeActivation(t,n,r){const{commitment:s,config:o}=Xe(n),i=this._buildArgs([t.toBase58()],s,void 0,{...o,epoch:r??o?.epoch}),a=await this._rpcRequest("getStakeActivation",i),c=me(a,De(BM));if("error"in c)throw new Ie(c.error,`failed to get Stake Activation ${t.toBase58()}`);return c.result}async getProgramAccounts(t,n){const{commitment:r,config:s}=Xe(n),{encoding:o,...i}=s||{},a=this._buildArgs([t.toBase58()],r,o||"base64",{...i,...i.filters?{filters:Zp(i.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),l=ve(CM),u=i.withContext===!0?me(c,bt(l)):me(c,De(l));if("error"in u)throw new Ie(u.error,`failed to get accounts owned by program ${t.toBase58()}`);return u.result}async getParsedProgramAccounts(t,n){const{commitment:r,config:s}=Xe(n),o=this._buildArgs([t.toBase58()],r,"jsonParsed",s),i=await this._rpcRequest("getProgramAccounts",o),a=me(i,De(ve(OM)));if("error"in a)throw new Ie(a.error,`failed to get accounts owned by program ${t.toBase58()}`);return a.result}async confirmTransaction(t,n){let r;if(typeof t=="string")r=t;else{const o=t;if(o.abortSignal?.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Vt.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return We(s.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((n,r)=>{t!=null&&(t.aborted?r(t.reason):t.addEventListener("abort",()=>{r(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:n}){let r,s,o=!1;const i=new Promise((c,l)=>{try{r=this.onSignature(n,(h,g)=>{r=void 0;const p={context:g,value:h};c({__type:pr.PROCESSED,response:p})},t);const u=new Promise(h=>{r==null?h():s=this._onSubscriptionStateChange(r,g=>{g==="subscribed"&&h()})});(async()=>{if(await u,o)return;const h=await this.getSignatureStatus(n);if(o||h==null)return;const{context:g,value:p}=h;if(p!=null)if(p?.err)l(p.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(p.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(p.confirmationStatus==="processed"||p.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,c({__type:pr.PROCESSED,response:{context:g,value:p}})}})()}catch(u){l(u)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:i}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:s}}){let o=!1;const i=new Promise(h=>{const g=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let p=await g();if(!o){for(;p<=r;)if(await us(1e3),o||(p=await g(),o))return;h({__type:pr.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:t,signature:s}),l=this.getCancellationPromise(n);let u;try{const h=await Promise.race([l,c,i]);if(h.__type===pr.PROCESSED)u=h.response;else throw new ch(s)}finally{o=!0,a()}return u}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:s,nonceValue:o,signature:i}}){let a=!1;const c=new Promise(p=>{let v=o,_=null;const x=async()=>{try{const{context:R,value:N}=await this.getNonceAndContext(s,{commitment:t,minContextSlot:r});return _=R.slot,N?.nonce}catch{return v}};(async()=>{if(v=await x(),!a)for(;;){if(o!==v){p({__type:pr.NONCE_INVALID,slotInWhichNonceDidAdvance:_});return}if(await us(2e3),a||(v=await x(),a))return}})()}),{abortConfirmation:l,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:t,signature:i}),h=this.getCancellationPromise(n);let g;try{const p=await Promise.race([h,u,c]);if(p.__type===pr.PROCESSED)g=p.response;else{let v;for(;;){const _=await this.getSignatureStatus(i);if(_==null)break;if(_.context.slot<(p.slotInWhichNonceDidAdvance??r)){await us(400);continue}v=_;break}if(v?.value){const _=t||"finalized",{confirmationStatus:x}=v.value;switch(_){case"processed":case"recent":if(x!=="processed"&&x!=="confirmed"&&x!=="finalized")throw new Gs(i);break;case"confirmed":case"single":case"singleGossip":if(x!=="confirmed"&&x!=="finalized")throw new Gs(i);break;case"finalized":case"max":case"root":if(x!=="finalized")throw new Gs(i);break;default:}g={context:v.context,value:{err:v.value.err}}}else throw new Gs(i)}}finally{a=!0,l()}return g}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:n}){let r;const s=new Promise(c=>{let l=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{l=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:pr.TIMED_OUT,timeoutMs:l}),l)}),{abortConfirmation:o,confirmationPromise:i}=this.getTransactionConfirmationPromise({commitment:t,signature:n});let a;try{const c=await Promise.race([i,s]);if(c.__type===pr.PROCESSED)a=c.response;else throw new uh(n,c.timeoutMs/1e3)}finally{clearTimeout(r),o()}return a}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),n=me(t,De(ve(VM)));if("error"in n)throw new Ie(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(t){const n=this._buildArgs([],t),r=await this._rpcRequest("getVoteAccounts",n),s=me(r,qM);if("error"in s)throw new Ie(s.error,"failed to get vote accounts");return s.result}async getSlot(t){const{commitment:n,config:r}=Xe(t),s=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlot",s),i=me(o,De(Q()));if("error"in i)throw new Ie(i.error,"failed to get slot");return i.result}async getSlotLeader(t){const{commitment:n,config:r}=Xe(t),s=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getSlotLeader",s),i=me(o,De(ge()));if("error"in i)throw new Ie(i.error,"failed to get slot leader");return i.result}async getSlotLeaders(t,n){const r=[t,n],s=await this._rpcRequest("getSlotLeaders",r),o=me(s,De(ve(ct)));if("error"in o)throw new Ie(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(t,n){const{context:r,value:s}=await this.getSignatureStatuses([t],n);We(s.length===1);const o=s[0];return{context:r,value:o}}async getSignatureStatuses(t,n){const r=[t];n&&r.push(n);const s=await this._rpcRequest("getSignatureStatuses",r),o=me(s,YM);if("error"in o)throw new Ie(o.error,"failed to get signature status");return o.result}async getTransactionCount(t){const{commitment:n,config:r}=Xe(t),s=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getTransactionCount",s),i=me(o,De(Q()));if("error"in i)throw new Ie(i.error,"failed to get transaction count");return i.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const n=this._buildArgs([],t),r=await this._rpcRequest("getInflationGovernor",n),s=me(r,bM);if("error"in s)throw new Ie(s.error,"failed to get inflation");return s.result}async getInflationReward(t,n,r){const{commitment:s,config:o}=Xe(r),i=this._buildArgs([t.map(l=>l.toBase58())],s,void 0,{...o,epoch:n??o?.epoch}),a=await this._rpcRequest("getInflationReward",i),c=me(a,sM);if("error"in c)throw new Ie(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),n=me(t,vM);if("error"in n)throw new Ie(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(t){const{commitment:n,config:r}=Xe(t),s=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getEpochInfo",s),i=me(o,SM);if("error"in i)throw new Ie(i.error,"failed to get epoch info");return i.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),n=me(t,EM);if("error"in n)throw new Ie(n.error,"failed to get epoch schedule");const r=n.result;return new mw(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),n=me(t,kM);if("error"in n)throw new Ie(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(t,n){const r=this._buildArgs([t],n),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),o=me(s,JM);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(t){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(t);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(t){const n=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),r=me(n,lR);if("error"in r)throw new Ie(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(t,n){const r=this._buildArgs([t],n),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),o=me(s,fR);if("error"in o)throw new Ie(o.error,"failed to get fee calculator");const{context:i,value:a}=o.result;return{context:i,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(t,n){const r=ze(t.serialize()).toString("base64"),s=this._buildArgs([r],n),o=await this._rpcRequest("getFeeForMessage",s),i=me(o,bt(_e(Q())));if("error"in i)throw new Ie(i.error,"failed to get fee for message");if(i.result===null)throw new Error("invalid blockhash");return i.result}async getRecentPrioritizationFees(t){const n=t?.lockedWritableAccounts?.map(i=>i.toBase58()),r=n?.length?[n]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),o=me(s,_M);if("error"in o)throw new Ie(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(t){const{commitment:n,config:r}=Xe(t),s=this._buildArgs([],n,void 0,r),o=await this._rpcRequest("getLatestBlockhash",s),i=me(o,aR);if("error"in i)throw new Ie(i.error,"failed to get latest blockhash");return i.result}async isBlockhashValid(t,n){const{commitment:r,config:s}=Xe(n),o=this._buildArgs([t],r,void 0,s),i=await this._rpcRequest("isBlockhashValid",o),a=me(i,cR);if("error"in a)throw new Ie(a.error,"failed to determine if the blockhash `"+t+"`is valid");return a.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),n=me(t,De(hM));if("error"in n)throw new Ie(n.error,"failed to get version");return n.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),n=me(t,De(ge()));if("error"in n)throw new Ie(n.error,"failed to get genesis hash");return n.result}async getBlock(t,n){const{commitment:r,config:s}=Xe(n),o=this._buildArgsAtLeastConfirmed([t],r,void 0,s),i=await this._rpcRequest("getBlock",o);try{switch(s?.transactionDetails){case"accounts":{const a=me(i,nR);if("error"in a)throw a.error;return a.result}case"none":{const a=me(i,tR);if("error"in a)throw a.error;return a.result}default:{const a=me(i,eR);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:l,meta:u,version:h})=>({meta:u,transaction:{...l,message:Yu(h,l.message)},version:h}))}:null}}}catch(a){throw new Ie(a,"failed to get confirmed block")}}async getParsedBlock(t,n){const{commitment:r,config:s}=Xe(n),o=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",s),i=await this._rpcRequest("getBlock",o);try{switch(s?.transactionDetails){case"accounts":{const a=me(i,sR);if("error"in a)throw a.error;return a.result}case"none":{const a=me(i,oR);if("error"in a)throw a.error;return a.result}default:{const a=me(i,rR);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Ie(a,"failed to get block")}}async getBlockProduction(t){let n,r;if(typeof t=="string")r=t;else if(t){const{commitment:a,...c}=t;r=a,n=c}const s=this._buildArgs([],r,"base64",n),o=await this._rpcRequest("getBlockProduction",s),i=me(o,gM);if("error"in i)throw new Ie(i.error,"failed to get block production information");return i.result}async getTransaction(t,n){const{commitment:r,config:s}=Xe(n),o=this._buildArgsAtLeastConfirmed([t],r,void 0,s),i=await this._rpcRequest("getTransaction",o),a=me(i,Ju);if("error"in a)throw new Ie(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:Yu(c.version,c.transaction.message)}}}async getParsedTransaction(t,n){const{commitment:r,config:s}=Xe(n),o=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",s),i=await this._rpcRequest("getTransaction",o),a=me(i,ta);if("error"in a)throw new Ie(a.error,"failed to get transaction");return a.result}async getParsedTransactions(t,n){const{commitment:r,config:s}=Xe(n),o=t.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s)}));return(await this._rpcBatchRequest(o)).map(c=>{const l=me(c,ta);if("error"in l)throw new Ie(l.error,"failed to get transactions");return l.result})}async getTransactions(t,n){const{commitment:r,config:s}=Xe(n),o=t.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,void 0,s)}));return(await this._rpcBatchRequest(o)).map(c=>{const l=me(c,Ju);if("error"in l)throw new Ie(l.error,"failed to get transactions");const u=l.result;return u&&{...u,transaction:{...u.transaction,message:Yu(u.version,u.transaction.message)}}})}async getConfirmedBlock(t,n){const r=this._buildArgsAtLeastConfirmed([t],n),s=await this._rpcRequest("getBlock",r),o=me(s,iR);if("error"in o)throw new Ie(o.error,"failed to get confirmed block");const i=o.result;if(!i)throw new Error("Confirmed block "+t+" not found");const a={...i,transactions:i.transactions.map(({transaction:c,meta:l})=>{const u=new Wn(c.message);return{meta:l,transaction:{...c,message:u}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:l})=>({meta:l,transaction:He.populate(c.message,c.signatures)}))}}async getBlocks(t,n,r){const s=this._buildArgsAtLeastConfirmed(n!==void 0?[t,n]:[t],r),o=await this._rpcRequest("getBlocks",s),i=me(o,De(ve(Q())));if("error"in i)throw new Ie(i.error,"failed to get blocks");return i.result}async getBlockSignatures(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),o=me(s,Jp);if("error"in o)throw new Ie(o.error,"failed to get block");const i=o.result;if(!i)throw new Error("Block "+t+" not found");return i}async getConfirmedBlockSignatures(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),o=me(s,Jp);if("error"in o)throw new Ie(o.error,"failed to get confirmed block");const i=o.result;if(!i)throw new Error("Confirmed block "+t+" not found");return i}async getConfirmedTransaction(t,n){const r=this._buildArgsAtLeastConfirmed([t],n),s=await this._rpcRequest("getTransaction",r),o=me(s,Ju);if("error"in o)throw new Ie(o.error,"failed to get transaction");const i=o.result;if(!i)return i;const a=new Wn(i.transaction.message),c=i.transaction.signatures;return{...i,transaction:He.populate(a,c)}}async getParsedConfirmedTransaction(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed"),s=await this._rpcRequest("getTransaction",r),o=me(s,ta);if("error"in o)throw new Ie(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(t,n){const r=t.map(i=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([i],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(i=>{const a=me(i,ta);if("error"in a)throw new Ie(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(t,n,r){let s={},o=await this.getFirstAvailableBlock();for(;!("until"in s)&&(n--,!(n<=0||n<o));)try{const c=await this.getConfirmedBlockSignatures(n,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let i=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>i));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(t,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(t,n,r){const s=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,n),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),i=me(o,PM);if("error"in i)throw new Ie(i.error,"failed to get confirmed signatures for address");return i.result}async getSignaturesForAddress(t,n,r){const s=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,n),o=await this._rpcRequest("getSignaturesForAddress",s),i=me(o,LM);if("error"in i)throw new Ie(i.error,"failed to get signatures for address");return i.result}async getAddressLookupTable(t,n){const{context:r,value:s}=await this.getAccountInfoAndContext(t,n);let o=null;return s!==null&&(o=new Yl({key:t,state:Yl.deserialize(s.data)})),{context:r,value:o}}async getNonceAndContext(t,n){const{context:r,value:s}=await this.getAccountInfoAndContext(t,n);let o=null;return s!==null&&(o=Mc.fromAccountData(s.data)),{context:r,value:o}}async getNonce(t,n){return await this.getNonceAndContext(t,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+r)})}async requestAirdrop(t,n){const r=await this._rpcRequest("requestAirdrop",[t.toBase58(),n]),s=me(r,hR);if("error"in s)throw new Ie(s.error,`airdrop to ${t.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await us(100);const r=Date.now()-this._blockhashInfo.lastFetch>=bw;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let s=0;s<50;s++){const o=await this.getLatestBlockhash("finalized");if(r!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await us(pw/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:n,config:r}=Xe(t),s=this._buildArgs([],n,"base64",r),o=await this._rpcRequest("getStakeMinimumDelegation",s),i=me(o,bt(Q()));if("error"in i)throw new Ie(i.error,"failed to get stake minimum delegation");return i.result}async simulateTransaction(t,n,r){if("message"in t){const _=t.serialize(),x=Ne.Buffer.from(_).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const R=n||{};R.encoding="base64","commitment"in R||(R.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(R.innerInstructions=n.innerInstructions);const N=[x,R],k=await this._rpcRequest("simulateTransaction",N),B=me(k,Gp);if("error"in B)throw new Error("failed to simulate transaction: "+B.error.message);return B.result}let s;if(t instanceof He){let v=t;s=new He,s.feePayer=v.feePayer,s.instructions=t.instructions,s.nonceInfo=v.nonceInfo,s.signatures=v.signatures}else s=He.populate(t),s._message=s._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const o=n;if(s.nonceInfo&&o)s.sign(...o);else{let v=this._disableBlockhashCaching;for(;;){const _=await this._blockhashWithExpiryBlockHeight(v);if(s.lastValidBlockHeight=_.lastValidBlockHeight,s.recentBlockhash=_.blockhash,!o)break;if(s.sign(...o),!s.signature)throw new Error("!signature");const x=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(x)&&!this._blockhashInfo.transactionSignatures.includes(x)){this._blockhashInfo.simulatedSignatures.push(x);break}else v=!0}}const i=s._compile(),a=i.serialize(),l=s._serialize(a).toString("base64"),u={encoding:"base64",commitment:this.commitment};if(r){const v=(Array.isArray(r)?r:i.nonProgramIds()).map(_=>_.toBase58());u.accounts={encoding:"base64",addresses:v}}o&&(u.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(u.innerInstructions=n.innerInstructions);const h=[l,u],g=await this._rpcRequest("simulateTransaction",h),p=me(g,Gp);if("error"in p){let v;if("data"in p.error&&(v=p.error.data.logs,v&&Array.isArray(v))){const _=`
    `,x=_+v.join(_);console.error(p.error.message,x)}throw new yi({action:"simulate",signature:"",transactionMessage:p.error.message,logs:v})}return p.result}async sendTransaction(t,n,r){if("version"in t){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const i=t.serialize();return await this.sendRawTransaction(i,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const s=n;if(t.nonceInfo)t.sign(...s);else{let i=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(i);if(t.lastValidBlockHeight=a.lastValidBlockHeight,t.recentBlockhash=a.blockhash,t.sign(...s),!t.signature)throw new Error("!signature");const c=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))i=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const o=t.serialize();return await this.sendRawTransaction(o,r)}async sendRawTransaction(t,n){const r=ze(t).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(t,n){const r={encoding:"base64"},s=n&&n.skipPreflight,o=s===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),s&&(r.skipPreflight=s),o&&(r.preflightCommitment=o);const i=[t,r],a=await this._rpcRequest("sendTransaction",i),c=me(a,dR);if("error"in c){let l;throw"data"in c.error&&(l=c.error.data.logs),new yi({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:l})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(t,n){const r=this._subscriptionsByHash[t]?.state;if(this._subscriptionsByHash[t]=n,r!==n.state){const s=this._subscriptionStateChangeCallbacksByHash[t];s&&s.forEach(o=>{try{o(n.state)}catch{}})}}_onSubscriptionStateChange(t,n){const r=this._subscriptionHashByClientSubscriptionId[t];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(n),()=>{s.delete(n),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,n=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:i}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(i,o);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${i}\``,{args:o,error:a}),!n())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:i}=s;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(i,[o])}catch(a){if(a instanceof Error&&console.error(`${i} error:`,a.message),!n())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,n){const r=this._subscriptionCallbacksByServerSubscriptionId[t];r!==void 0&&r.forEach(s=>{try{s(...n)}catch(o){console.error(o)}})}_wsOnAccountNotification(t){const{result:n,subscription:r}=me(t,DM);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(t,n){const r=this._nextClientSubscriptionId++,s=Vp([t.method,n]),o=this._subscriptionsByHash[s];return o===void 0?this._subscriptionsByHash[s]={...t,args:n,callbacks:new Set([t.callback]),state:"pending"}:o.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const i=this._subscriptionsByHash[s];We(i!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),i.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(t,n,r){const{commitment:s,config:o}=Xe(r),i=this._buildArgs([t.toBase58()],s||this._commitment||"finalized","base64",o);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:n,subscription:r}=me(t,UM);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(t,n,r,s){const{commitment:o,config:i}=Xe(r),a=this._buildArgs([t.toBase58()],o||this._commitment||"finalized","base64",i||(s?{filters:Zp(s)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,n,r){const s=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:n,subscription:r}=me(t,gR);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(t){const{result:n,subscription:r}=me(t,$M);this._handleServerNotification(r,[n])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:n,subscription:r}=me(t,WM);this._handleServerNotification(r,[n])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${n}' events could not be found.`)}_buildArgs(t,n,r,s){const o=n||this._commitment;if(o||r||s){let i={};r&&(i.encoding=r),o&&(i.commitment=o),s&&(i=Object.assign(i,s)),t.push(i)}return t}_buildArgsAtLeastConfirmed(t,n,r,s){const o=n||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,n,r,s)}_wsOnSignatureNotification(t){const{result:n,subscription:r}=me(t,HM);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(t,n,r){const s=this._buildArgs([t],r||this._commitment||"finalized"),o=this._makeSubscription({callback:(i,a)=>{if(i.type==="status"){n(i.result,a);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return o}onSignatureWithOptions(t,n,r){const{commitment:s,...o}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},i=this._buildArgs([t],s,void 0,o),a=this._makeSubscription({callback:(c,l)=>{n(c,l);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return a}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:n,subscription:r}=me(t,KM);this._handleServerNotification(r,[n])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}class io{constructor(t){this._keypair=void 0,this._keypair=t??Fp()}static generate(){return new io(Fp())}static fromSecretKey(t,n){if(t.byteLength!==64)throw new Error("bad secret key size");const r=t.slice(32,64);if(!n||!n.skipValidation){const s=t.slice(0,32),o=Ya(s);for(let i=0;i<32;i++)if(r[i]!==o[i])throw new Error("provided secretKey is invalid")}return new io({publicKey:r,secretKey:t})}static fromSeed(t){const n=Ya(t),r=new Uint8Array(64);return r.set(t),r.set(n,32),new io({publicKey:n,secretKey:r})}get publicKey(){return new ye(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const vr=Object.freeze({CreateLookupTable:{index:0,layout:W.struct([W.u32("instruction"),So("recentSlot"),W.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:W.struct([W.u32("instruction")])},ExtendLookupTable:{index:2,layout:W.struct([W.u32("instruction"),So(),W.seq(Ue(),W.offset(W.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:W.struct([W.u32("instruction")])},CloseLookupTable:{index:4,layout:W.struct([W.u32("instruction")])}});class wR{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const r=W.u32("instruction").decode(t.data);let s;for(const[o,i]of Object.entries(vr))if(i.index==r){s=o;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(t){this.checkProgramId(t.programId),this.checkKeysLength(t.keys,4);const{recentSlot:n}=Ze(vr.CreateLookupTable,t.data);return{authority:t.keys[1].pubkey,payer:t.keys[2].pubkey,recentSlot:Number(n)}}static decodeExtendLookupTable(t){if(this.checkProgramId(t.programId),t.keys.length<2)throw new Error(`invalid instruction; found ${t.keys.length} keys, expected at least 2`);const{addresses:n}=Ze(vr.ExtendLookupTable,t.data);return{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,payer:t.keys.length>2?t.keys[2].pubkey:void 0,addresses:n.map(r=>new ye(r))}}static decodeCloseLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,3),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey,recipient:t.keys[2].pubkey}}static decodeFreezeLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static decodeDeactivateLookupTable(t){return this.checkProgramId(t.programId),this.checkKeysLength(t.keys,2),{lookupTable:t.keys[0].pubkey,authority:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(yh.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(t,n){if(t.length<n)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${n}`)}}class yh{constructor(){}static createLookupTable(t){const[n,r]=ye.findProgramAddressSync([t.authority.toBuffer(),Km().encode(t.recentSlot)],this.programId),s=vr.CreateLookupTable,o=$e(s,{recentSlot:BigInt(t.recentSlot),bumpSeed:r}),i=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:Ht.programId,isSigner:!1,isWritable:!1}];return[new Qe({programId:this.programId,keys:i,data:o}),n]}static freezeLookupTable(t){const n=vr.FreezeLookupTable,r=$e(n),s=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new Qe({programId:this.programId,keys:s,data:r})}static extendLookupTable(t){const n=vr.ExtendLookupTable,r=$e(n,{addresses:t.addresses.map(o=>o.toBytes())}),s=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return t.payer&&s.push({pubkey:t.payer,isSigner:!0,isWritable:!0},{pubkey:Ht.programId,isSigner:!1,isWritable:!1}),new Qe({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(t){const n=vr.DeactivateLookupTable,r=$e(n),s=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1}];return new Qe({programId:this.programId,keys:s,data:r})}static closeLookupTable(t){const n=vr.CloseLookupTable,r=$e(n),s=[{pubkey:t.lookupTable,isSigner:!1,isWritable:!0},{pubkey:t.authority,isSigner:!0,isWritable:!1},{pubkey:t.recipient,isSigner:!1,isWritable:!0}];return new Qe({programId:this.programId,keys:s,data:r})}}yh.programId=new ye("AddressLookupTab1e1111111111111111111111111");class bR{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const r=W.u8("instruction").decode(t.data);let s;for(const[o,i]of Object.entries(Xn))if(i.index==r){s=o;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(t){this.checkProgramId(t.programId);const{units:n,additionalFee:r}=Ze(Xn.RequestUnits,t.data);return{units:n,additionalFee:r}}static decodeRequestHeapFrame(t){this.checkProgramId(t.programId);const{bytes:n}=Ze(Xn.RequestHeapFrame,t.data);return{bytes:n}}static decodeSetComputeUnitLimit(t){this.checkProgramId(t.programId);const{units:n}=Ze(Xn.SetComputeUnitLimit,t.data);return{units:n}}static decodeSetComputeUnitPrice(t){this.checkProgramId(t.programId);const{microLamports:n}=Ze(Xn.SetComputeUnitPrice,t.data);return{microLamports:n}}static checkProgramId(t){if(!t.equals(mh.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Xn=Object.freeze({RequestUnits:{index:0,layout:W.struct([W.u8("instruction"),W.u32("units"),W.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:W.struct([W.u8("instruction"),W.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:W.struct([W.u8("instruction"),W.u32("units")])},SetComputeUnitPrice:{index:3,layout:W.struct([W.u8("instruction"),So("microLamports")])}});class mh{constructor(){}static requestUnits(t){const n=Xn.RequestUnits,r=$e(n,t);return new Qe({keys:[],programId:this.programId,data:r})}static requestHeapFrame(t){const n=Xn.RequestHeapFrame,r=$e(n,t);return new Qe({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(t){const n=Xn.SetComputeUnitLimit,r=$e(n,t);return new Qe({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(t){const n=Xn.SetComputeUnitPrice,r=$e(n,{microLamports:BigInt(t.microLamports)});return new Qe({keys:[],programId:this.programId,data:r})}}mh.programId=new ye("ComputeBudget111111111111111111111111111111");const Qp=64,Xp=32,eg=64,tg=W.struct([W.u8("numSignatures"),W.u8("padding"),W.u16("signatureOffset"),W.u16("signatureInstructionIndex"),W.u16("publicKeyOffset"),W.u16("publicKeyInstructionIndex"),W.u16("messageDataOffset"),W.u16("messageDataSize"),W.u16("messageInstructionIndex")]);class Nc{constructor(){}static createInstructionWithPublicKey(t){const{publicKey:n,message:r,signature:s,instructionIndex:o}=t;We(n.length===Xp,`Public Key must be ${Xp} bytes but received ${n.length} bytes`),We(s.length===eg,`Signature must be ${eg} bytes but received ${s.length} bytes`);const i=tg.span,a=i+n.length,c=a+s.length,l=1,u=Ne.Buffer.alloc(c+r.length),h=o??65535;return tg.encode({numSignatures:l,padding:0,signatureOffset:a,signatureInstructionIndex:h,publicKeyOffset:i,publicKeyInstructionIndex:h,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:h},u),u.fill(n,i),u.fill(s,a),u.fill(r,c),new Qe({keys:[],programId:Nc.programId,data:u})}static createInstructionWithPrivateKey(t){const{privateKey:n,message:r,instructionIndex:s}=t;We(n.length===Qp,`Private key must be ${Qp} bytes but received ${n.length} bytes`);try{const o=io.fromSecretKey(n),i=o.publicKey.toBytes(),a=ih(r,o.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:a,instructionIndex:s})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}Nc.programId=new ye("Ed25519SigVerify111111111111111111111111111");const vR=(e,t)=>{const n=oh.sign(e,t);return[n.toCompactRawBytes(),n.recovery]};oh.utils.isValidPrivateKey;const _R=oh.getPublicKey,ng=32,Qu=20,rg=64,SR=11,Xu=W.struct([W.u8("numSignatures"),W.u16("signatureOffset"),W.u8("signatureInstructionIndex"),W.u16("ethAddressOffset"),W.u8("ethAddressInstructionIndex"),W.u16("messageDataOffset"),W.u16("messageDataSize"),W.u8("messageInstructionIndex"),W.blob(20,"ethAddress"),W.blob(64,"signature"),W.u8("recoveryId")]);class ao{constructor(){}static publicKeyToEthAddress(t){We(t.length===rg,`Public key must be ${rg} bytes but received ${t.length} bytes`);try{return Ne.Buffer.from(Up(ze(t))).slice(-Qu)}catch(n){throw new Error(`Error constructing Ethereum address: ${n}`)}}static createInstructionWithPublicKey(t){const{publicKey:n,message:r,signature:s,recoveryId:o,instructionIndex:i}=t;return ao.createInstructionWithEthAddress({ethAddress:ao.publicKeyToEthAddress(n),message:r,signature:s,recoveryId:o,instructionIndex:i})}static createInstructionWithEthAddress(t){const{ethAddress:n,message:r,signature:s,recoveryId:o,instructionIndex:i=0}=t;let a;typeof n=="string"?n.startsWith("0x")?a=Ne.Buffer.from(n.substr(2),"hex"):a=Ne.Buffer.from(n,"hex"):a=n,We(a.length===Qu,`Address must be ${Qu} bytes but received ${a.length} bytes`);const c=1+SR,l=c,u=c+a.length,h=u+s.length+1,g=1,p=Ne.Buffer.alloc(Xu.span+r.length);return Xu.encode({numSignatures:g,signatureOffset:u,signatureInstructionIndex:i,ethAddressOffset:l,ethAddressInstructionIndex:i,messageDataOffset:h,messageDataSize:r.length,messageInstructionIndex:i,signature:ze(s),ethAddress:ze(a),recoveryId:o},p),p.fill(ze(r),Xu.span),new Qe({keys:[],programId:ao.programId,data:p})}static createInstructionWithPrivateKey(t){const{privateKey:n,message:r,instructionIndex:s}=t;We(n.length===ng,`Private key must be ${ng} bytes but received ${n.length} bytes`);try{const o=ze(n),i=_R(o,!1).slice(1),a=Ne.Buffer.from(Up(ze(r))),[c,l]=vR(a,o);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:c,recoveryId:l,instructionIndex:s})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}ao.programId=new ye("KeccakSecp256k11111111111111111111111111111");var Mw;const Rw=new ye("StakeConfig11111111111111111111111111111111");class Cw{constructor(t,n){this.staker=void 0,this.withdrawer=void 0,this.staker=t,this.withdrawer=n}}class Oi{constructor(t,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=n,this.custodian=r}}Mw=Oi;Oi.default=new Mw(0,0,ye.default);class ER{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const r=W.u32("instruction").decode(t.data);let s;for(const[o,i]of Object.entries(Wt))if(i.index==r){s=o;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{authorized:n,lockup:r}=Ze(Wt.Initialize,t.data);return{stakePubkey:t.keys[0].pubkey,authorized:new Cw(new ye(n.staker),new ye(n.withdrawer)),lockup:new Oi(r.unixTimestamp,r.epoch,new ye(r.custodian))}}static decodeDelegate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,6),Ze(Wt.Delegate,t.data),{stakePubkey:t.keys[0].pubkey,votePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[5].pubkey}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{newAuthorized:n,stakeAuthorizationType:r}=Ze(Wt.Authorize,t.data),s={stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new ye(n),stakeAuthorizationType:{index:r}};return t.keys.length>3&&(s.custodianPubkey=t.keys[3].pubkey),s}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{newAuthorized:n,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:o}=Ze(Wt.AuthorizeWithSeed,t.data),i={stakePubkey:t.keys[0].pubkey,authorityBase:t.keys[1].pubkey,authoritySeed:s,authorityOwner:new ye(o),newAuthorizedPubkey:new ye(n),stakeAuthorizationType:{index:r}};return t.keys.length>3&&(i.custodianPubkey=t.keys[3].pubkey),i}static decodeSplit(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:n}=Ze(Wt.Split,t.data);return{stakePubkey:t.keys[0].pubkey,splitStakePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[2].pubkey,lamports:n}}static decodeMerge(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),Ze(Wt.Merge,t.data),{stakePubkey:t.keys[0].pubkey,sourceStakePubKey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);const{lamports:n}=Ze(Wt.Withdraw,t.data),r={stakePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:n};return t.keys.length>5&&(r.custodianPubkey=t.keys[5].pubkey),r}static decodeDeactivate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),Ze(Wt.Deactivate,t.data),{stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static checkProgramId(t){if(!t.equals(Oc.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(t,n){if(t.length<n)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${n}`)}}const Wt=Object.freeze({Initialize:{index:0,layout:W.struct([W.u32("instruction"),IT(),TT()])},Authorize:{index:1,layout:W.struct([W.u32("instruction"),Ue("newAuthorized"),W.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:W.struct([W.u32("instruction")])},Split:{index:3,layout:W.struct([W.u32("instruction"),W.ns64("lamports")])},Withdraw:{index:4,layout:W.struct([W.u32("instruction"),W.ns64("lamports")])},Deactivate:{index:5,layout:W.struct([W.u32("instruction")])},Merge:{index:7,layout:W.struct([W.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:W.struct([W.u32("instruction"),Ue("newAuthorized"),W.u32("stakeAuthorizationType"),gs("authoritySeed"),Ue("authorityOwner")])}}),kR=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class Oc{constructor(){}static initialize(t){const{stakePubkey:n,authorized:r,lockup:s}=t,o=s||Oi.default,i=Wt.Initialize,a=$e(i,{authorized:{staker:ze(r.staker.toBuffer()),withdrawer:ze(r.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:ze(o.custodian.toBuffer())}}),c={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:_o,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new Qe(c)}static createAccountWithSeed(t){const n=new He;n.add(Ht.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:o}=t;return n.add(this.initialize({stakePubkey:r,authorized:s,lockup:o}))}static createAccount(t){const n=new He;n.add(Ht.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:o}=t;return n.add(this.initialize({stakePubkey:r,authorized:s,lockup:o}))}static delegate(t){const{stakePubkey:n,authorizedPubkey:r,votePubkey:s}=t,o=Wt.Delegate,i=$e(o);return new He().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:Gn,isSigner:!1,isWritable:!1},{pubkey:wa,isSigner:!1,isWritable:!1},{pubkey:Rw,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(t){const{stakePubkey:n,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:o,custodianPubkey:i}=t,a=Wt.Authorize,c=$e(a,{newAuthorized:ze(s.toBuffer()),stakeAuthorizationType:o.index}),l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Gn,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return i&&l.push({pubkey:i,isSigner:!0,isWritable:!1}),new He().add({keys:l,programId:this.programId,data:c})}static authorizeWithSeed(t){const{stakePubkey:n,authorityBase:r,authoritySeed:s,authorityOwner:o,newAuthorizedPubkey:i,stakeAuthorizationType:a,custodianPubkey:c}=t,l=Wt.AuthorizeWithSeed,u=$e(l,{newAuthorized:ze(i.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:ze(o.toBuffer())}),h=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Gn,isSigner:!1,isWritable:!1}];return c&&h.push({pubkey:c,isSigner:!0,isWritable:!1}),new He().add({keys:h,programId:this.programId,data:u})}static splitInstruction(t){const{stakePubkey:n,authorizedPubkey:r,splitStakePubkey:s,lamports:o}=t,i=Wt.Split,a=$e(i,{lamports:o});return new Qe({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(t,n){const r=new He;return r.add(Ht.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:n,space:this.space,programId:this.programId})),r.add(this.splitInstruction(t))}static splitWithSeed(t,n){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:o,basePubkey:i,seed:a,lamports:c}=t,l=new He;return l.add(Ht.allocate({accountPubkey:o,basePubkey:i,seed:a,space:this.space,programId:this.programId})),n&&n>0&&l.add(Ht.transfer({fromPubkey:t.authorizedPubkey,toPubkey:o,lamports:n})),l.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:o,lamports:c}))}static merge(t){const{stakePubkey:n,sourceStakePubKey:r,authorizedPubkey:s}=t,o=Wt.Merge,i=$e(o);return new He().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Gn,isSigner:!1,isWritable:!1},{pubkey:wa,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(t){const{stakePubkey:n,authorizedPubkey:r,toPubkey:s,lamports:o,custodianPubkey:i}=t,a=Wt.Withdraw,c=$e(a,{lamports:o}),l=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:Gn,isSigner:!1,isWritable:!1},{pubkey:wa,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return i&&l.push({pubkey:i,isSigner:!0,isWritable:!1}),new He().add({keys:l,programId:this.programId,data:c})}static deactivate(t){const{stakePubkey:n,authorizedPubkey:r}=t,s=Wt.Deactivate,o=$e(s);return new He().add({keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Gn,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}}Oc.programId=new ye("Stake11111111111111111111111111111111111111");Oc.space=200;class Nw{constructor(t,n,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=t,this.authorizedVoter=n,this.authorizedWithdrawer=r,this.commission=s}}class AR{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const r=W.u32("instruction").decode(t.data);let s;for(const[o,i]of Object.entries(er))if(i.index==r){s=o;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,4);const{voteInit:n}=Ze(er.InitializeAccount,t.data);return{votePubkey:t.keys[0].pubkey,nodePubkey:t.keys[3].pubkey,voteInit:new Nw(new ye(n.nodePubkey),new ye(n.authorizedVoter),new ye(n.authorizedWithdrawer),n.commission)}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{newAuthorized:n,voteAuthorizationType:r}=Ze(er.Authorize,t.data);return{votePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new ye(n),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:o}}=Ze(er.AuthorizeWithSeed,t.data);return{currentAuthorityDerivedKeyBasePubkey:t.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new ye(n),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new ye(s),voteAuthorizationType:{index:o},votePubkey:t.keys[0].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:n}=Ze(er.Withdraw,t.data);return{votePubkey:t.keys[0].pubkey,authorizedWithdrawerPubkey:t.keys[2].pubkey,lamports:n,toPubkey:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(Ro.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(t,n){if(t.length<n)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${n}`)}}const er=Object.freeze({InitializeAccount:{index:0,layout:W.struct([W.u32("instruction"),MT()])},Authorize:{index:1,layout:W.struct([W.u32("instruction"),Ue("newAuthorized"),W.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:W.struct([W.u32("instruction"),W.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:W.struct([W.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:W.struct([W.u32("instruction"),RT()])}}),xR=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Ro{constructor(){}static initializeAccount(t){const{votePubkey:n,nodePubkey:r,voteInit:s}=t,o=er.InitializeAccount,i=$e(o,{voteInit:{nodePubkey:ze(s.nodePubkey.toBuffer()),authorizedVoter:ze(s.authorizedVoter.toBuffer()),authorizedWithdrawer:ze(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:_o,isSigner:!1,isWritable:!1},{pubkey:Gn,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new Qe(a)}static createAccount(t){const n=new He;return n.add(Ht.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),n.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}static authorize(t){const{votePubkey:n,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:o}=t,i=er.Authorize,a=$e(i,{newAuthorized:ze(s.toBuffer()),voteAuthorizationType:o.index}),c=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Gn,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new He().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(t){const{currentAuthorityDerivedKeyBasePubkey:n,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:o,voteAuthorizationType:i,votePubkey:a}=t,c=er.AuthorizeWithSeed,l=$e(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:ze(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:ze(o.toBuffer()),voteAuthorizationType:i.index}}),u=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Gn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new He().add({keys:u,programId:this.programId,data:l})}static withdraw(t){const{votePubkey:n,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:o}=t,i=er.Withdraw,a=$e(i,{lamports:s}),c=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new He().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(t,n,r){if(t.lamports>n-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return Ro.withdraw(t)}static updateValidatorIdentity(t){const{votePubkey:n,authorizedWithdrawerPubkey:r,nodePubkey:s}=t,o=er.UpdateValidatorIdentity,i=$e(o),a=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new He().add({keys:a,programId:this.programId,data:i})}}Ro.programId=new ye("Vote111111111111111111111111111111111111111");Ro.space=3762;const Ow=new ye("Va1idator1nfo111111111111111111111111111111"),IR=he({name:ge(),website:Me(ge()),details:Me(ge()),iconUrl:Me(ge()),keybaseUsername:Me(ge())});class wh{constructor(t,n){this.key=void 0,this.info=void 0,this.key=t,this.info=n}static fromConfigData(t){let n=[...t];if(pn(n)!==2)return null;const s=[];for(let o=0;o<2;o++){const i=new ye(gn(n,0,sr)),a=Qn(n)===1;s.push({publicKey:i,isSigner:a})}if(s[0].publicKey.equals(Ow)&&s[1].isSigner){const o=gs().decode(Ne.Buffer.from(n)),i=JSON.parse(o);return Vm(i,IR),new wh(s[1].publicKey,i)}return null}}const TR=new ye("Vote111111111111111111111111111111111111111"),MR=W.struct([Ue("nodePubkey"),Ue("authorizedWithdrawer"),W.u8("commission"),W.nu64(),W.seq(W.struct([W.nu64("slot"),W.u32("confirmationCount")]),W.offset(W.u32(),-8),"votes"),W.u8("rootSlotValid"),W.nu64("rootSlot"),W.nu64(),W.seq(W.struct([W.nu64("epoch"),Ue("authorizedVoter")]),W.offset(W.u32(),-8),"authorizedVoters"),W.struct([W.seq(W.struct([Ue("authorizedPubkey"),W.nu64("epochOfLastAuthorizedSwitch"),W.nu64("targetEpoch")]),32,"buf"),W.nu64("idx"),W.u8("isEmpty")],"priorVoters"),W.nu64(),W.seq(W.struct([W.nu64("epoch"),W.nu64("credits"),W.nu64("prevCredits")]),W.offset(W.u32(),-8),"epochCredits"),W.struct([W.nu64("slot"),W.nu64("timestamp")],"lastTimestamp")]);class bh{constructor(t){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=t.nodePubkey,this.authorizedWithdrawer=t.authorizedWithdrawer,this.commission=t.commission,this.rootSlot=t.rootSlot,this.votes=t.votes,this.authorizedVoters=t.authorizedVoters,this.priorVoters=t.priorVoters,this.epochCredits=t.epochCredits,this.lastTimestamp=t.lastTimestamp}static fromAccountData(t){const r=MR.decode(ze(t),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new bh({nodePubkey:new ye(r.nodePubkey),authorizedWithdrawer:new ye(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(RR),priorVoters:CR(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function RR({authorizedVoter:e,epoch:t}){return{epoch:t,authorizedVoter:new ye(e)}}function sg({authorizedPubkey:e,epochOfLastAuthorizedSwitch:t,targetEpoch:n}){return{authorizedPubkey:new ye(e),epochOfLastAuthorizedSwitch:t,targetEpoch:n}}function CR({buf:e,idx:t,isEmpty:n}){return n?[]:[...e.slice(t+1).map(sg),...e.slice(0,t).map(sg)]}const og={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function NR(e,t){const n=t===!1?"http":"https";if(!e)return og[n].devnet;const r=og[n][e];if(!r)throw new Error(`Unknown ${n} cluster: ${e}`);return r}async function OR(e,t,n,r){let s,o;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(s=n,o=r):o=n;const i=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},a=await e.sendRawTransaction(t,i),c=o&&o.commitment,u=(await(s?e.confirmTransaction(s,c):e.confirmTransaction(a,c))).value;if(u.err)throw a!=null?new yi({action:i?.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(u)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(u)})`);return a}const BR=1e9,ig=Object.freeze(Object.defineProperty({__proto__:null,Account:kT,AddressLookupTableAccount:Yl,AddressLookupTableInstruction:wR,AddressLookupTableProgram:yh,Authorized:Cw,BLOCKHASH_CACHE_TIMEOUT_MS:bw,BPF_LOADER_DEPRECATED_PROGRAM_ID:AT,BPF_LOADER_PROGRAM_ID:WT,BpfLoader:HT,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Xn,ComputeBudgetInstruction:bR,ComputeBudgetProgram:mh,Connection:mR,Ed25519Program:Nc,Enum:ST,EpochSchedule:mw,FeeCalculatorLayout:gw,Keypair:io,LAMPORTS_PER_SOL:BR,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:vr,Loader:Is,Lockup:Oi,MAX_SEED_LENGTH:fw,Message:Wn,MessageAccountKeys:gi,MessageV0:xs,NONCE_ACCOUNT_LENGTH:Gl,NonceAccount:Mc,PACKET_DATA_SIZE:Zr,PUBLIC_KEY_LENGTH:sr,PublicKey:ye,SIGNATURE_LENGTH_IN_BYTES:pi,SOLANA_SCHEMA:ni,STAKE_CONFIG_ID:Rw,STAKE_INSTRUCTION_LAYOUTS:Wt,SYSTEM_INSTRUCTION_LAYOUTS:tt,SYSVAR_CLOCK_PUBKEY:Gn,SYSVAR_EPOCH_SCHEDULE_PUBKEY:PT,SYSVAR_INSTRUCTIONS_PUBKEY:LT,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:ma,SYSVAR_RENT_PUBKEY:_o,SYSVAR_REWARDS_PUBKEY:DT,SYSVAR_SLOT_HASHES_PUBKEY:zT,SYSVAR_SLOT_HISTORY_PUBKEY:UT,SYSVAR_STAKE_HISTORY_PUBKEY:wa,Secp256k1Program:ao,SendTransactionError:yi,SolanaJSONRPCError:Ie,SolanaJSONRPCErrorCode:jT,StakeAuthorizationLayout:kR,StakeInstruction:ER,StakeProgram:Oc,Struct:ah,SystemInstruction:$T,SystemProgram:Ht,Transaction:He,TransactionExpiredBlockheightExceededError:ch,TransactionExpiredNonceInvalidError:Gs,TransactionExpiredTimeoutError:uh,TransactionInstruction:Qe,TransactionMessage:fh,TransactionStatus:pr,VALIDATOR_INFO_KEY:Ow,VERSION_PREFIX_MASK:Ic,VOTE_PROGRAM_ID:TR,ValidatorInfo:wh,VersionedMessage:lh,VersionedTransaction:hh,VoteAccount:bh,VoteAuthorizationLayout:xR,VoteInit:Nw,VoteInstruction:AR,VoteProgram:Ro,clusterApiUrl:NR,sendAndConfirmRawTransaction:OR,sendAndConfirmTransaction:Zl},Symbol.toStringTag,{value:"Module"}));function el(e){try{return{data:e(),error:null}}catch(t){return{data:null,error:t}}}function Bw(e){return e!==null&&typeof e=="object"&&"serialize"in e&&typeof e.serialize=="function"}function PR(e){if(Bw(e))return e.serialize({requireAllSignatures:!1,verifySignatures:!1});if(e instanceof Uint8Array)return e;if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unsupported transaction format - must be Transaction, VersionedTransaction, or Uint8Array")}function LR(e){return e.length===0?!1:(e[0]&128)===0}async function DR(e){if(LR(e)){let{Transaction:t}=await Dn(async()=>{const{Transaction:n}=await Promise.resolve().then(()=>ig);return{Transaction:n}},void 0,import.meta.url);return t.from(e)}else{let{VersionedTransaction:t}=await Dn(async()=>{const{VersionedTransaction:n}=await Promise.resolve().then(()=>ig);return{VersionedTransaction:n}},void 0,import.meta.url);return t.deserialize(e)}}function tl(e){let t=Bw(e);return{serialized:PR(e),wasWeb3js:t}}async function nl(e,t){return t?await DR(e):e}var zR=Object.defineProperty,UR=(e,t,n)=>t in e?zR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Se=(e,t,n)=>UR(e,typeof t!="symbol"?t+"":t,n),jR=8078012;function Pw(e){return Array.isArray(e)?"%5B"+e.map(Pw).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function $R([e,t]){return`${e}=${Pw(t)}`}function FR(e){const t=Object.entries(e).map($R).join("&");return btoa(t)}function WR(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${FR(t)}'`),`${n}\``}}var HR=class extends Error{cause=this.cause;context;constructor(...[e,t]){let n,r;t&&Object.entries(Object.getOwnPropertyDescriptors(t)).forEach(([o,i])=>{o==="cause"?r={cause:i.value}:(n===void 0&&(n={__code:e}),Object.defineProperty(n,o,i))});const s=WR(e,n);super(s,r),this.context=Object.freeze(n===void 0?{__code:e}:n),this.name="SolanaError"}};function KR(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function VR(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(KR(t,e));return e.write(t,n,0),n}})}function qR(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}function ZR(e,t,n=t){if(!t.match(new RegExp(`^[${e}]*$`)))throw new HR(jR,{alphabet:e,base:e.length,value:n})}var GR=e=>VR({getSizeFromValue:t=>{const[n,r]=ag(t,e[0]);if(!r)return t.length;const s=cg(r,e);return n.length+Math.ceil(s.toString(16).length/2)},write(t,n,r){if(ZR(e,t),t==="")return r;const[s,o]=ag(t,e[0]);if(!o)return n.set(new Uint8Array(s.length).fill(0),r),r+s.length;let i=cg(o,e);const a=[];for(;i>0n;)a.unshift(Number(i%256n)),i/=256n;const c=[...Array(s.length).fill(0),...a];return n.set(c,r),r+c.length}}),YR=e=>qR({read(t,n){const r=n===0?t:t.slice(n);if(r.length===0)return["",0];let s=r.findIndex(c=>c!==0);s=s===-1?r.length:s;const o=e[0].repeat(s);if(s===r.length)return[o,t.length];const i=r.slice(s).reduce((c,l)=>c*256n+BigInt(l),0n),a=JR(i,e);return[o+a,t.length]}});function ag(e,t){const[n,r]=e.split(new RegExp(`((?!${t}).*)`));return[n,r]}function cg(e,t){const n=BigInt(t.length);let r=0n;for(const s of e)r*=n,r+=BigInt(t.indexOf(s));return r}function JR(e,t){const n=BigInt(t.length),r=[];for(;e>0n;)r.unshift(t[Number(e%n)]),e/=n;return r.join("")}var Lw="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",QR=()=>GR(Lw),XR=()=>YR(Lw),rl;function eC(){return rl||(rl=QR()),rl}function tC(e){if(e.length<32||e.length>44)return!1;const t=eC();try{return t.encode(e).byteLength===32}catch{return!1}}var ri={},ug={debug:0,info:1,warn:2,error:3};function nC(){return typeof process<"u"&&ri?.CONNECTOR_DEBUG_LEVEL?ri.CONNECTOR_DEBUG_LEVEL:typeof globalThis<"u"&&globalThis.__CONNECTOR_DEBUG_LEVEL__?globalThis.__CONNECTOR_DEBUG_LEVEL__:typeof window<"u"&&window.__CONNECTOR_DEBUG_LEVEL__?window.__CONNECTOR_DEBUG_LEVEL__:"info"}function Dw(){return!!(typeof process<"u"&&(ri?.CONNECTOR_DEBUG_LEVEL||ri?.CONNECTOR_DEBUG==="true"||ri?.CONNECTOR_DEBUG==="1")||typeof globalThis<"u"&&(globalThis.__CONNECTOR_DEBUG__===!0||globalThis.__CONNECTOR_DEBUG_LEVEL__)||typeof window<"u"&&(window.__CONNECTOR_DEBUG__===!0||window.__CONNECTOR_DEBUG_LEVEL__))}function rC(e,t="info",n="[Connector]"){if(!Dw()||ug[t]<ug[nC()])return;let r=typeof e=="string"?e:JSON.stringify(e,null,2);switch(t){case"debug":console.log(n,r);break;case"info":console.info(n,r);break;case"warn":console.warn(n,r);break;case"error":console.error(n,r);break}}var Bi=class extends Error{constructor(e,t,n){super(e),Se(this,"context"),Se(this,"originalError"),Se(this,"timestamp"),this.name=this.constructor.name,this.context=t,this.originalError=n,this.timestamp=new Date().toISOString(),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}toJSON(){return{name:this.name,code:this.code,message:this.message,recoverable:this.recoverable,context:this.context,timestamp:this.timestamp,originalError:this.originalError?.message}}},na=class extends Bi{constructor(e,t,n,r){super(t,n,r),Se(this,"code"),Se(this,"recoverable",!0),this.code=e}},ba=class extends Bi{constructor(e,t,n,r){super(t,n,r),Se(this,"code"),Se(this,"recoverable",!1),this.code=e}},lg=class extends Bi{constructor(e,t,n,r){super(t,n,r),Se(this,"code"),Se(this,"recoverable",!1),this.code=e}},fg=class extends Bi{constructor(e,t,n,r){super(t,n,r),Se(this,"code"),Se(this,"recoverable",!0),this.code=e}},Fr=class extends Bi{constructor(e,t,n,r){super(t,n,r),Se(this,"code"),Se(this,"recoverable"),this.code=e,this.recoverable=["USER_REJECTED","SEND_FAILED","SIMULATION_FAILED"].includes(e)}},cs={walletNotConnected:e=>new na("WALLET_NOT_CONNECTED","No wallet connected",e),walletNotFound:e=>new na("WALLET_NOT_FOUND",`Wallet not found${e?`: ${e}`:""}`,{walletName:e}),connectionFailed:e=>new na("CONNECTION_FAILED","Failed to connect to wallet",void 0,e),accountNotAvailable:e=>new na("ACCOUNT_NOT_AVAILABLE","Requested account not available",{address:e}),invalidTransaction:(e,t)=>new ba("INVALID_TRANSACTION",`Invalid transaction: ${e}`,t),invalidFormat:(e,t)=>new ba("INVALID_FORMAT",`Invalid format: expected ${e}`,{expectedFormat:e,actualFormat:t}),unsupportedFormat:e=>new ba("UNSUPPORTED_FORMAT",`Unsupported format: ${e}`,{format:e}),missingProvider:e=>new lg("MISSING_PROVIDER",`${e} must be used within ConnectorProvider. Wrap your app with <ConnectorProvider> or <UnifiedProvider>.`,{hookName:e}),clusterNotFound:(e,t)=>new lg("CLUSTER_NOT_FOUND",`Cluster ${e} not found. Available clusters: ${t.join(", ")}`,{clusterId:e,availableClusters:t}),rpcError:(e,t)=>new fg("RPC_ERROR",e,void 0,t),networkTimeout:()=>new fg("NETWORK_TIMEOUT","Network request timed out"),signingFailed:e=>new Fr("SIGNING_FAILED","Failed to sign transaction",void 0,e),featureNotSupported:e=>new Fr("FEATURE_NOT_SUPPORTED",`Wallet does not support ${e}`,{feature:e}),userRejected:e=>new Fr("USER_REJECTED",`User rejected ${e}`,{operation:e})},sC=["address","publickey","signature","account","rpcurl","url","apikey","api_key","token","secret","password","private","seed","mnemonic"],hg={debug:0,info:1,warn:2,error:3},zw=class{constructor(e={}){Se(this,"config"),this.config={enabled:e.enabled??!1,level:e.level??"debug",redactSensitive:e.redactSensitive??!0,prefix:e.prefix??"Connector",useConnectorDebug:e.useConnectorDebug??!0}}debug(e,t){this.log("debug",e,t)}info(e,t){this.log("info",e,t)}warn(e,t){this.log("warn",e,t)}error(e,t){this.log("error",e,t)}log(e,t,n){let r=this.config.useConnectorDebug?Dw():!1;if(!this.config.enabled&&!r)return;let s=this.config.level;if(this.config.useConnectorDebug&&typeof globalThis<"u"){let a=globalThis.__CONNECTOR_DEBUG_LEVEL__;a&&["debug","info","warn","error"].includes(a)&&(s=a)}if(hg[e]<hg[s])return;let o=this.config.redactSensitive?this.redact(n):n,i=o!==void 0?`${t} ${typeof o=="object"?JSON.stringify(o,null,2):o}`:t;if(this.config.useConnectorDebug&&r)rC(i,e,this.config.prefix);else{let a=`[${this.config.prefix}]`;switch(e){case"debug":console.debug(a,t,o!==void 0?o:"");break;case"info":console.info(a,t,o!==void 0?o:"");break;case"warn":console.warn(a,t,o!==void 0?o:"");break;case"error":console.error(a,t,o!==void 0?o:"");break}}}redact(e){if(e==null||typeof e!="object")return e;if(Array.isArray(e))return e.map(n=>this.redact(n));let t={};for(let[n,r]of Object.entries(e)){let s=n.toLowerCase();sC.some(o=>s.includes(o))?t[n]=this.maskValue(r):typeof r=="object"&&r!==null?t[n]=this.redact(r):t[n]=r}return t}maskValue(e){if(e==null)return"***";let t=String(e);return t.length<=8?"***":`${t.slice(0,4)}...${t.slice(-4)}`}updateConfig(e){this.config={...this.config,...e}}getConfig(){return{...this.config}}};new zw({prefix:"Connector"});function Cn(e,t){return new zw({...t,prefix:e})}let On=[],Lr=0;const ra=4;let va=0,Uw=e=>{let t=[],n={get(){return n.lc||n.listen(()=>{})(),n.value},lc:0,listen(r){return n.lc=t.push(r),()=>{for(let o=Lr+ra;o<On.length;)On[o]===r?On.splice(o,ra):o+=ra;let s=t.indexOf(r);~s&&(t.splice(s,1),--n.lc||n.off())}},notify(r,s){va++;let o=!On.length;for(let i of t)On.push(i,n.value,r,s);if(o){for(Lr=0;Lr<On.length;Lr+=ra)On[Lr](On[Lr+1],On[Lr+2],On[Lr+3]);On.length=0}},off(){},set(r){let s=n.value;s!==r&&(n.value=r,n.notify(s))},subscribe(r){let s=n.listen(r);return r(n.value),s},value:e};return n};const oC=5,sa=6,oa=10;let iC=(e,t,n,r)=>(e.events=e.events||{},e.events[n+oa]||(e.events[n+oa]=r(s=>{e.events[n].reduceRight((o,i)=>(i(o),o),{shared:{},...s})})),e.events[n]=e.events[n]||[],e.events[n].push(t),()=>{let s=e.events[n],o=s.indexOf(t);s.splice(o,1),s.length||(delete e.events[n],e.events[n+oa](),delete e.events[n+oa])}),aC=1e3,jw=(e,t)=>iC(e,r=>{let s=t(r);s&&e.events[sa].push(s)},oC,r=>{let s=e.listen;e.listen=(...i)=>(!e.lc&&!e.active&&(e.active=!0,r()),s(...i));let o=e.off;return e.events[sa]=[],e.off=()=>{o(),setTimeout(()=>{if(e.active&&!e.lc){e.active=!1;for(let i of e.events[sa])i();e.events[sa]=[]}},aC)},()=>{e.listen=s,e.off=o}}),cC=(e,t,n)=>{Array.isArray(e)||(e=[e]);let r,s,o=()=>{if(s===va)return;s=va;let l=e.map(u=>u.get());if(!r||l.some((u,h)=>u!==r[h])){r=l;let u=t(...l);u&&u.then&&u.t?u.then(h=>{r===l&&i.set(h)}):(i.set(u),s=va)}},i=Uw(void 0),a=i.get;i.get=()=>(o(),a());let c=o;return jw(i,()=>{let l=e.map(u=>u.listen(c));return o(),()=>{for(let u of l)u()}}),i},uC=(e,t)=>cC(e,t),dg=e=>e,Vs={},ef={addEventListener(){},removeEventListener(){}};function lC(){try{return typeof localStorage<"u"}catch{return!1}}lC()&&(Vs=localStorage);let fC={addEventListener(e,t,n){window.addEventListener("storage",t),window.addEventListener("pageshow",n)},removeEventListener(e,t,n){window.removeEventListener("storage",t),window.removeEventListener("pageshow",n)}};typeof window<"u"&&(ef=fC);function hC(e,t=void 0,n={}){let r=n.encode||dg,s=n.decode||dg,o=Uw(t),i=o.set;o.set=l=>{let u=r(l);typeof u>"u"?delete Vs[e]:Vs[e]=u,i(l)};function a(l){l.key===e?l.newValue===null?i(t):i(s(l.newValue)):Vs[e]||i(t)}function c(){o.set(Vs[e]?s(Vs[e]):t)}return jw(o,()=>{if(c(),n.listen!==!1)return ef.addEventListener(e,a,c),()=>{ef.removeEventListener(e,a,c)}}),o}function Bc(e,{id:t,label:n,url:r}){return typeof e=="string"?{id:t,label:n,url:e}:{id:t,label:e.label??n,url:e.url??r}}function dC(e={}){return Bc(e,{id:"solana:devnet",label:"Devnet",url:"devnet"})}function pC(e={}){return Bc(e,{id:"solana:localnet",label:"Localnet",url:"localnet"})}function gC(e={}){return Bc(e,{id:"solana:mainnet",label:"Mainnet",url:"mainnet"})}function yC(e={}){return Bc(e,{id:"solana:testnet",label:"Testnet",url:"testnet"})}var mC=class{constructor(e,t){this.key=e,this.initial=t,this.atom=hC(e,t,{decode:JSON.parse,encode:JSON.stringify})}atom;get(){return this.atom.get()}set(e){this.atom.set(e)}get value(){return uC(this.atom,e=>e)}};function ae(e,t,n){function r(a,c){if(a._zod||Object.defineProperty(a,"_zod",{value:{def:c,constr:i,traits:new Set},enumerable:!1}),a._zod.traits.has(e))return;a._zod.traits.add(e),t(a,c);const l=i.prototype,u=Object.keys(l);for(let h=0;h<u.length;h++){const g=u[h];g in a||(a[g]=l[g].bind(a))}}const s=n?.Parent??Object;class o extends s{}Object.defineProperty(o,"name",{value:e});function i(a){var c;const l=n?.Parent?new o:this;r(l,a),(c=l._zod).deferred??(c.deferred=[]);for(const u of l._zod.deferred)u();return l}return Object.defineProperty(i,"init",{value:r}),Object.defineProperty(i,Symbol.hasInstance,{value:a=>n?.Parent&&a instanceof n.Parent?!0:a?._zod?.traits?.has(e)}),Object.defineProperty(i,"name",{value:e}),i}class co extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class $w extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const Fw={};function Yr(e){return Fw}function Ww(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,s])=>t.indexOf(+r)===-1).map(([r,s])=>s)}function tf(e,t){return typeof t=="bigint"?t.toString():t}function vh(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function _h(e){return e==null}function Sh(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function wC(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let s=(r.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(r)){const c=r.match(/\d?e-(\d?)/);c?.[1]&&(s=Number.parseInt(c[1]))}const o=n>s?n:s,i=Number.parseInt(e.toFixed(o).replace(".","")),a=Number.parseInt(t.toFixed(o).replace(".",""));return i%a/10**o}const pg=Symbol("evaluating");function Ye(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==pg)return r===void 0&&(r=pg,r=n()),r},set(s){Object.defineProperty(e,t,{value:s})},configurable:!0})}function Bs(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function es(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function gg(e){return JSON.stringify(e)}function bC(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Hw="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Qa(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const vC=vh(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Eo(e){if(Qa(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(Qa(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Kw(e){return Eo(e)?{...e}:Array.isArray(e)?[...e]:e}const _C=new Set(["string","number","symbol"]);function ko(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ts(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function Te(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function SC(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const EC={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function kC(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const o=es(e._zod.def,{get shape(){const i={};for(const a in t){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&(i[a]=n.shape[a])}return Bs(this,"shape",i),i},checks:[]});return ts(e,o)}function AC(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const o=es(e._zod.def,{get shape(){const i={...e._zod.def.shape};for(const a in t){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&delete i[a]}return Bs(this,"shape",i),i},checks:[]});return ts(e,o)}function xC(e,t){if(!Eo(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const o=e._zod.def.shape;for(const i in t)if(Object.getOwnPropertyDescriptor(o,i)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const s=es(e._zod.def,{get shape(){const o={...e._zod.def.shape,...t};return Bs(this,"shape",o),o}});return ts(e,s)}function IC(e,t){if(!Eo(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=es(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return Bs(this,"shape",r),r}});return ts(e,n)}function TC(e,t){const n=es(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return Bs(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return ts(e,n)}function MC(e,t,n){const s=t._zod.def.checks;if(s&&s.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const i=es(t._zod.def,{get shape(){const a=t._zod.def.shape,c={...a};if(n)for(const l in n){if(!(l in a))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(c[l]=e?new e({type:"optional",innerType:a[l]}):a[l])}else for(const l in a)c[l]=e?new e({type:"optional",innerType:a[l]}):a[l];return Bs(this,"shape",c),c},checks:[]});return ts(t,i)}function RC(e,t,n){const r=es(t._zod.def,{get shape(){const s=t._zod.def.shape,o={...s};if(n)for(const i in n){if(!(i in o))throw new Error(`Unrecognized key: "${i}"`);n[i]&&(o[i]=new e({type:"nonoptional",innerType:s[i]}))}else for(const i in s)o[i]=new e({type:"nonoptional",innerType:s[i]});return Bs(this,"shape",o),o}});return ts(t,r)}function Ys(e,t=0){if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function Js(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function ia(e){return typeof e=="string"?e:e?.message}function Jr(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const s=ia(e.inst?._zod.def?.error?.(e))??ia(t?.error?.(e))??ia(n.customError?.(e))??ia(n.localeError?.(e))??"Invalid input";r.message=s}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function Eh(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function wi(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const Vw=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,tf,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},qw=ae("$ZodError",Vw),Zw=ae("$ZodError",Vw,{Parent:Error});function CC(e,t=n=>n.message){const n={},r=[];for(const s of e.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):r.push(t(s));return{formErrors:r,fieldErrors:n}}function NC(e,t=n=>n.message){const n={_errors:[]},r=s=>{for(const o of s.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(i=>r({issues:i}));else if(o.code==="invalid_key")r({issues:o.issues});else if(o.code==="invalid_element")r({issues:o.issues});else if(o.path.length===0)n._errors.push(t(o));else{let i=n,a=0;for(;a<o.path.length;){const c=o.path[a];a===o.path.length-1?(i[c]=i[c]||{_errors:[]},i[c]._errors.push(t(o))):i[c]=i[c]||{_errors:[]},i=i[c],a++}}};return r(e),n}const kh=e=>(t,n,r,s)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},i=t._zod.run({value:n,issues:[]},o);if(i instanceof Promise)throw new co;if(i.issues.length){const a=new(s?.Err??e)(i.issues.map(c=>Jr(c,o,Yr())));throw Hw(a,s?.callee),a}return i.value},Ah=e=>async(t,n,r,s)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},o);if(i instanceof Promise&&(i=await i),i.issues.length){const a=new(s?.Err??e)(i.issues.map(c=>Jr(c,o,Yr())));throw Hw(a,s?.callee),a}return i.value},Pc=e=>(t,n,r)=>{const s=r?{...r,async:!1}:{async:!1},o=t._zod.run({value:n,issues:[]},s);if(o instanceof Promise)throw new co;return o.issues.length?{success:!1,error:new(e??qw)(o.issues.map(i=>Jr(i,s,Yr())))}:{success:!0,data:o.value}},OC=Pc(Zw),Lc=e=>async(t,n,r)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},s);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(i=>Jr(i,s,Yr())))}:{success:!0,data:o.value}},BC=Lc(Zw),PC=e=>(t,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return kh(e)(t,n,s)},LC=e=>(t,n,r)=>kh(e)(t,n,r),DC=e=>async(t,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Ah(e)(t,n,s)},zC=e=>async(t,n,r)=>Ah(e)(t,n,r),UC=e=>(t,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Pc(e)(t,n,s)},jC=e=>(t,n,r)=>Pc(e)(t,n,r),$C=e=>async(t,n,r)=>{const s=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Lc(e)(t,n,s)},FC=e=>async(t,n,r)=>Lc(e)(t,n,r),WC=/^[cC][^\s-]{8,}$/,HC=/^[0-9a-z]+$/,KC=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,VC=/^[0-9a-vA-V]{20}$/,qC=/^[A-Za-z0-9]{27}$/,ZC=/^[a-zA-Z0-9_-]{21}$/,GC=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,YC=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,yg=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,JC=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,QC="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function XC(){return new RegExp(QC,"u")}const e2=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,t2=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,n2=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,r2=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,s2=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Gw=/^[A-Za-z0-9_-]*$/,o2=/^\+[1-9]\d{6,14}$/,Yw="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",i2=new RegExp(`^${Yw}$`);function Jw(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function a2(e){return new RegExp(`^${Jw(e)}$`)}function c2(e){const t=Jw({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${Yw}T(?:${r})$`)}const u2=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},l2=/^-?\d+$/,Qw=/^-?\d+(?:\.\d+)?$/,f2=/^(?:true|false)$/i,h2=/^[^A-Z]*$/,d2=/^[^a-z]*$/,wn=ae("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Xw={number:"number",bigint:"bigint",object:"date"},eb=ae("$ZodCheckLessThan",(e,t)=>{wn.init(e,t);const n=Xw[typeof t.value];e._zod.onattach.push(r=>{const s=r._zod.bag,o=(t.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<o&&(t.inclusive?s.maximum=t.value:s.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),tb=ae("$ZodCheckGreaterThan",(e,t)=>{wn.init(e,t);const n=Xw[typeof t.value];e._zod.onattach.push(r=>{const s=r._zod.bag,o=(t.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>o&&(t.inclusive?s.minimum=t.value:s.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),p2=ae("$ZodCheckMultipleOf",(e,t)=>{wn.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):wC(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),g2=ae("$ZodCheckNumberFormat",(e,t)=>{wn.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),r=n?"int":"number",[s,o]=EC[t.format];e._zod.onattach.push(i=>{const a=i._zod.bag;a.format=t.format,a.minimum=s,a.maximum=o,n&&(a.pattern=l2)}),e._zod.check=i=>{const a=i.value;if(n){if(!Number.isInteger(a)){i.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:a,inst:e});return}if(!Number.isSafeInteger(a)){a>0?i.issues.push({input:a,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}):i.issues.push({input:a,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort});return}}a<s&&i.issues.push({origin:"number",input:a,code:"too_small",minimum:s,inclusive:!0,inst:e,continue:!t.abort}),a>o&&i.issues.push({origin:"number",input:a,code:"too_big",maximum:o,inclusive:!0,inst:e,continue:!t.abort})}}),y2=ae("$ZodCheckMaxLength",(e,t)=>{var n;wn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!_h(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const s=r.value;if(s.length<=t.maximum)return;const i=Eh(s);r.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),m2=ae("$ZodCheckMinLength",(e,t)=>{var n;wn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!_h(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const s=r.value;if(s.length>=t.minimum)return;const i=Eh(s);r.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),w2=ae("$ZodCheckLengthEquals",(e,t)=>{var n;wn.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!_h(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=r=>{const s=r.value,o=s.length;if(o===t.length)return;const i=Eh(s),a=o>t.length;r.issues.push({origin:i,...a?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),Dc=ae("$ZodCheckStringFormat",(e,t)=>{var n,r;wn.init(e,t),e._zod.onattach.push(s=>{const o=s._zod.bag;o.format=t.format,t.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),b2=ae("$ZodCheckRegex",(e,t)=>{Dc.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),v2=ae("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=h2),Dc.init(e,t)}),_2=ae("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=d2),Dc.init(e,t)}),S2=ae("$ZodCheckIncludes",(e,t)=>{wn.init(e,t);const n=ko(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(s=>{const o=s._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:e,continue:!t.abort})}}),E2=ae("$ZodCheckStartsWith",(e,t)=>{wn.init(e,t);const n=new RegExp(`^${ko(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),k2=ae("$ZodCheckEndsWith",(e,t)=>{wn.init(e,t);const n=new RegExp(`.*${ko(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),A2=ae("$ZodCheckOverwrite",(e,t)=>{wn.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class x2{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(i=>i),s=Math.min(...r.map(i=>i.length-i.trimStart().length)),o=r.map(i=>i.slice(s)).map(i=>" ".repeat(this.indent*2)+i);for(const i of o)this.content.push(i)}compile(){const t=Function,n=this?.args,s=[...(this?.content??[""]).map(o=>`  ${o}`)];return new t(...n,s.join(`
`))}}const I2={major:4,minor:3,patch:6},ut=ae("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=I2;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const s of r)for(const o of s._zod.onattach)o(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const s=(i,a,c)=>{let l=Ys(i),u;for(const h of a){if(h._zod.def.when){if(!h._zod.def.when(i))continue}else if(l)continue;const g=i.issues.length,p=h._zod.check(i);if(p instanceof Promise&&c?.async===!1)throw new co;if(u||p instanceof Promise)u=(u??Promise.resolve()).then(async()=>{await p,i.issues.length!==g&&(l||(l=Ys(i,g)))});else{if(i.issues.length===g)continue;l||(l=Ys(i,g))}}return u?u.then(()=>i):i},o=(i,a,c)=>{if(Ys(i))return i.aborted=!0,i;const l=s(a,r,c);if(l instanceof Promise){if(c.async===!1)throw new co;return l.then(u=>e._zod.parse(u,c))}return e._zod.parse(l,c)};e._zod.run=(i,a)=>{if(a.skipChecks)return e._zod.parse(i,a);if(a.direction==="backward"){const l=e._zod.parse({value:i.value,issues:[]},{...a,skipChecks:!0});return l instanceof Promise?l.then(u=>o(u,i,a)):o(l,i,a)}const c=e._zod.parse(i,a);if(c instanceof Promise){if(a.async===!1)throw new co;return c.then(l=>s(l,r,a))}return s(c,r,a)}}Ye(e,"~standard",()=>({validate:s=>{try{const o=OC(e,s);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return BC(e,s).then(i=>i.success?{value:i.data}:{issues:i.error?.issues})}},vendor:"zod",version:1}))}),xh=ae("$ZodString",(e,t)=>{ut.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??u2(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),st=ae("$ZodStringFormat",(e,t)=>{Dc.init(e,t),xh.init(e,t)}),T2=ae("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=YC),st.init(e,t)}),M2=ae("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=yg(r))}else t.pattern??(t.pattern=yg());st.init(e,t)}),R2=ae("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=JC),st.init(e,t)}),C2=ae("$ZodURL",(e,t)=>{st.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),s=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=s.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),N2=ae("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=XC()),st.init(e,t)}),O2=ae("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=ZC),st.init(e,t)}),B2=ae("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=WC),st.init(e,t)}),P2=ae("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=HC),st.init(e,t)}),L2=ae("$ZodULID",(e,t)=>{t.pattern??(t.pattern=KC),st.init(e,t)}),D2=ae("$ZodXID",(e,t)=>{t.pattern??(t.pattern=VC),st.init(e,t)}),z2=ae("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=qC),st.init(e,t)}),U2=ae("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=c2(t)),st.init(e,t)}),j2=ae("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=i2),st.init(e,t)}),$2=ae("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=a2(t)),st.init(e,t)}),F2=ae("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=GC),st.init(e,t)}),W2=ae("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=e2),st.init(e,t),e._zod.bag.format="ipv4"}),H2=ae("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=t2),st.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),K2=ae("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=n2),st.init(e,t)}),V2=ae("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=r2),st.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[s,o]=r;if(!o)throw new Error;const i=Number(o);if(`${i}`!==o)throw new Error;if(i<0||i>128)throw new Error;new URL(`http://[${s}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function nb(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const q2=ae("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=s2),st.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{nb(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function Z2(e){if(!Gw.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return nb(n)}const G2=ae("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Gw),st.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{Z2(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),Y2=ae("$ZodE164",(e,t)=>{t.pattern??(t.pattern=o2),st.init(e,t)});function J2(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const s=JSON.parse(atob(r));return!("typ"in s&&s?.typ!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const Q2=ae("$ZodJWT",(e,t)=>{st.init(e,t),e._zod.check=n=>{J2(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),rb=ae("$ZodNumber",(e,t)=>{ut.init(e,t),e._zod.pattern=e._zod.bag.pattern??Qw,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const s=n.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return n;const o=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:s,inst:e,...o?{received:o}:{}}),n}}),X2=ae("$ZodNumberFormat",(e,t)=>{g2.init(e,t),rb.init(e,t)}),eN=ae("$ZodBoolean",(e,t)=>{ut.init(e,t),e._zod.pattern=f2,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const s=n.value;return typeof s=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:e}),n}}),tN=ae("$ZodUnknown",(e,t)=>{ut.init(e,t),e._zod.parse=n=>n}),nN=ae("$ZodNever",(e,t)=>{ut.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function mg(e,t,n){e.issues.length&&t.issues.push(...Js(n,e.issues)),t.value[n]=e.value}const rN=ae("$ZodArray",(e,t)=>{ut.init(e,t),e._zod.parse=(n,r)=>{const s=n.value;if(!Array.isArray(s))return n.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),n;n.value=Array(s.length);const o=[];for(let i=0;i<s.length;i++){const a=s[i],c=t.element._zod.run({value:a,issues:[]},r);c instanceof Promise?o.push(c.then(l=>mg(l,n,i))):mg(c,n,i)}return o.length?Promise.all(o).then(()=>n):n}});function Xa(e,t,n,r,s){if(e.issues.length){if(s&&!(n in r))return;t.issues.push(...Js(n,e.issues))}e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function sb(e){const t=Object.keys(e.shape);for(const r of t)if(!e.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=SC(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function ob(e,t,n,r,s,o){const i=[],a=s.keySet,c=s.catchall._zod,l=c.def.type,u=c.optout==="optional";for(const h in t){if(a.has(h))continue;if(l==="never"){i.push(h);continue}const g=c.run({value:t[h],issues:[]},r);g instanceof Promise?e.push(g.then(p=>Xa(p,n,h,t,u))):Xa(g,n,h,t,u)}return i.length&&n.issues.push({code:"unrecognized_keys",keys:i,input:t,inst:o}),e.length?Promise.all(e).then(()=>n):n}const sN=ae("$ZodObject",(e,t)=>{if(ut.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const a=t.shape;Object.defineProperty(t,"shape",{get:()=>{const c={...a};return Object.defineProperty(t,"shape",{value:c}),c}})}const r=vh(()=>sb(t));Ye(e._zod,"propValues",()=>{const a=t.shape,c={};for(const l in a){const u=a[l]._zod;if(u.values){c[l]??(c[l]=new Set);for(const h of u.values)c[l].add(h)}}return c});const s=Qa,o=t.catchall;let i;e._zod.parse=(a,c)=>{i??(i=r.value);const l=a.value;if(!s(l))return a.issues.push({expected:"object",code:"invalid_type",input:l,inst:e}),a;a.value={};const u=[],h=i.shape;for(const g of i.keys){const p=h[g],v=p._zod.optout==="optional",_=p._zod.run({value:l[g],issues:[]},c);_ instanceof Promise?u.push(_.then(x=>Xa(x,a,g,l,v))):Xa(_,a,g,l,v)}return o?ob(u,l,a,c,r.value,e):u.length?Promise.all(u).then(()=>a):a}}),oN=ae("$ZodObjectJIT",(e,t)=>{sN.init(e,t);const n=e._zod.parse,r=vh(()=>sb(t)),s=g=>{const p=new x2(["shape","payload","ctx"]),v=r.value,_=k=>{const B=gg(k);return`shape[${B}]._zod.run({ value: input[${B}], issues: [] }, ctx)`};p.write("const input = payload.value;");const x=Object.create(null);let R=0;for(const k of v.keys)x[k]=`key_${R++}`;p.write("const newResult = {};");for(const k of v.keys){const B=x[k],F=gg(k),te=g[k]?._zod?.optout==="optional";p.write(`const ${B} = ${_(k)};`),te?p.write(`
        if (${B}.issues.length) {
          if (${F} in input) {
            payload.issues = payload.issues.concat(${B}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${F}, ...iss.path] : [${F}]
            })));
          }
        }
        
        if (${B}.value === undefined) {
          if (${F} in input) {
            newResult[${F}] = undefined;
          }
        } else {
          newResult[${F}] = ${B}.value;
        }
        
      `):p.write(`
        if (${B}.issues.length) {
          payload.issues = payload.issues.concat(${B}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${F}, ...iss.path] : [${F}]
          })));
        }
        
        if (${B}.value === undefined) {
          if (${F} in input) {
            newResult[${F}] = undefined;
          }
        } else {
          newResult[${F}] = ${B}.value;
        }
        
      `)}p.write("payload.value = newResult;"),p.write("return payload;");const N=p.compile();return(k,B)=>N(g,k,B)};let o;const i=Qa,a=!Fw.jitless,l=a&&vC.value,u=t.catchall;let h;e._zod.parse=(g,p)=>{h??(h=r.value);const v=g.value;return i(v)?a&&l&&p?.async===!1&&p.jitless!==!0?(o||(o=s(t.shape)),g=o(g,p),u?ob([],v,g,p,h,e):g):n(g,p):(g.issues.push({expected:"object",code:"invalid_type",input:v,inst:e}),g)}});function wg(e,t,n,r){for(const o of e)if(o.issues.length===0)return t.value=o.value,t;const s=e.filter(o=>!Ys(o));return s.length===1?(t.value=s[0].value,s[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(o=>o.issues.map(i=>Jr(i,r,Yr())))}),t)}const iN=ae("$ZodUnion",(e,t)=>{ut.init(e,t),Ye(e._zod,"optin",()=>t.options.some(s=>s._zod.optin==="optional")?"optional":void 0),Ye(e._zod,"optout",()=>t.options.some(s=>s._zod.optout==="optional")?"optional":void 0),Ye(e._zod,"values",()=>{if(t.options.every(s=>s._zod.values))return new Set(t.options.flatMap(s=>Array.from(s._zod.values)))}),Ye(e._zod,"pattern",()=>{if(t.options.every(s=>s._zod.pattern)){const s=t.options.map(o=>o._zod.pattern);return new RegExp(`^(${s.map(o=>Sh(o.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(s,o)=>{if(n)return r(s,o);let i=!1;const a=[];for(const c of t.options){const l=c._zod.run({value:s.value,issues:[]},o);if(l instanceof Promise)a.push(l),i=!0;else{if(l.issues.length===0)return l;a.push(l)}}return i?Promise.all(a).then(c=>wg(c,s,e,o)):wg(a,s,e,o)}}),aN=ae("$ZodIntersection",(e,t)=>{ut.init(e,t),e._zod.parse=(n,r)=>{const s=n.value,o=t.left._zod.run({value:s,issues:[]},r),i=t.right._zod.run({value:s,issues:[]},r);return o instanceof Promise||i instanceof Promise?Promise.all([o,i]).then(([c,l])=>bg(n,c,l)):bg(n,o,i)}});function nf(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Eo(e)&&Eo(t)){const n=Object.keys(t),r=Object.keys(e).filter(o=>n.indexOf(o)!==-1),s={...e,...t};for(const o of r){const i=nf(e[o],t[o]);if(!i.valid)return{valid:!1,mergeErrorPath:[o,...i.mergeErrorPath]};s[o]=i.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r],i=nf(s,o);if(!i.valid)return{valid:!1,mergeErrorPath:[r,...i.mergeErrorPath]};n.push(i.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function bg(e,t,n){const r=new Map;let s;for(const a of t.issues)if(a.code==="unrecognized_keys"){s??(s=a);for(const c of a.keys)r.has(c)||r.set(c,{}),r.get(c).l=!0}else e.issues.push(a);for(const a of n.issues)if(a.code==="unrecognized_keys")for(const c of a.keys)r.has(c)||r.set(c,{}),r.get(c).r=!0;else e.issues.push(a);const o=[...r].filter(([,a])=>a.l&&a.r).map(([a])=>a);if(o.length&&s&&e.issues.push({...s,keys:o}),Ys(e))return e;const i=nf(t.value,n.value);if(!i.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(i.mergeErrorPath)}`);return e.value=i.data,e}const cN=ae("$ZodRecord",(e,t)=>{ut.init(e,t),e._zod.parse=(n,r)=>{const s=n.value;if(!Eo(s))return n.issues.push({expected:"record",code:"invalid_type",input:s,inst:e}),n;const o=[],i=t.keyType._zod.values;if(i){n.value={};const a=new Set;for(const l of i)if(typeof l=="string"||typeof l=="number"||typeof l=="symbol"){a.add(typeof l=="number"?l.toString():l);const u=t.valueType._zod.run({value:s[l],issues:[]},r);u instanceof Promise?o.push(u.then(h=>{h.issues.length&&n.issues.push(...Js(l,h.issues)),n.value[l]=h.value})):(u.issues.length&&n.issues.push(...Js(l,u.issues)),n.value[l]=u.value)}let c;for(const l in s)a.has(l)||(c=c??[],c.push(l));c&&c.length>0&&n.issues.push({code:"unrecognized_keys",input:s,inst:e,keys:c})}else{n.value={};for(const a of Reflect.ownKeys(s)){if(a==="__proto__")continue;let c=t.keyType._zod.run({value:a,issues:[]},r);if(c instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof a=="string"&&Qw.test(a)&&c.issues.length){const h=t.keyType._zod.run({value:Number(a),issues:[]},r);if(h instanceof Promise)throw new Error("Async schemas not supported in object keys currently");h.issues.length===0&&(c=h)}if(c.issues.length){t.mode==="loose"?n.value[a]=s[a]:n.issues.push({code:"invalid_key",origin:"record",issues:c.issues.map(h=>Jr(h,r,Yr())),input:a,path:[a],inst:e});continue}const u=t.valueType._zod.run({value:s[a],issues:[]},r);u instanceof Promise?o.push(u.then(h=>{h.issues.length&&n.issues.push(...Js(a,h.issues)),n.value[c.value]=h.value})):(u.issues.length&&n.issues.push(...Js(a,u.issues)),n.value[c.value]=u.value)}}return o.length?Promise.all(o).then(()=>n):n}}),uN=ae("$ZodEnum",(e,t)=>{ut.init(e,t);const n=Ww(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(s=>_C.has(typeof s)).map(s=>typeof s=="string"?ko(s):s.toString()).join("|")})$`),e._zod.parse=(s,o)=>{const i=s.value;return r.has(i)||s.issues.push({code:"invalid_value",values:n,input:i,inst:e}),s}}),lN=ae("$ZodLiteral",(e,t)=>{if(ut.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?ko(r):r?ko(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,s)=>{const o=r.value;return n.has(o)||r.issues.push({code:"invalid_value",values:t.values,input:o,inst:e}),r}}),fN=ae("$ZodTransform",(e,t)=>{ut.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new $w(e.constructor.name);const s=t.transform(n.value,n);if(r.async)return(s instanceof Promise?s:Promise.resolve(s)).then(i=>(n.value=i,n));if(s instanceof Promise)throw new co;return n.value=s,n}});function vg(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const ib=ae("$ZodOptional",(e,t)=>{ut.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Ye(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Ye(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Sh(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(o=>vg(o,n.value)):vg(s,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),hN=ae("$ZodExactOptional",(e,t)=>{ib.init(e,t),Ye(e._zod,"values",()=>t.innerType._zod.values),Ye(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,r)=>t.innerType._zod.run(n,r)}),dN=ae("$ZodNullable",(e,t)=>{ut.init(e,t),Ye(e._zod,"optin",()=>t.innerType._zod.optin),Ye(e._zod,"optout",()=>t.innerType._zod.optout),Ye(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Sh(n.source)}|null)$`):void 0}),Ye(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),pN=ae("$ZodDefault",(e,t)=>{ut.init(e,t),e._zod.optin="optional",Ye(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(o=>_g(o,t)):_g(s,t)}});function _g(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const gN=ae("$ZodPrefault",(e,t)=>{ut.init(e,t),e._zod.optin="optional",Ye(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),yN=ae("$ZodNonOptional",(e,t)=>{ut.init(e,t),Ye(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(o=>Sg(o,e)):Sg(s,e)}});function Sg(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const mN=ae("$ZodCatch",(e,t)=>{ut.init(e,t),Ye(e._zod,"optin",()=>t.innerType._zod.optin),Ye(e._zod,"optout",()=>t.innerType._zod.optout),Ye(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(o=>(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(i=>Jr(i,r,Yr()))},input:n.value}),n.issues=[]),n)):(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(o=>Jr(o,r,Yr()))},input:n.value}),n.issues=[]),n)}}),wN=ae("$ZodPipe",(e,t)=>{ut.init(e,t),Ye(e._zod,"values",()=>t.in._zod.values),Ye(e._zod,"optin",()=>t.in._zod.optin),Ye(e._zod,"optout",()=>t.out._zod.optout),Ye(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const o=t.out._zod.run(n,r);return o instanceof Promise?o.then(i=>aa(i,t.in,r)):aa(o,t.in,r)}const s=t.in._zod.run(n,r);return s instanceof Promise?s.then(o=>aa(o,t.out,r)):aa(s,t.out,r)}});function aa(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const bN=ae("$ZodReadonly",(e,t)=>{ut.init(e,t),Ye(e._zod,"propValues",()=>t.innerType._zod.propValues),Ye(e._zod,"values",()=>t.innerType._zod.values),Ye(e._zod,"optin",()=>t.innerType?._zod?.optin),Ye(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(Eg):Eg(s)}});function Eg(e){return e.value=Object.freeze(e.value),e}const vN=ae("$ZodCustom",(e,t)=>{wn.init(e,t),ut.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,s=t.fn(r);if(s instanceof Promise)return s.then(o=>kg(o,n,r,e));kg(s,n,r,e)}});function kg(e,t,n,r){if(!e){const s={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(s.params=r._zod.def.params),t.issues.push(wi(s))}}var Ag;class _N{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];return this._map.set(t,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const s={...r,...this._map.get(t)};return Object.keys(s).length?s:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function SN(){return new _N}(Ag=globalThis).__zod_globalRegistry??(Ag.__zod_globalRegistry=SN());const Ko=globalThis.__zod_globalRegistry;function EN(e,t){return new e({type:"string",...Te(t)})}function kN(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Te(t)})}function xg(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Te(t)})}function AN(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Te(t)})}function xN(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Te(t)})}function IN(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Te(t)})}function TN(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Te(t)})}function MN(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Te(t)})}function RN(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Te(t)})}function CN(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Te(t)})}function NN(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Te(t)})}function ON(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Te(t)})}function BN(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Te(t)})}function PN(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Te(t)})}function LN(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Te(t)})}function DN(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Te(t)})}function zN(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Te(t)})}function UN(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Te(t)})}function jN(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Te(t)})}function $N(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Te(t)})}function FN(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Te(t)})}function WN(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Te(t)})}function HN(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Te(t)})}function KN(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Te(t)})}function VN(e,t){return new e({type:"string",format:"date",check:"string_format",...Te(t)})}function qN(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Te(t)})}function ZN(e,t){return new e({type:"string",format:"duration",check:"string_format",...Te(t)})}function GN(e,t){return new e({type:"number",checks:[],...Te(t)})}function YN(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Te(t)})}function JN(e,t){return new e({type:"boolean",...Te(t)})}function QN(e){return new e({type:"unknown"})}function XN(e,t){return new e({type:"never",...Te(t)})}function Ig(e,t){return new eb({check:"less_than",...Te(t),value:e,inclusive:!1})}function sl(e,t){return new eb({check:"less_than",...Te(t),value:e,inclusive:!0})}function Tg(e,t){return new tb({check:"greater_than",...Te(t),value:e,inclusive:!1})}function ol(e,t){return new tb({check:"greater_than",...Te(t),value:e,inclusive:!0})}function Mg(e,t){return new p2({check:"multiple_of",...Te(t),value:e})}function ab(e,t){return new y2({check:"max_length",...Te(t),maximum:e})}function ec(e,t){return new m2({check:"min_length",...Te(t),minimum:e})}function cb(e,t){return new w2({check:"length_equals",...Te(t),length:e})}function eO(e,t){return new b2({check:"string_format",format:"regex",...Te(t),pattern:e})}function tO(e){return new v2({check:"string_format",format:"lowercase",...Te(e)})}function nO(e){return new _2({check:"string_format",format:"uppercase",...Te(e)})}function rO(e,t){return new S2({check:"string_format",format:"includes",...Te(t),includes:e})}function sO(e,t){return new E2({check:"string_format",format:"starts_with",...Te(t),prefix:e})}function oO(e,t){return new k2({check:"string_format",format:"ends_with",...Te(t),suffix:e})}function Co(e){return new A2({check:"overwrite",tx:e})}function iO(e){return Co(t=>t.normalize(e))}function aO(){return Co(e=>e.trim())}function cO(){return Co(e=>e.toLowerCase())}function uO(){return Co(e=>e.toUpperCase())}function lO(){return Co(e=>bC(e))}function fO(e,t,n){return new e({type:"array",element:t,...Te(n)})}function hO(e,t,n){const r=Te(n);return r.abort??(r.abort=!0),new e({type:"custom",check:"custom",fn:t,...r})}function dO(e,t,n){return new e({type:"custom",check:"custom",fn:t,...Te(n)})}function pO(e){const t=gO(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(wi(r,n.value,t._zod.def));else{const s=r;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),n.issues.push(wi(s))}},e(n.value,n)));return t}function gO(e,t){const n=new wn({check:"custom",...Te(t)});return n._zod.check=e,n}function ub(e){let t=e?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??Ko,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function Ut(e,t,n={path:[],schemaPath:[]}){var r;const s=e._zod.def,o=t.seen.get(e);if(o)return o.count++,n.schemaPath.includes(e)&&(o.cycle=n.path),o.schema;const i={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,i);const a=e._zod.toJSONSchema?.();if(a)i.schema=a;else{const u={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,i.schema,u);else{const g=i.schema,p=t.processors[s.type];if(!p)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${s.type}`);p(e,t,g,u)}const h=e._zod.parent;h&&(i.ref||(i.ref=h),Ut(h,t,u),t.seen.get(h).isParent=!0)}const c=t.metadataRegistry.get(e);return c&&Object.assign(i.schema,c),t.io==="input"&&an(e)&&(delete i.schema.examples,delete i.schema.default),t.io==="input"&&i.schema._prefault&&((r=i.schema).default??(r.default=i.schema._prefault)),delete i.schema._prefault,t.seen.get(e).schema}function lb(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const i of e.seen.entries()){const a=e.metadataRegistry.get(i[0])?.id;if(a){const c=r.get(a);if(c&&c!==i[0])throw new Error(`Duplicate schema id "${a}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(a,i[0])}}const s=i=>{const a=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const h=e.external.registry.get(i[0])?.id,g=e.external.uri??(v=>v);if(h)return{ref:g(h)};const p=i[1].defId??i[1].schema.id??`schema${e.counter++}`;return i[1].defId=p,{defId:p,ref:`${g("__shared")}#/${a}/${p}`}}if(i[1]===n)return{ref:"#"};const l=`#/${a}/`,u=i[1].schema.id??`__schema${e.counter++}`;return{defId:u,ref:l+u}},o=i=>{if(i[1].schema.$ref)return;const a=i[1],{ref:c,defId:l}=s(i);a.def={...a.schema},l&&(a.defId=l);const u=a.schema;for(const h in u)delete u[h];u.$ref=c};if(e.cycles==="throw")for(const i of e.seen.entries()){const a=i[1];if(a.cycle)throw new Error(`Cycle detected: #/${a.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const i of e.seen.entries()){const a=i[1];if(t===i[0]){o(i);continue}if(e.external){const l=e.external.registry.get(i[0])?.id;if(t!==i[0]&&l){o(i);continue}}if(e.metadataRegistry.get(i[0])?.id){o(i);continue}if(a.cycle){o(i);continue}if(a.count>1&&e.reused==="ref"){o(i);continue}}}function fb(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=i=>{const a=e.seen.get(i);if(a.ref===null)return;const c=a.def??a.schema,l={...c},u=a.ref;if(a.ref=null,u){r(u);const g=e.seen.get(u),p=g.schema;if(p.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(c.allOf=c.allOf??[],c.allOf.push(p)):Object.assign(c,p),Object.assign(c,l),i._zod.parent===u)for(const _ in c)_==="$ref"||_==="allOf"||_ in l||delete c[_];if(p.$ref&&g.def)for(const _ in c)_==="$ref"||_==="allOf"||_ in g.def&&JSON.stringify(c[_])===JSON.stringify(g.def[_])&&delete c[_]}const h=i._zod.parent;if(h&&h!==u){r(h);const g=e.seen.get(h);if(g?.schema.$ref&&(c.$ref=g.schema.$ref,g.def))for(const p in c)p==="$ref"||p==="allOf"||p in g.def&&JSON.stringify(c[p])===JSON.stringify(g.def[p])&&delete c[p]}e.override({zodSchema:i,jsonSchema:c,path:a.path??[]})};for(const i of[...e.seen.entries()].reverse())r(i[0]);const s={};if(e.target==="draft-2020-12"?s.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?s.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?s.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const i=e.external.registry.get(t)?.id;if(!i)throw new Error("Schema is missing an `id` property");s.$id=e.external.uri(i)}Object.assign(s,n.def??n.schema);const o=e.external?.defs??{};for(const i of e.seen.entries()){const a=i[1];a.def&&a.defId&&(o[a.defId]=a.def)}e.external||Object.keys(o).length>0&&(e.target==="draft-2020-12"?s.$defs=o:s.definitions=o);try{const i=JSON.parse(JSON.stringify(s));return Object.defineProperty(i,"~standard",{value:{...t["~standard"],jsonSchema:{input:tc(t,"input",e.processors),output:tc(t,"output",e.processors)}},enumerable:!1,writable:!1}),i}catch{throw new Error("Error converting schema to JSON.")}}function an(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return an(r.element,n);if(r.type==="set")return an(r.valueType,n);if(r.type==="lazy")return an(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return an(r.innerType,n);if(r.type==="intersection")return an(r.left,n)||an(r.right,n);if(r.type==="record"||r.type==="map")return an(r.keyType,n)||an(r.valueType,n);if(r.type==="pipe")return an(r.in,n)||an(r.out,n);if(r.type==="object"){for(const s in r.shape)if(an(r.shape[s],n))return!0;return!1}if(r.type==="union"){for(const s of r.options)if(an(s,n))return!0;return!1}if(r.type==="tuple"){for(const s of r.items)if(an(s,n))return!0;return!!(r.rest&&an(r.rest,n))}return!1}const yO=(e,t={})=>n=>{const r=ub({...n,processors:t});return Ut(e,r),lb(r,e),fb(r,e)},tc=(e,t,n={})=>r=>{const{libraryOptions:s,target:o}=r??{},i=ub({...s??{},target:o,io:t,processors:n});return Ut(e,i),lb(i,e),fb(i,e)},mO={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},wO=(e,t,n,r)=>{const s=n;s.type="string";const{minimum:o,maximum:i,format:a,patterns:c,contentEncoding:l}=e._zod.bag;if(typeof o=="number"&&(s.minLength=o),typeof i=="number"&&(s.maxLength=i),a&&(s.format=mO[a]??a,s.format===""&&delete s.format,a==="time"&&delete s.format),l&&(s.contentEncoding=l),c&&c.size>0){const u=[...c];u.length===1?s.pattern=u[0].source:u.length>1&&(s.allOf=[...u.map(h=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:h.source}))])}},bO=(e,t,n,r)=>{const s=n,{minimum:o,maximum:i,format:a,multipleOf:c,exclusiveMaximum:l,exclusiveMinimum:u}=e._zod.bag;typeof a=="string"&&a.includes("int")?s.type="integer":s.type="number",typeof u=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(s.minimum=u,s.exclusiveMinimum=!0):s.exclusiveMinimum=u),typeof o=="number"&&(s.minimum=o,typeof u=="number"&&t.target!=="draft-04"&&(u>=o?delete s.minimum:delete s.exclusiveMinimum)),typeof l=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(s.maximum=l,s.exclusiveMaximum=!0):s.exclusiveMaximum=l),typeof i=="number"&&(s.maximum=i,typeof l=="number"&&t.target!=="draft-04"&&(l<=i?delete s.maximum:delete s.exclusiveMaximum)),typeof c=="number"&&(s.multipleOf=c)},vO=(e,t,n,r)=>{n.type="boolean"},_O=(e,t,n,r)=>{n.not={}},SO=(e,t,n,r)=>{},EO=(e,t,n,r)=>{const s=e._zod.def,o=Ww(s.entries);o.every(i=>typeof i=="number")&&(n.type="number"),o.every(i=>typeof i=="string")&&(n.type="string"),n.enum=o},kO=(e,t,n,r)=>{const s=e._zod.def,o=[];for(const i of s.values)if(i===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof i=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");o.push(Number(i))}else o.push(i);if(o.length!==0)if(o.length===1){const i=o[0];n.type=i===null?"null":typeof i,t.target==="draft-04"||t.target==="openapi-3.0"?n.enum=[i]:n.const=i}else o.every(i=>typeof i=="number")&&(n.type="number"),o.every(i=>typeof i=="string")&&(n.type="string"),o.every(i=>typeof i=="boolean")&&(n.type="boolean"),o.every(i=>i===null)&&(n.type="null"),n.enum=o},AO=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},xO=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},IO=(e,t,n,r)=>{const s=n,o=e._zod.def,{minimum:i,maximum:a}=e._zod.bag;typeof i=="number"&&(s.minItems=i),typeof a=="number"&&(s.maxItems=a),s.type="array",s.items=Ut(o.element,t,{...r,path:[...r.path,"items"]})},TO=(e,t,n,r)=>{const s=n,o=e._zod.def;s.type="object",s.properties={};const i=o.shape;for(const l in i)s.properties[l]=Ut(i[l],t,{...r,path:[...r.path,"properties",l]});const a=new Set(Object.keys(i)),c=new Set([...a].filter(l=>{const u=o.shape[l]._zod;return t.io==="input"?u.optin===void 0:u.optout===void 0}));c.size>0&&(s.required=Array.from(c)),o.catchall?._zod.def.type==="never"?s.additionalProperties=!1:o.catchall?o.catchall&&(s.additionalProperties=Ut(o.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):t.io==="output"&&(s.additionalProperties=!1)},MO=(e,t,n,r)=>{const s=e._zod.def,o=s.inclusive===!1,i=s.options.map((a,c)=>Ut(a,t,{...r,path:[...r.path,o?"oneOf":"anyOf",c]}));o?n.oneOf=i:n.anyOf=i},RO=(e,t,n,r)=>{const s=e._zod.def,o=Ut(s.left,t,{...r,path:[...r.path,"allOf",0]}),i=Ut(s.right,t,{...r,path:[...r.path,"allOf",1]}),a=l=>"allOf"in l&&Object.keys(l).length===1,c=[...a(o)?o.allOf:[o],...a(i)?i.allOf:[i]];n.allOf=c},CO=(e,t,n,r)=>{const s=n,o=e._zod.def;s.type="object";const i=o.keyType,c=i._zod.bag?.patterns;if(o.mode==="loose"&&c&&c.size>0){const u=Ut(o.valueType,t,{...r,path:[...r.path,"patternProperties","*"]});s.patternProperties={};for(const h of c)s.patternProperties[h.source]=u}else(t.target==="draft-07"||t.target==="draft-2020-12")&&(s.propertyNames=Ut(o.keyType,t,{...r,path:[...r.path,"propertyNames"]})),s.additionalProperties=Ut(o.valueType,t,{...r,path:[...r.path,"additionalProperties"]});const l=i._zod.values;if(l){const u=[...l].filter(h=>typeof h=="string"||typeof h=="number");u.length>0&&(s.required=u)}},NO=(e,t,n,r)=>{const s=e._zod.def,o=Ut(s.innerType,t,r),i=t.seen.get(e);t.target==="openapi-3.0"?(i.ref=s.innerType,n.nullable=!0):n.anyOf=[o,{type:"null"}]},OO=(e,t,n,r)=>{const s=e._zod.def;Ut(s.innerType,t,r);const o=t.seen.get(e);o.ref=s.innerType},BO=(e,t,n,r)=>{const s=e._zod.def;Ut(s.innerType,t,r);const o=t.seen.get(e);o.ref=s.innerType,n.default=JSON.parse(JSON.stringify(s.defaultValue))},PO=(e,t,n,r)=>{const s=e._zod.def;Ut(s.innerType,t,r);const o=t.seen.get(e);o.ref=s.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(s.defaultValue)))},LO=(e,t,n,r)=>{const s=e._zod.def;Ut(s.innerType,t,r);const o=t.seen.get(e);o.ref=s.innerType;let i;try{i=s.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=i},DO=(e,t,n,r)=>{const s=e._zod.def,o=t.io==="input"?s.in._zod.def.type==="transform"?s.out:s.in:s.out;Ut(o,t,r);const i=t.seen.get(e);i.ref=o},zO=(e,t,n,r)=>{const s=e._zod.def;Ut(s.innerType,t,r);const o=t.seen.get(e);o.ref=s.innerType,n.readOnly=!0},hb=(e,t,n,r)=>{const s=e._zod.def;Ut(s.innerType,t,r);const o=t.seen.get(e);o.ref=s.innerType},UO=ae("ZodISODateTime",(e,t)=>{U2.init(e,t),ft.init(e,t)});function jO(e){return KN(UO,e)}const $O=ae("ZodISODate",(e,t)=>{j2.init(e,t),ft.init(e,t)});function FO(e){return VN($O,e)}const WO=ae("ZodISOTime",(e,t)=>{$2.init(e,t),ft.init(e,t)});function HO(e){return qN(WO,e)}const KO=ae("ZodISODuration",(e,t)=>{F2.init(e,t),ft.init(e,t)});function VO(e){return ZN(KO,e)}const qO=(e,t)=>{qw.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>NC(e,n)},flatten:{value:n=>CC(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,tf,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,tf,2)}},isEmpty:{get(){return e.issues.length===0}}})},Nn=ae("ZodError",qO,{Parent:Error}),ZO=kh(Nn),GO=Ah(Nn),YO=Pc(Nn),JO=Lc(Nn),QO=PC(Nn),XO=LC(Nn),eB=DC(Nn),tB=zC(Nn),nB=UC(Nn),rB=jC(Nn),sB=$C(Nn),oB=FC(Nn),lt=ae("ZodType",(e,t)=>(ut.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:tc(e,"input"),output:tc(e,"output")}}),e.toJSONSchema=yO(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(es(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),e.with=e.check,e.clone=(n,r)=>ts(e,n,r),e.brand=()=>e,e.register=((n,r)=>(n.add(e,r),e)),e.parse=(n,r)=>ZO(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>YO(e,n,r),e.parseAsync=async(n,r)=>GO(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>JO(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>QO(e,n,r),e.decode=(n,r)=>XO(e,n,r),e.encodeAsync=async(n,r)=>eB(e,n,r),e.decodeAsync=async(n,r)=>tB(e,n,r),e.safeEncode=(n,r)=>nB(e,n,r),e.safeDecode=(n,r)=>rB(e,n,r),e.safeEncodeAsync=async(n,r)=>sB(e,n,r),e.safeDecodeAsync=async(n,r)=>oB(e,n,r),e.refine=(n,r)=>e.check(JB(n,r)),e.superRefine=n=>e.check(QB(n)),e.overwrite=n=>e.check(Co(n)),e.optional=()=>Ng(e),e.exactOptional=()=>UB(e),e.nullable=()=>Og(e),e.nullish=()=>Ng(Og(e)),e.nonoptional=n=>KB(e,n),e.array=()=>or(e),e.or=n=>mb([e,n]),e.and=n=>NB(e,n),e.transform=n=>Bg(e,DB(n)),e.default=n=>FB(e,n),e.prefault=n=>HB(e,n),e.catch=n=>qB(e,n),e.pipe=n=>Bg(e,n),e.readonly=()=>YB(e),e.describe=n=>{const r=e.clone();return Ko.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){return Ko.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Ko.get(e);const r=e.clone();return Ko.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),db=ae("_ZodString",(e,t)=>{xh.init(e,t),lt.init(e,t),e._zod.processJSONSchema=(r,s,o)=>wO(e,r,s);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(eO(...r)),e.includes=(...r)=>e.check(rO(...r)),e.startsWith=(...r)=>e.check(sO(...r)),e.endsWith=(...r)=>e.check(oO(...r)),e.min=(...r)=>e.check(ec(...r)),e.max=(...r)=>e.check(ab(...r)),e.length=(...r)=>e.check(cb(...r)),e.nonempty=(...r)=>e.check(ec(1,...r)),e.lowercase=r=>e.check(tO(r)),e.uppercase=r=>e.check(nO(r)),e.trim=()=>e.check(aO()),e.normalize=(...r)=>e.check(iO(...r)),e.toLowerCase=()=>e.check(cO()),e.toUpperCase=()=>e.check(uO()),e.slugify=()=>e.check(lO())}),iB=ae("ZodString",(e,t)=>{xh.init(e,t),db.init(e,t),e.email=n=>e.check(kN(aB,n)),e.url=n=>e.check(MN(cB,n)),e.jwt=n=>e.check(HN(EB,n)),e.emoji=n=>e.check(RN(uB,n)),e.guid=n=>e.check(xg(Rg,n)),e.uuid=n=>e.check(AN(ca,n)),e.uuidv4=n=>e.check(xN(ca,n)),e.uuidv6=n=>e.check(IN(ca,n)),e.uuidv7=n=>e.check(TN(ca,n)),e.nanoid=n=>e.check(CN(lB,n)),e.guid=n=>e.check(xg(Rg,n)),e.cuid=n=>e.check(NN(fB,n)),e.cuid2=n=>e.check(ON(hB,n)),e.ulid=n=>e.check(BN(dB,n)),e.base64=n=>e.check($N(vB,n)),e.base64url=n=>e.check(FN(_B,n)),e.xid=n=>e.check(PN(pB,n)),e.ksuid=n=>e.check(LN(gB,n)),e.ipv4=n=>e.check(DN(yB,n)),e.ipv6=n=>e.check(zN(mB,n)),e.cidrv4=n=>e.check(UN(wB,n)),e.cidrv6=n=>e.check(jN(bB,n)),e.e164=n=>e.check(WN(SB,n)),e.datetime=n=>e.check(jO(n)),e.date=n=>e.check(FO(n)),e.time=n=>e.check(HO(n)),e.duration=n=>e.check(VO(n))});function Zt(e){return EN(iB,e)}const ft=ae("ZodStringFormat",(e,t)=>{st.init(e,t),db.init(e,t)}),aB=ae("ZodEmail",(e,t)=>{R2.init(e,t),ft.init(e,t)}),Rg=ae("ZodGUID",(e,t)=>{T2.init(e,t),ft.init(e,t)}),ca=ae("ZodUUID",(e,t)=>{M2.init(e,t),ft.init(e,t)}),cB=ae("ZodURL",(e,t)=>{C2.init(e,t),ft.init(e,t)}),uB=ae("ZodEmoji",(e,t)=>{N2.init(e,t),ft.init(e,t)}),lB=ae("ZodNanoID",(e,t)=>{O2.init(e,t),ft.init(e,t)}),fB=ae("ZodCUID",(e,t)=>{B2.init(e,t),ft.init(e,t)}),hB=ae("ZodCUID2",(e,t)=>{P2.init(e,t),ft.init(e,t)}),dB=ae("ZodULID",(e,t)=>{L2.init(e,t),ft.init(e,t)}),pB=ae("ZodXID",(e,t)=>{D2.init(e,t),ft.init(e,t)}),gB=ae("ZodKSUID",(e,t)=>{z2.init(e,t),ft.init(e,t)}),yB=ae("ZodIPv4",(e,t)=>{W2.init(e,t),ft.init(e,t)}),mB=ae("ZodIPv6",(e,t)=>{H2.init(e,t),ft.init(e,t)}),wB=ae("ZodCIDRv4",(e,t)=>{K2.init(e,t),ft.init(e,t)}),bB=ae("ZodCIDRv6",(e,t)=>{V2.init(e,t),ft.init(e,t)}),vB=ae("ZodBase64",(e,t)=>{q2.init(e,t),ft.init(e,t)}),_B=ae("ZodBase64URL",(e,t)=>{G2.init(e,t),ft.init(e,t)}),SB=ae("ZodE164",(e,t)=>{Y2.init(e,t),ft.init(e,t)}),EB=ae("ZodJWT",(e,t)=>{Q2.init(e,t),ft.init(e,t)}),pb=ae("ZodNumber",(e,t)=>{rb.init(e,t),lt.init(e,t),e._zod.processJSONSchema=(r,s,o)=>bO(e,r,s),e.gt=(r,s)=>e.check(Tg(r,s)),e.gte=(r,s)=>e.check(ol(r,s)),e.min=(r,s)=>e.check(ol(r,s)),e.lt=(r,s)=>e.check(Ig(r,s)),e.lte=(r,s)=>e.check(sl(r,s)),e.max=(r,s)=>e.check(sl(r,s)),e.int=r=>e.check(Cg(r)),e.safe=r=>e.check(Cg(r)),e.positive=r=>e.check(Tg(0,r)),e.nonnegative=r=>e.check(ol(0,r)),e.negative=r=>e.check(Ig(0,r)),e.nonpositive=r=>e.check(sl(0,r)),e.multipleOf=(r,s)=>e.check(Mg(r,s)),e.step=(r,s)=>e.check(Mg(r,s)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function _a(e){return GN(pb,e)}const kB=ae("ZodNumberFormat",(e,t)=>{X2.init(e,t),pb.init(e,t)});function Cg(e){return YN(kB,e)}const AB=ae("ZodBoolean",(e,t)=>{eN.init(e,t),lt.init(e,t),e._zod.processJSONSchema=(n,r,s)=>vO(e,n,r)});function tr(e){return JN(AB,e)}const xB=ae("ZodUnknown",(e,t)=>{tN.init(e,t),lt.init(e,t),e._zod.processJSONSchema=(n,r,s)=>SO()});function rf(){return QN(xB)}const IB=ae("ZodNever",(e,t)=>{nN.init(e,t),lt.init(e,t),e._zod.processJSONSchema=(n,r,s)=>_O(e,n,r)});function gb(e){return XN(IB,e)}const TB=ae("ZodArray",(e,t)=>{rN.init(e,t),lt.init(e,t),e._zod.processJSONSchema=(n,r,s)=>IO(e,n,r,s),e.element=t.element,e.min=(n,r)=>e.check(ec(n,r)),e.nonempty=n=>e.check(ec(1,n)),e.max=(n,r)=>e.check(ab(n,r)),e.length=(n,r)=>e.check(cb(n,r)),e.unwrap=()=>e.element});function or(e,t){return fO(TB,e,t)}const Ih=ae("ZodObject",(e,t)=>{oN.init(e,t),lt.init(e,t),e._zod.processJSONSchema=(n,r,s)=>TO(e,n,r,s),Ye(e,"shape",()=>t.shape),e.keyof=()=>Th(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:rf()}),e.loose=()=>e.clone({...e._zod.def,catchall:rf()}),e.strict=()=>e.clone({...e._zod.def,catchall:gb()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>xC(e,n),e.safeExtend=n=>IC(e,n),e.merge=n=>TC(e,n),e.pick=n=>kC(e,n),e.omit=n=>AC(e,n),e.partial=(...n)=>MC(bb,e,n[0]),e.required=(...n)=>RC(vb,e,n[0])});function Ps(e,t){const n={type:"object",shape:e??{},...Te(t)};return new Ih(n)}function yb(e,t){return new Ih({type:"object",shape:e,catchall:gb(),...Te(t)})}function MB(e,t){return new Ih({type:"object",shape:e,catchall:rf(),...Te(t)})}const RB=ae("ZodUnion",(e,t)=>{iN.init(e,t),lt.init(e,t),e._zod.processJSONSchema=(n,r,s)=>MO(e,n,r,s),e.options=t.options});function mb(e,t){return new RB({type:"union",options:e,...Te(t)})}const CB=ae("ZodIntersection",(e,t)=>{aN.init(e,t),lt.init(e,t),e._zod.processJSONSchema=(n,r,s)=>RO(e,n,r,s)});function NB(e,t){return new CB({type:"intersection",left:e,right:t})}const OB=ae("ZodRecord",(e,t)=>{cN.init(e,t),lt.init(e,t),e._zod.processJSONSchema=(n,r,s)=>CO(e,n,r,s),e.keyType=t.keyType,e.valueType=t.valueType});function wb(e,t,n){return new OB({type:"record",keyType:e,valueType:t,...Te(n)})}const sf=ae("ZodEnum",(e,t)=>{uN.init(e,t),lt.init(e,t),e._zod.processJSONSchema=(r,s,o)=>EO(e,r,s),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,s)=>{const o={};for(const i of r)if(n.has(i))o[i]=t.entries[i];else throw new Error(`Key ${i} not found in enum`);return new sf({...t,checks:[],...Te(s),entries:o})},e.exclude=(r,s)=>{const o={...t.entries};for(const i of r)if(n.has(i))delete o[i];else throw new Error(`Key ${i} not found in enum`);return new sf({...t,checks:[],...Te(s),entries:o})}});function Th(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new sf({type:"enum",entries:n,...Te(t)})}const BB=ae("ZodLiteral",(e,t)=>{lN.init(e,t),lt.init(e,t),e._zod.processJSONSchema=(n,r,s)=>kO(e,n,r),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function PB(e,t){return new BB({type:"literal",values:Array.isArray(e)?e:[e],...Te(t)})}const LB=ae("ZodTransform",(e,t)=>{fN.init(e,t),lt.init(e,t),e._zod.processJSONSchema=(n,r,s)=>xO(e,n),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new $w(e.constructor.name);n.addIssue=o=>{if(typeof o=="string")n.issues.push(wi(o,n.value,t));else{const i=o;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),n.issues.push(wi(i))}};const s=t.transform(n.value,n);return s instanceof Promise?s.then(o=>(n.value=o,n)):(n.value=s,n)}});function DB(e){return new LB({type:"transform",transform:e})}const bb=ae("ZodOptional",(e,t)=>{ib.init(e,t),lt.init(e,t),e._zod.processJSONSchema=(n,r,s)=>hb(e,n,r,s),e.unwrap=()=>e._zod.def.innerType});function Ng(e){return new bb({type:"optional",innerType:e})}const zB=ae("ZodExactOptional",(e,t)=>{hN.init(e,t),lt.init(e,t),e._zod.processJSONSchema=(n,r,s)=>hb(e,n,r,s),e.unwrap=()=>e._zod.def.innerType});function UB(e){return new zB({type:"optional",innerType:e})}const jB=ae("ZodNullable",(e,t)=>{dN.init(e,t),lt.init(e,t),e._zod.processJSONSchema=(n,r,s)=>NO(e,n,r,s),e.unwrap=()=>e._zod.def.innerType});function Og(e){return new jB({type:"nullable",innerType:e})}const $B=ae("ZodDefault",(e,t)=>{pN.init(e,t),lt.init(e,t),e._zod.processJSONSchema=(n,r,s)=>BO(e,n,r,s),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function FB(e,t){return new $B({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Kw(t)}})}const WB=ae("ZodPrefault",(e,t)=>{gN.init(e,t),lt.init(e,t),e._zod.processJSONSchema=(n,r,s)=>PO(e,n,r,s),e.unwrap=()=>e._zod.def.innerType});function HB(e,t){return new WB({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Kw(t)}})}const vb=ae("ZodNonOptional",(e,t)=>{yN.init(e,t),lt.init(e,t),e._zod.processJSONSchema=(n,r,s)=>OO(e,n,r,s),e.unwrap=()=>e._zod.def.innerType});function KB(e,t){return new vb({type:"nonoptional",innerType:e,...Te(t)})}const VB=ae("ZodCatch",(e,t)=>{mN.init(e,t),lt.init(e,t),e._zod.processJSONSchema=(n,r,s)=>LO(e,n,r,s),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function qB(e,t){return new VB({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const ZB=ae("ZodPipe",(e,t)=>{wN.init(e,t),lt.init(e,t),e._zod.processJSONSchema=(n,r,s)=>DO(e,n,r,s),e.in=t.in,e.out=t.out});function Bg(e,t){return new ZB({type:"pipe",in:e,out:t})}const GB=ae("ZodReadonly",(e,t)=>{bN.init(e,t),lt.init(e,t),e._zod.processJSONSchema=(n,r,s)=>zO(e,n,r,s),e.unwrap=()=>e._zod.def.innerType});function YB(e){return new GB({type:"readonly",innerType:e})}const _b=ae("ZodCustom",(e,t)=>{vN.init(e,t),lt.init(e,t),e._zod.processJSONSchema=(n,r,s)=>AO(e,n)});function Ss(e,t){return hO(_b,e??(()=>!0),t)}function JB(e,t={}){return dO(_b,e,t)}function QB(e){return pO(e)}var XB={};function of(e){return`wallet-standard:${e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}`}function Sb(e){return e.status==="connected"}var Eb={status:"disconnected"},ls=null,af=null,Sa=null,cf=new Promise((e,t)=>{if(typeof window>"u"){e();return}Sa=e;let n=window.navigator;if(n.wallets&&typeof n.wallets.get=="function"){ls=n.wallets,e();return}af=Dn(()=>import("./BGFLXSC9.js"),[],import.meta.url).then(r=>{let s=r.getWallets?.();s&&(ls=s),e()}).catch(r=>{console.warn("[standard-shim] Failed to load @wallet-standard/app:",r),e()})});function nc(){if(typeof window>"u")return{get:()=>[],on:()=>()=>{}};if(!ls&&!af){let e=window.navigator;e.wallets&&typeof e.wallets.get=="function"?(ls=e.wallets,Sa?.()):af=Dn(()=>import("./BGFLXSC9.js"),[],import.meta.url).then(t=>{let n=t.getWallets?.();n&&(ls=n),Sa?.()}).catch(()=>{Sa?.()})}return{get:()=>{try{let e=window.navigator.wallets||ls;if(e&&typeof e.get=="function"){let t=e.get();return Array.isArray(t)?t:[]}return[]}catch{return[]}},on:(e,t)=>{try{let n=window.navigator.wallets||ls;return n&&typeof n.on=="function"?n.on(e,t):()=>{}}catch{return()=>{}}}}}var ua={mainnet:"https://api.mainnet-beta.solana.com",devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com",localnet:"http://localhost:8899"};function eP(e){switch(e.toLowerCase().replace("-beta","")){case"mainnet":return"mainnet";case"devnet":return"devnet";case"testnet":return"testnet";case"localnet":return"localnet";default:return"mainnet"}}function tP(e){return`solana:${eP(e)}`}function nP(e,t){if(typeof e!="object"||e===null)return;let n=e[t];return typeof n=="string"?n:void 0}function rP(e){if(typeof e=="string"){let r={...ua,"mainnet-beta":ua.mainnet};if(r[e])return r[e];throw new Error(`Unknown cluster: ${e}`)}let t=e.url??nP(e,"rpcUrl");if(!t)throw new Error("Cluster URL is required");if(t.startsWith("http://")||t.startsWith("https://"))return t;let n={...ua,"mainnet-beta":ua.mainnet};return n[t]?n[t]:t}var la=[1e3,2e3,3e3,5e3,5e3],sP=3,oP=20,iP=class{constructor(e){Se(this,"state"),Se(this,"listeners",new Set),Se(this,"notifyTimeout"),this.state=e}updateState(e,t=!1){let n=!1,r={...this.state};for(let[s,o]of Object.entries(e)){let i=s,a=r[i];Array.isArray(o)&&Array.isArray(a)?this.arraysEqual(o,a)||(r[i]=o,n=!0):o&&typeof o=="object"&&a&&typeof a=="object"?this.objectsEqual(o,a)||(r[i]=o,n=!0):a!==o&&(r[i]=o,n=!0)}return n&&(this.state=r,t?this.notifyImmediate():this.notify()),n}arraysEqual(e,t){return e.length!==t.length?!1:e.length===0?!0:e[0]&&typeof e[0]=="object"&&"name"in e[0]&&t[0]&&typeof t[0]=="object"&&"name"in t[0]?e.every((n,r)=>{let s=n,o=t[r];if(!o||typeof o!="object")return!1;let i=Object.keys(s),a=Object.keys(o);return i.length!==a.length?!1:i.every(c=>s[c]===o[c])}):e[0]&&typeof e[0]=="object"&&"address"in e[0]&&t[0]&&typeof t[0]=="object"&&"address"in t[0]?e.every((n,r)=>{let s=n,o=t[r];return s.address===o?.address}):e===t}objectsEqual(e,t){if(e===t)return!0;if(!e||!t||typeof e!="object"||typeof t!="object")return!1;let n=Object.keys(e),r=Object.keys(t);return n.length!==r.length?!1:n.every(s=>e[s]===t[s])}subscribe(e){return this.listeners.add(e),()=>this.listeners.delete(e)}getSnapshot(){return this.state}notify(){this.notifyTimeout&&clearTimeout(this.notifyTimeout),this.notifyTimeout=setTimeout(()=>{this.listeners.forEach(e=>e(this.state)),this.notifyTimeout=void 0},16)}notifyImmediate(){this.notifyTimeout&&(clearTimeout(this.notifyTimeout),this.notifyTimeout=void 0),this.listeners.forEach(e=>e(this.state))}clear(){this.listeners.clear()}},Pg=Cn("EventEmitter"),aP=class{constructor(e=!1){Se(this,"listeners",new Set),Se(this,"debug"),this.debug=e}on(e){return this.listeners.add(e),()=>this.listeners.delete(e)}off(e){this.listeners.delete(e)}offAll(){this.listeners.clear()}emit(e){let t={...e,timestamp:e.timestamp??new Date().toISOString()};this.debug&&Pg.debug("Event emitted",{type:t.type,event:t}),this.listeners.forEach(n=>{try{n(t)}catch(r){Pg.error("Event listener error",{error:r})}})}getListenerCount(){return this.listeners.size}static timestamp(){return new Date().toISOString()}},cP=class{constructor(){Se(this,"stateUpdates",0),Se(this,"noopUpdates",0),Se(this,"updateTimes",[]),Se(this,"lastUpdateTime",0),Se(this,"eventListenerCount",0),Se(this,"subscriptionCount",0)}recordUpdate(e,t){t?this.stateUpdates++:this.noopUpdates++,this.updateTimes.push(e),this.updateTimes.length>100&&this.updateTimes.shift(),this.lastUpdateTime=Date.now()}updateListenerCounts(e,t){this.eventListenerCount=e,this.subscriptionCount=t}getMetrics(){let e=this.stateUpdates+this.noopUpdates,t=e>0?Math.round(this.noopUpdates/e*100):0,n=this.updateTimes.length>0?this.updateTimes.reduce((r,s)=>r+s,0)/this.updateTimes.length:0;return{stateUpdates:this.stateUpdates,noopUpdates:this.noopUpdates,optimizationRate:t,eventListenerCount:this.eventListenerCount,subscriptionCount:this.subscriptionCount,avgUpdateTimeMs:Math.round(n*100)/100,lastUpdateTime:this.lastUpdateTime}}resetMetrics(){this.stateUpdates=0,this.noopUpdates=0,this.updateTimes=[],this.lastUpdateTime=0}},zc=class{constructor(e,t){Se(this,"stateManager"),Se(this,"eventEmitter"),Se(this,"debug"),Se(this,"logger"),this.stateManager=e.stateManager,this.eventEmitter=e.eventEmitter,this.debug=e.debug??!1,this.logger=Cn(t)}log(e,t){this.debug&&this.logger.debug(e,t)}error(e,t){this.debug&&this.logger.error(e,t)}getState(){return this.stateManager.getSnapshot()}},Lg=Cn("WalletAuthenticity"),uP=class{static verify(e,t){let n=[],r=t.toLowerCase();Lg.debug("Verifying wallet with dynamic heuristics",{name:r});let s={walletStandardCompliance:0,methodIntegrity:0,chainSupport:0,maliciousPatterns:1,identityConsistency:0},o=this.checkWalletStandardCompliance(e);s.walletStandardCompliance=o.score,n.push(...o.warnings);let i=this.checkMethodIntegrity(e);s.methodIntegrity=i.score,n.push(...i.warnings);let a=this.checkChainSupport(e);s.chainSupport=a.score,n.push(...a.warnings);let c=this.detectMaliciousPatterns(e,r);s.maliciousPatterns=c.score,n.push(...c.warnings);let l=this.checkIdentityConsistency(e,r);s.identityConsistency=l.score,n.push(...l.warnings);let u={walletStandardCompliance:.25,methodIntegrity:.2,chainSupport:.15,maliciousPatterns:.3,identityConsistency:.1},h=s.walletStandardCompliance*u.walletStandardCompliance+s.methodIntegrity*u.methodIntegrity+s.chainSupport*u.chainSupport+s.maliciousPatterns*u.maliciousPatterns+s.identityConsistency*u.identityConsistency,g=h>=.6&&s.maliciousPatterns>.5,p=g?"Wallet passed all security checks":`Wallet failed security checks (confidence: ${Math.round(h*100)}%)`;return Lg.debug("Wallet verification complete",{name:r,authentic:g,confidence:Math.round(h*100)/100,warnings:n.length}),{authentic:g,confidence:h,reason:p,warnings:n,securityScore:s}}static checkWalletStandardCompliance(e){let t=[],n=0;if(e.features&&typeof e.features=="object"){n+=.3;let r=["standard:connect","standard:disconnect","standard:events"],s=r.filter(a=>a in e.features);n+=s.length/r.length*.4;let o=["solana:signTransaction","solana:signAndSendTransaction","solana:signMessage","solana:signAllTransactions"],i=o.filter(a=>a in e.features);n+=i.length/o.length*.3,s.length<r.length&&t.push("Wallet missing some standard features")}else t.push("Wallet does not implement Wallet Standard");return{score:Math.min(n,1),warnings:t}}static checkMethodIntegrity(e){let t=[],n=0,r=e,s=["connect","disconnect"],o=s.filter(c=>typeof r[c]=="function");if(o.length===0)return t.push("Wallet missing critical methods"),{score:0,warnings:t};n+=o.length/s.length*.5;let i=0;for(let c of o){let l=r[c].toString();l.length>1e3&&(i++,t.push(`Method ${c} has unusually long implementation`));let u=["fetch(","XMLHttpRequest","sendToServer","exfiltrate","steal","phish"];for(let h of u)if(l.includes(h)){i++,t.push(`Method ${c} contains suspicious code pattern`);break}}let a=i/o.length;return n+=(1-a)*.5,{score:Math.max(0,Math.min(n,1)),warnings:t}}static checkChainSupport(e){let t=[],n=0;return Array.isArray(e.chains)?e.chains.some(r=>String(r).toLowerCase().includes("solana"))?n=1:(t.push("Wallet does not explicitly support Solana chain"),n=.3):e.chains===void 0&&(t.push("Wallet does not declare supported chains"),n=.5),{score:n,warnings:t}}static detectMaliciousPatterns(e,t){let n=[],r=1,s=e,o=Object.keys(s).filter(u=>u.startsWith("is")&&(u.endsWith("Wallet")||u.endsWith("wallet")||/^is[A-Z]/.test(u))&&s[u]===!0);o.length>2&&(r-=.3,n.push(`Multiple wallet identity flags detected: ${o.join(", ")}`));let i=["stealPrivateKey","getPrivateKey","exportPrivateKey","sendToAttacker","phishingUrl","malware","backdoor"],a=Object.keys(s).map(u=>u.toLowerCase());for(let u of i)a.includes(u.toLowerCase())&&(r=0,n.push(`Explicitly malicious property detected: ${u}`));let c=["iconUrl","url","homepage","website"];for(let u of c){let h=s[u];typeof h=="string"&&this.isSuspiciousUrl(h)&&(r-=.2,n.push(`Suspicious URL in ${u}: ${h}`))}if("__proto__"in s||"constructor"in s){let u=Object.getPrototypeOf(s);u!==Object.prototype&&u!==null&&(r-=.1,n.push("Wallet has unusual prototype chain"))}let l=Object.keys(s).length;return l>100&&(r-=.1,n.push(`Wallet has unusually many properties (${l})`)),{score:Math.max(0,r),warnings:n}}static checkIdentityConsistency(e,t){let n=[],r=0,s=e,o=t.toLowerCase(),i=[s.name,s.providerName,s.metadata?.name,s._metadata?.name].filter(Boolean),a=!1;for(let u of i)if(typeof u=="string"&&u.toLowerCase().includes(o)){a=!0,r+=.5;break}let c=o.charAt(0).toUpperCase()+o.slice(1),l=[`is${c}`,`is${c}Wallet`,`is${c.toLowerCase()}`];for(let u of l)if(s[u]===!0){a=!0,r+=.5;break}return a||n.push(`Wallet identity does not match expected name: ${t}`),{score:Math.min(r,1),warnings:n}}static isSuspiciousUrl(e){try{let t=new URL(e),n=["bit.ly","tinyurl.com","tiny.cc","is.gd","goo.gl","t.co",".tk",".ml",".ga",".cf",".gq"],r=t.hostname.toLowerCase();return!!(n.some(s=>r.includes(s))||/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/.test(r)||r.split(".").length>4)}catch{return!0}}static verifyBatch(e){let t=new Map;for(let{wallet:n,name:r}of e)t.set(r,this.verify(n,r));return t}static getSecurityReport(e){let t=[];return t.push(`Security Assessment: ${e.authentic?" PASSED":" FAILED"}`),t.push(`Overall Confidence: ${Math.round(e.confidence*100)}%`),t.push(""),t.push("Score Breakdown:"),t.push(`  - Wallet Standard Compliance: ${Math.round(e.securityScore.walletStandardCompliance*100)}%`),t.push(`  - Method Integrity: ${Math.round(e.securityScore.methodIntegrity*100)}%`),t.push(`  - Chain Support: ${Math.round(e.securityScore.chainSupport*100)}%`),t.push(`  - Malicious Patterns: ${Math.round(e.securityScore.maliciousPatterns*100)}%`),t.push(`  - Identity Consistency: ${Math.round(e.securityScore.identityConsistency*100)}%`),e.warnings.length>0&&(t.push(""),t.push("Warnings:"),e.warnings.forEach(n=>t.push(`    ${n}`))),t.join(`
`)}},lP="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiBmaWxsPSIjOTc4NkU0Ii8+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF80NF82MTApIj4KPHBhdGggZD0iTTUuNzY1NSAxNS43OTdDNS43NjU1IDE3LjIyMiA2LjQ5ODc5IDE3LjU1IDcuMjYxNDEgMTcuNTVDOC44NzQ2MyAxNy41NSAxMC4wODcgMTYuMDg0MSAxMC44MTA1IDE0LjkyNTZDMTAuNzIyNSAxNS4xODE5IDEwLjY3MzYgMTUuNDM4MiAxMC42NzM2IDE1LjY4NDJDMTAuNjczNiAxNi4zNjA5IDExLjA0NTIgMTYuODQyNyAxMS43Nzg1IDE2Ljg0MjdDMTIuNzg1NSAxNi44NDI3IDEzLjg2MSAxNS45MiAxNC40MTgzIDE0LjkyNTZDMTQuMzc5MiAxNS4wNjkyIDE0LjM1OTYgMTUuMjAyNCAxNC4zNTk2IDE1LjMyNTRDMTQuMzU5NiAxNS43OTcgMTQuNjEzOCAxNi4wOTQzIDE1LjEzMiAxNi4wOTQzQzE2Ljc2NDggMTYuMDk0MyAxOC40MDc0IDEzLjA3MDEgMTguNDA3NCAxMC40MjUyQzE4LjQwNzQgOC4zNjQ1OSAxNy40MTAxIDYuNTUwMDUgMTQuOTA3MSA2LjU1MDA1QzEwLjUwNzQgNi41NTAwNSA1Ljc2NTUgMTIuMTY3OSA1Ljc2NTUgMTUuNzk3Wk0xMy4zOTE3IDEwLjE5OTZDMTMuMzkxNyA5LjY4NzA1IDEzLjY2NTQgOS4zMjgyNSAxNC4wNjYzIDkuMzI4MjVDMTQuNDU3NCA5LjMyODI1IDE0LjczMTIgOS42ODcwNSAxNC43MzEyIDEwLjE5OTZDMTQuNzMxMiAxMC43MTIyIDE0LjQ1NzQgMTEuMDgxMyAxNC4wNjYzIDExLjA4MTNDMTMuNjY1NCAxMS4wODEzIDEzLjM5MTcgMTAuNzEyMiAxMy4zOTE3IDEwLjE5OTZaTTE1LjQ4NCAxMC4xOTk2QzE1LjQ4NCA5LjY4NzA1IDE1Ljc1NzggOS4zMjgyNSAxNi4xNTg2IDkuMzI4MjVDMTYuNTQ5NyA5LjMyODI1IDE2LjgyMzUgOS42ODcwNSAxNi44MjM1IDEwLjE5OTZDMTYuODIzNSAxMC43MTIyIDE2LjU0OTcgMTEuMDgxMyAxNi4xNTg2IDExLjA4MTNDMTUuNzU3OCAxMS4wODEzIDE1LjQ4NCAxMC43MTIyIDE1LjQ4NCAxMC4xOTk2WiIgZmlsbD0iI0ZFRkRGOCIvPgo8L2c+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzQ0XzYxMCI+CjxyZWN0IHdpZHRoPSIxMi43NiIgaGVpZ2h0PSIxMSIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuNzA2NDIgNi41NDk5MykiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4=",fP="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiBmaWxsPSIjRkZFRjQ2Ii8+CjxwYXRoIGQ9Ik0xMi4xMjg1IDEyLjUyNjZMMTIuOTU1NiAxMS43Mjc2TDE0LjQ5NzYgMTIuMjMyM0MxNS41MDcgMTIuNTY4NyAxNi4wMTE3IDEzLjE4NTUgMTYuMDExNyAxNC4wNTQ3QzE2LjAxMTcgMTQuNzEzNiAxNS43NTkzIDE1LjE0ODIgMTUuMjU0NyAxNS43MDg5TDE1LjEwMDUgMTUuODc3MUwxNS4xNTY1IDE1LjQ4NDZDMTUuMzgwOCAxNC4wNTQ3IDE0Ljk2MDMgMTMuNDM3OSAxMy41NzI0IDEyLjk4OTJMMTIuMTI4NSAxMi41MjY2Wk0xMC4wNTM3IDcuNjM0MTRMMTQuMjU5MyA5LjAzNkwxMy4zNDgxIDkuOTA1MTdMMTEuMTYxMiA5LjE3NjE5QzEwLjQwNDIgOC45MjM4NSAxMC4xNTE4IDguNTE3MzEgMTAuMDUzNyA3LjY2MjE3VjcuNjM0MTRaTTkuODAxMzUgMTQuNzU1NkwxMC43NTQ2IDEzLjg0NDRMMTIuNTQ5MSAxNC40MzMyQzEzLjQ4ODMgMTQuNzQxNiAxMy44MTA3IDE1LjE0ODIgMTMuNzEyNiAxNi4xNzE1TDkuODAxMzUgMTQuNzU1NlpNOC41OTU3NyAxMC42OTAyQzguNTk1NzcgMTAuNDIzOSA4LjczNTk1IDEwLjE3MTUgOC45NzQyNyA5Ljk2MTIyQzkuMjI2NjEgMTAuMzI1NyA5LjY2MTE4IDEwLjY0ODEgMTAuMzQ4MSAxMC44NzI1TDExLjgzNDEgMTEuMzYzMUwxMS4wMDcgMTIuMTYyMkw5LjU0OTAzIDExLjY4NTVDOC44NzYxNCAxMS40NjEyIDguNTk1NzcgMTEuMTI0OCA4LjU5NTc3IDEwLjY5MDJaTTEyLjk5NzYgMTguMDVDMTYuMDgxNyAxNi4wMDMzIDE3LjczNTkgMTQuNjE1NCAxNy43MzU5IDEyLjkwNTJDMTcuNzM1OSAxMS43Njk2IDE3LjA2MyAxMS4xMzg4IDE1LjU3NzEgMTAuNjQ4MUwxNC40NTU2IDEwLjI2OTZMMTcuNTI1NyA3LjMyNTcyTDE2LjkwODggNi42NjY4NEwxNS45OTc2IDcuNDY1OUwxMS42OTM5IDYuMDUwMDJDMTAuMzYyMSA2LjQ4NDYgOC42Nzk4OCA3Ljc2MDMgOC42Nzk4OCA5LjAzNkM4LjY3OTg4IDkuMTc2MTggOC42OTM5IDkuMzE2MzcgOC43MzU5NSA5LjQ3MDU5QzcuNjI4NDcgMTAuMTAxNCA3LjE3OTg4IDEwLjY5MDIgNy4xNzk4OCAxMS40MTkxQzcuMTc5ODggMTIuMTA2MSA3LjU0NDM2IDEyLjc5MyA4LjcwNzkyIDEzLjE3MTVMOS42MzMxNCAxMy40Nzk5TDYuNDM2ODkgMTYuNTVMNy4wNTM3MSAxNy4yMDg5TDguMDQ5MDQgMTYuMjk3N0wxMi45OTc2IDE4LjA1WiIgZmlsbD0iIzAyMDUwQSIvPgo8L3N2Zz4=",hP="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiBmaWxsPSIjRTMzRTNGIi8+CjxwYXRoIGQ9Ik0xNS41MTg2IDEzLjkyNzJDMTUuOTgxMSAxMy45MjcyIDE2LjIxMjcgMTMuOTI3MSAxNi4zNTY0IDE0LjA3MDhDMTYuNTAwMiAxNC4yMTQ1IDE2LjUgMTQuNDQ2MiAxNi41IDE0LjkwODdWMTUuNTY0QzE2LjUgMTYuNDg5MyAxNi41MDAyIDE2Ljk1MjIgMTYuMjEyOSAxNy4yMzk3QzE1LjkyNTMgMTcuNTI3MyAxNS40NjE4IDE3LjUyNzggMTQuNTM2MSAxNy41Mjc4SDkuNDYzODdDOC41Mzg0MiAxNy41Mjc4IDguMDc1NjcgMTcuNTI3MSA3Ljc4ODA5IDE3LjIzOTdDNy41MDA1NCAxNi45NTIyIDcuNSAxNi40ODk0IDcuNSAxNS41NjRWMTQuOTA4N0M3LjUgMTQuNDQ2MiA3LjQ5OTgyIDE0LjIxNDUgNy42NDM1NSAxNC4wNzA4QzcuNzg3MyAxMy45MjcxIDguMDE4OTEgMTMuOTI3MiA4LjQ4MTQ1IDEzLjkyNzJIMTUuNTE4NlpNMTIgNi4zNTg4OUMxNi41NjUzIDYuMzU4ODkgMTYuNSA5LjQwMjM4IDE2LjUgMTAuODU4OVYxMi40OTU2QzE2LjQ5OTkgMTIuNzY2NyAxNi4yNzk5IDEyLjk4NjggMTYuMDA4OCAxMi45ODY4SDcuOTkxMjFDNy43MjAxMiAxMi45ODY4IDcuNTAwMDYgMTIuNzY2NyA3LjUgMTIuNDk1NkM3LjUgMTIuNDk1NiA3LjUgMTIuMzE1MyA3LjUgMTAuODU4OUM3LjQ5OTk5IDkuNDAyMzkgNy40MzQ3OCA2LjM1ODkzIDEyIDYuMzU4ODlaTTEyIDcuNTE5MDRDMTEuMjMxOSA3LjUxOTEgMTAuNjA5NCA4LjE0MTU1IDEwLjYwOTQgOC45MDk2N0MxMC42MDk0IDkuNjc3NzggMTEuMjMxOSAxMC4zMDAyIDEyIDEwLjMwMDNDMTIuNzY4MiAxMC4zMDAzIDEzLjM5MDYgOS42Nzc4MiAxMy4zOTA2IDguOTA5NjdDMTMuMzkwNiA4LjE0MTUxIDEyLjc2ODIgNy41MTkwNCAxMiA3LjUxOTA0Wk0xMS45OTkgNC40NzIxN0MxMi45ODQxIDQuNDcyMjIgMTMuODQ2MiA0LjgxNjczIDE0LjA3NDIgNS4zNzc0NEMxNC4xMDg1IDUuNDczODcgMTQuMTI1OCA1LjUyMjIyIDE0LjA5NTcgNS41NTgxMUMxNC4wNjUyIDUuNTk0MDIgMTQuMDA1OCA1LjU4MzQyIDEzLjg4NzcgNS41NjIwMUMxMy41ODIyIDUuNTA2NjUgMTMuMTQ5MyA1LjQ2ODc3IDEyLjc2ODYgNS40NTc1MkMxMi41MjU4IDUuNDQ0NDggMTIuMjY5NSA1LjQzNzk5IDEyIDUuNDM3OTlDMTEuNzMwNSA1LjQzNzk5IDExLjQ3NDIgNS40NDQ0OCAxMS4yMzE0IDUuNDU3NTJDMTAuODQ5IDUuNDY4NzcgMTAuNDE0OSA1LjUwNjU4IDEwLjEwODQgNS41NjAwNkM5Ljk5MzM1IDUuNTgwMTMgOS45MzU2NSA1LjU5MDQ3IDkuOTA1MjcgNS41NTUxOEM5Ljg3NDk3IDUuNTE5MzUgOS44OTEyOCA1LjQ3MTQ0IDkuOTI0OCA1LjM3NjQ2QzEwLjE1MSA0LjgxNzQ4IDExLjAxNDIgNC40NzIxNyAxMS45OTkgNC40NzIxN1oiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPg==",dP={Phantom:lP,Solflare:fP,Backpack:hP},Dg=new WeakMap;function pP(e){return dP[e]}function gP(e,t){let n=Dg.get(e);if(n)return n;let r=new Proxy(e,{get(s,o){if(o==="icon")return t;let i=Reflect.get(s,o,s);return typeof i=="function"?i.bind(s):i}});return Dg.set(e,r),r}function rc(e){let t=pP(e.name);if(!t||e.icon===t)return e;if(Object.isExtensible(e))try{return e.icon=t,e}catch{}return gP(e,t)}var fa=Cn("WalletDetector");function Fs(e){return Array.isArray(e.chains)&&e.chains.some(t=>typeof t=="string"&&t.startsWith("solana:"))}function Ws(e){return e.trim().toLowerCase()}function zg(e,t){if(!t)return[...e];let n=(t.allowList??[]).map(Ws).filter(Boolean),r=(t.denyList??[]).map(Ws).filter(Boolean),s=(t.featured??[]).map(Ws).filter(Boolean),o=new Set(n),i=new Set(r),a=e.filter(g=>{let p=Ws(g.name);return!(i.has(p)||o.size>0&&!o.has(p))});if(s.length===0)return a;let c=new Map;for(let g of a)c.set(Ws(g.name),g);let l=[],u=new Set;for(let g of s){if(u.has(g))continue;let p=c.get(g);p&&(u.add(g),l.push(p))}let h=a.filter(g=>!u.has(Ws(g.name)));return[...l,...h]}function Ug(e,t){return e.features!=null&&e.features[t]!==void 0}function yP(e,t){let n=t.toLowerCase(),r=e,s=[r.name,r.providerName,r.metadata?.name].filter(Boolean);for(let a of s)if(typeof a=="string"&&a.toLowerCase().includes(n))return!0;let o=n.charAt(0).toUpperCase()+n.slice(1),i=[`is${o}`,`is${o}Wallet`];for(let a of i)if(r[a]===!0)return!0;return!1}var mP=class extends zc{constructor(e,t,n=!1){super({stateManager:e,eventEmitter:t,debug:n},"WalletDetector"),Se(this,"unsubscribers",[]),Se(this,"additionalWallets",[]),Se(this,"walletDisplayConfig"),Se(this,"connectorRegistry",new Map)}setAdditionalWallets(e){this.additionalWallets=e,this.refreshWallets()}getAdditionalWallets(){return this.additionalWallets}setWalletDisplayConfig(e){this.walletDisplayConfig=e,this.unsubscribers.length>0&&this.refreshWallets()}refreshWallets(){if(!(typeof window>"u"))try{let e=nc().get().filter(Fs),t=this.additionalWallets.filter(Fs),n=this.deduplicateWallets([...e,...t]),r=zg(n,this.walletDisplayConfig);this.updateConnectorRegistry(r),this.stateManager.updateState({wallets:r.map(s=>this.mapToWalletInfo(s)),connectors:r.map(s=>this.mapToConnectorMetadata(s))}),this.log(" WalletDetector: refreshed wallets",{registry:e.length,additional:t.length,total:r.length})}catch{}}initialize(){if(!(typeof window>"u"))try{let e=nc(),t=()=>{let n=e.get(),r=this.getState().wallets.length,s=n.filter(Fs),o=this.additionalWallets.filter(Fs),i=this.deduplicateWallets([...s,...o]),a=zg(i,this.walletDisplayConfig),c=a.length;c!==r&&this.log(" WalletDetector: found wallets:",{registry:s.length,additional:o.length,total:c}),this.updateConnectorRegistry(a),this.stateManager.updateState({wallets:a.map(l=>this.mapToWalletInfo(l)),connectors:a.map(l=>this.mapToConnectorMetadata(l))}),c!==r&&c>0&&this.eventEmitter.emit({type:"wallets:detected",count:c,timestamp:new Date().toISOString()})};t(),this.unsubscribers.push(e.on("register",t)),this.unsubscribers.push(e.on("unregister",t)),setTimeout(()=>{this.getState().connected||t()},1e3)}catch{}}async initializeAsync(){typeof window>"u"||(await cf,this.initialize())}detectDirectWallet(e){if(typeof window>"u")return null;let t=e.toLowerCase(),n=window,r=[()=>n[t],()=>n[`${t}Wallet`],()=>n.solana,()=>{let s=Object.keys(window).filter(o=>o.toLowerCase().includes(t));return s.length>0?n[s[0]]:null}];for(let s of r)try{let o=s();if(o&&typeof o=="object"){let i=o;if(!yP(i,e))continue;let a=uP.verify(i,e);if(!a.authentic){fa.warn("Rejecting potentially malicious wallet",{name:e,reason:a.reason,confidence:a.confidence});continue}a.warnings.length>0&&fa.warn("Wallet verification warnings",{name:e,warnings:a.warnings});let c=i.features?.["standard:connect"],l=typeof i.connect=="function";if(c||l)return fa.debug("Authentic wallet detected",{name:e,confidence:a.confidence}),i}}catch{continue}return null}getDetectedWallets(){return this.getState().wallets}getConnectors(){return this.getState().connectors}getConnectorById(e){return this.connectorRegistry.get(e)}getConnectorMetadata(e){return this.getState().connectors.find(t=>t.id===e)}updateConnectorRegistry(e){this.connectorRegistry.clear();for(let t of e){let n=of(t.name);this.connectorRegistry.set(n,t)}}mapToConnectorMetadata(e){let t=rc(e),n=Ug(t,"standard:connect"),r=Fs(t),s=n&&r;return{id:of(e.name),name:e.name,icon:typeof t.icon=="string"?t.icon:"",ready:s,chains:t.chains??[],features:Object.keys(t.features??{})}}mapToWalletInfo(e){let t=rc(e),n=Ug(t,"standard:connect"),r=Fs(t);return{wallet:t,installed:!0,connectable:n&&r}}deduplicateWallets(e){let t=new Map;for(let n of e)t.has(n.name)||t.set(n.name,n);return Array.from(t.values())}destroy(){for(let e of this.unsubscribers)try{e()}catch(t){fa.warn("Error during unsubscribe cleanup",{error:t})}this.unsubscribers=[]}};function il(e){return e.features["standard:connect"]?.connect??null}function wP(e){return e.features["standard:disconnect"]?.disconnect??null}function jg(e){return e.features["standard:events"]?.on??null}var bP=class extends zc{constructor(e,t,n,r=!1){super({stateManager:e,eventEmitter:t,debug:r},"ConnectionManager"),Se(this,"walletStorage"),Se(this,"walletChangeUnsub",null),Se(this,"pollTimer",null),Se(this,"pollAttempts",0),Se(this,"connectAttemptId",0),Se(this,"pendingWallet",null),Se(this,"pendingWalletName",null),this.walletStorage=n}async connectWallet(e,t,n){if(typeof window>"u")return;let r=++this.connectAttemptId;this.pendingWallet=e,this.pendingWalletName=e.name;let{silent:s=!1,allowInteractiveFallback:o=!0,preferredAccount:i}=n??{};this.updateWalletStatus({status:"connecting",connectorId:t}),this.stateManager.updateState({connecting:!0},!0),this.eventEmitter.emit({type:"connecting",wallet:e.name,timestamp:new Date().toISOString()});try{let a=il(e);if(!a)throw new Error(`Wallet ${e.name} does not support standard connect`);let c;if(s)try{if(c=await a({silent:!0}),r!==this.connectAttemptId)throw new Error("Connection cancelled");let _=c.accounts.length>0||e.accounts.length>0;if(!_&&o)this.log("Silent connect returned no accounts, trying interactive..."),c=await a({silent:!1});else if(!_)throw new Error("Silent connection failed: no accounts returned")}catch(_){if(r!==this.connectAttemptId)throw new Error("Connection cancelled");if(o)this.log("Silent connect failed, trying interactive...",_),c=await a({silent:!1});else throw _}else c=await a({silent:!1});if(r!==this.connectAttemptId)throw new Error("Connection cancelled");let l=e.accounts,u=new Map;for(let _ of[...l,...c.accounts])u.set(_.address,_);let h=Array.from(u.values()).map(_=>({address:_.address,label:_.label,account:_})),g=h.map(_=>this.toAccountInfo(_.account)),p=h[0];if(i){let _=h.find(x=>x.address===i);_&&(p=_)}let v=this.createSession(e,t,h,p);this.updateWalletStatus({status:"connected",session:v}),this.stateManager.updateState({selectedWallet:e,connected:!0,connecting:!1,accounts:g,selectedAccount:p?.address??null},!0),this.log(" Connection successful (vNext)",{connectorId:t,selectedAccount:p?.address,accountsCount:h.length}),p&&this.eventEmitter.emit({type:"wallet:connected",wallet:e.name,account:p.address,timestamp:new Date().toISOString()}),this.walletStorage&&(!("isAvailable"in this.walletStorage)||typeof this.walletStorage.isAvailable!="function"||this.walletStorage.isAvailable())&&this.walletStorage.set(e.name),this.subscribeToWalletEventsVNext(e,t)}catch(a){if(r!==this.connectAttemptId)throw a;let c=a instanceof Error?a.message:String(a),l=a instanceof Error?a:new Error(c);throw this.updateWalletStatus({status:"error",error:l,connectorId:t,recoverable:this.isRecoverableError(l)}),this.stateManager.updateState({selectedWallet:null,connected:!1,connecting:!1,accounts:[],selectedAccount:null},!0),this.eventEmitter.emit({type:"connection:failed",wallet:e.name,error:c,timestamp:new Date().toISOString()}),a}finally{this.pendingWallet===e&&(this.pendingWallet=null,this.pendingWalletName=null)}}createSession(e,t,n,r){let s=new Set;return{connectorId:t,accounts:n,selectedAccount:r,onAccountsChanged:o=>(s.add(o),()=>s.delete(o)),selectAccount:async o=>{if(n.find(i=>i.address===o))return this.selectAccount(o)}}}updateWalletStatus(e){this.stateManager.updateState({wallet:e})}subscribeToWalletEventsVNext(e,t){this.walletChangeUnsub&&(this.walletChangeUnsub(),this.walletChangeUnsub=null),this.stopPollingWalletAccounts();let n=jg(e);if(!n){this.startPollingWalletAccountsVNext(e,t);return}try{this.walletChangeUnsub=n("change",r=>{let s=r?.accounts??[];this.handleAccountsChanged(s,t,e)})}catch{this.startPollingWalletAccountsVNext(e,t)}}handleAccountsChanged(e,t,n){let r=this.getState();if(e.length===0){this.log("No accounts available, disconnecting..."),this.disconnect();return}let s=e.map(c=>({address:c.address,label:c.label,account:c})),o=s.map(c=>this.toAccountInfo(c.account)),i=r.selectedAccount,a=s.find(c=>c.address===i);if(a||(a=s[0],this.eventEmitter.emit({type:"account:changed",account:a.address,timestamp:new Date().toISOString()})),r.wallet.status==="connected"){let c=this.createSession(n,t,s,a);this.updateWalletStatus({status:"connected",session:c})}this.stateManager.updateState({accounts:o,selectedAccount:a.address})}startPollingWalletAccountsVNext(e,t){if(this.pollTimer)return;this.pollAttempts=0;let n=()=>{if(this.pollAttempts>=20){this.stopPollingWalletAccounts(),this.log("Stopped wallet polling after max attempts");return}try{let o=e.accounts;o.length>0&&(this.handleAccountsChanged(o,t,e),this.pollAttempts=0)}catch(o){this.log("Wallet polling error:",o)}this.pollAttempts++;let r=Math.min(this.pollAttempts,la.length-1),s=la[r];this.pollTimer=setTimeout(n,s)};n()}isRecoverableError(e){let t=e.message.toLowerCase();return t.includes("user rejected")||t.includes("user denied")||t.includes("cancelled")||t.includes("canceled")}async connect(e,t){if(typeof window>"u")return;let n=t||e.name,r=++this.connectAttemptId;this.pendingWallet=e,this.pendingWalletName=n;let s=of(n);this.eventEmitter.emit({type:"connecting",wallet:n,timestamp:new Date().toISOString()}),this.updateWalletStatus({status:"connecting",connectorId:s}),this.stateManager.updateState({connecting:!0},!0);try{let o=il(e);if(!o)throw new Error(`Wallet ${n} does not support standard connect`);let i=await o({silent:!1});if(r!==this.connectAttemptId)throw new Error("Connection cancelled");let a=e.accounts,c=new Map;for(let R of[...a,...i.accounts])c.set(R.address,R);let l=Array.from(c.values()).map(R=>({address:R.address,label:R.label,account:R}));if(l.length===0)throw new Error(`Wallet ${n} connected but returned no accounts`);let u=l.map(R=>this.toAccountInfo(R.account)),h=this.getState(),g=h.selectedAccount,p=new Set(h.accounts.map(R=>R.address)),v=u.find(R=>!p.has(R.address))?.address??g??u[0]?.address??null,_=(v?l.find(R=>R.address===v):void 0)??l[0],x=this.createSession(e,s,l,_);this.updateWalletStatus({status:"connected",session:x}),this.stateManager.updateState({selectedWallet:e,connected:!0,connecting:!1,accounts:u,selectedAccount:v},!0),this.log(" Connection successful - state updated:",{connected:!0,selectedWallet:e.name,selectedAccount:v,accountsCount:u.length}),v?this.eventEmitter.emit({type:"wallet:connected",wallet:n,account:v,timestamp:new Date().toISOString()}):this.log(" Connection succeeded but no account available",{wallet:e.name,accountsCount:u.length}),this.walletStorage&&(!("isAvailable"in this.walletStorage)||typeof this.walletStorage.isAvailable!="function"||this.walletStorage.isAvailable()?this.walletStorage.set(n):this.log("Storage not available (private browsing?), skipping wallet persistence")),this.subscribeToWalletEvents()}catch(o){if(r!==this.connectAttemptId)throw o;let i=o instanceof Error?o.message:String(o),a=o instanceof Error?o:new Error(i);throw this.eventEmitter.emit({type:"connection:failed",wallet:n,error:i,timestamp:new Date().toISOString()}),this.eventEmitter.emit({type:"error",error:a,context:"wallet-connection",timestamp:new Date().toISOString()}),this.updateWalletStatus({status:"error",error:a,connectorId:s,recoverable:this.isRecoverableError(a)}),this.stateManager.updateState({selectedWallet:null,connected:!1,connecting:!1,accounts:[],selectedAccount:null},!0),o}finally{this.pendingWallet===e&&this.pendingWalletName===n&&(this.pendingWallet=null,this.pendingWalletName=null)}}async disconnect(){this.connectAttemptId++,this.walletChangeUnsub&&(this.walletChangeUnsub(),this.walletChangeUnsub=null),this.stopPollingWalletAccounts();let e=this.getState().selectedWallet??this.pendingWallet;if(this.pendingWallet=null,this.pendingWalletName=null,this.updateWalletStatus(Eb),this.stateManager.updateState({selectedWallet:null,connected:!1,connecting:!1,accounts:[],selectedAccount:null},!0),this.eventEmitter.emit({type:"wallet:disconnected",timestamp:new Date().toISOString()}),this.walletStorage&&"clear"in this.walletStorage&&typeof this.walletStorage.clear=="function"?this.walletStorage.clear():this.walletStorage?.set(void 0),e){let t=wP(e);if(t)try{await t()}catch{}}}async selectAccount(e){let t=this.getState(),n=t.selectedWallet;if(!n)throw new Error("No wallet connected");if(!e||e.length<5)throw new Error(`Invalid address format: ${e}`);let r=t.accounts.find(s=>s.address===e)?.raw??null;if(!r)try{let s=il(n);if(s){let o=(await s()).accounts.map(i=>this.toAccountInfo(i));r=o.find(i=>i.address===e)?.raw??null,this.stateManager.updateState({accounts:o})}}catch{throw new Error("Failed to reconnect wallet for account selection")}if(!r)throw new Error(`Requested account not available: ${e}`);this.stateManager.updateState({selectedAccount:r.address}),this.eventEmitter.emit({type:"account:changed",account:r.address,timestamp:new Date().toISOString()})}toAccountInfo(e){return{address:e.address,icon:e.icon,raw:e}}subscribeToWalletEvents(){this.walletChangeUnsub&&(this.walletChangeUnsub(),this.walletChangeUnsub=null),this.stopPollingWalletAccounts();let e=this.getState().selectedWallet;if(!e)return;let t=jg(e);if(!t){this.startPollingWalletAccounts();return}try{this.walletChangeUnsub=t("change",n=>{let r=n?.accounts??[];if(r.length===0)return;let s=r.map(o=>this.toAccountInfo(o));s.length>0&&this.stateManager.updateState({accounts:s})})}catch{this.startPollingWalletAccounts()}}startPollingWalletAccounts(){if(this.pollTimer)return;let e=this.getState().selectedWallet;if(!e)return;this.pollAttempts=0;let t=()=>{if(this.pollAttempts>=20){this.stopPollingWalletAccounts(),this.log("Stopped wallet polling after max attempts");return}try{let s=this.getState(),o=e.accounts.map(i=>this.toAccountInfo(i));s.accounts.length===0&&o.length>0&&(this.stateManager.updateState({accounts:o,selectedAccount:s.selectedAccount||o[0]?.address||null}),this.pollAttempts=0)}catch(s){this.log("Wallet polling error:",s)}this.pollAttempts++;let n=Math.min(this.pollAttempts,la.length-1),r=la[n];this.pollTimer=setTimeout(t,r)};t()}stopPollingWalletAccounts(){this.pollTimer&&(clearTimeout(this.pollTimer),this.pollTimer=null,this.pollAttempts=0)}getStoredWallet(){return this.walletStorage?.get()??null}},mt=Cn("AutoConnector"),vP=30,_P=class{constructor(e,t,n,r,s=!1,o){Se(this,"walletDetector"),Se(this,"connectionManager"),Se(this,"stateManager"),Se(this,"walletStorage"),Se(this,"walletStateStorage"),Se(this,"debug"),this.walletDetector=e,this.connectionManager=t,this.stateManager=n,this.walletStorage=r,this.walletStateStorage=o,this.debug=s}async attemptAutoConnect(){return this.walletStateStorage&&await this.attemptVNextAutoConnect()||await this.attemptInstantConnect()?!0:(await this.attemptStandardConnect(),this.stateManager.getSnapshot().connected)}async attemptVNextAutoConnect(){let e=this.walletStateStorage?.get();if(!e||!e.autoConnect)return this.debug&&mt.debug("vNext auto-connect: No stored wallet state or autoConnect disabled"),!1;let{connectorId:t,lastAccount:n}=e;await cf;let r=this.walletDetector.getConnectorById(t);if(!r)return this.debug&&mt.debug("vNext auto-connect: Connector not found",{connectorId:t}),!1;try{return this.debug&&mt.info("vNext auto-connect: Attempting silent connect",{connectorId:t,lastAccount:n}),await this.connectionManager.connectWallet(r,t,{silent:!0,allowInteractiveFallback:!1,preferredAccount:n}),this.debug&&mt.info("vNext auto-connect: Silent connect successful",{connectorId:t}),!0}catch(s){return this.debug&&mt.debug("vNext auto-connect: Silent connect failed (expected for first-time or revoked)",{connectorId:t,error:s instanceof Error?s.message:s}),!1}}async attemptInstantConnect(){let e=this.walletStorage?.get();if(!e)return!1;let t=this.walletDetector.detectDirectWallet(e);if(!t)return!1;this.debug&&mt.info("Instant auto-connect: found wallet directly in window",{walletName:e});try{let n={};if(t.connect&&(n["standard:connect"]={connect:async(...l)=>{let u=l[0],h=await t.connect(u);if(this.debug&&(mt.debug("Direct wallet connect result",{result:h}),mt.debug("Direct wallet publicKey property",{publicKey:t.publicKey})),h&&typeof h=="object"&&"accounts"in h&&Array.isArray(h.accounts))return h;let g=h;if(g?.publicKey&&typeof g.publicKey.toString=="function"){let v=g.publicKey.toString(),_=g.publicKey.toBytes?g.publicKey.toBytes():new Uint8Array;return{accounts:[{address:v,publicKey:_,chains:["solana:mainnet","solana:devnet","solana:testnet"],features:[]}]}}if(t.publicKey&&typeof t.publicKey.toString=="function"){let v=t.publicKey.toString(),_=t.publicKey.toBytes?t.publicKey.toBytes():new Uint8Array;return this.debug&&mt.debug("Using legacy wallet pattern - publicKey from wallet object"),{accounts:[{address:v,publicKey:_,chains:["solana:mainnet","solana:devnet","solana:testnet"],features:[]}]}}let p=h;if(p&&typeof p.toString=="function"&&p.toString().length>vP){let v=p.toString(),_=p.toBytes?p.toBytes():new Uint8Array;return{accounts:[{address:v,publicKey:_,chains:["solana:mainnet","solana:devnet","solana:testnet"],features:[]}]}}return this.debug&&mt.error("Legacy wallet: No valid publicKey found in any expected location"),{accounts:[]}}}),t.disconnect){let l=t.disconnect;n["standard:disconnect"]={disconnect:()=>l.call(t)}}if(t.signTransaction){let l=t.signTransaction;n["solana:signTransaction"]={signTransaction:u=>l.call(t,u)}}if(t.signMessage){let l=t.signMessage;n["solana:signMessage"]={signMessage:(...u)=>{let h=u[0];return l.call(t,h)}}}t.features&&Object.assign(n,t.features);let r=t.icon||t._metadata?.icon||t.adapter?.icon||t.metadata?.icon||t.iconUrl,s={version:"1.0.0",name:e,icon:r,chains:t.chains||["solana:mainnet","solana:devnet","solana:testnet"],features:n,accounts:[]},o=rc(s);this.stateManager.updateState({wallets:[{wallet:o,installed:!0,connectable:!0}]},!0),await cf;let i=nc(),a=i.get().find(l=>l.name===e),c=rc(a||o);return this.debug&&mt.info("Attempting to connect via instant auto-connect",{walletName:e,usingRegistry:!!a}),await this.connectionManager.connect(c,e),this.debug&&mt.info("Instant auto-connect successful",{walletName:e}),setTimeout(()=>{let l=i.get();this.debug&&mt.debug("Checking for wallet standard update",{wsLength:l.length,currentWalletsLength:this.stateManager.getSnapshot().wallets.length,shouldUpdate:l.length>1}),l.length>1&&this.walletDetector.initialize()},500),!0}catch(n){return this.debug&&mt.error("Instant auto-connect failed",{walletName:e,error:n instanceof Error?n.message:n}),!1}}async attemptStandardConnect(){try{if(this.stateManager.getSnapshot().connected){this.debug&&mt.info("Auto-connect: Already connected, skipping fallback auto-connect");return}let e=this.walletStorage?.get();if(this.debug&&(mt.debug("Auto-connect: stored wallet",{storedWalletName:e}),mt.debug("Auto-connect: available wallets",{wallets:this.stateManager.getSnapshot().wallets.map(n=>n.wallet.name)})),!e)return;let t=this.stateManager.getSnapshot().wallets.find(n=>n.wallet.name===e);t?(this.debug&&mt.info("Auto-connect: Found stored wallet, connecting"),await this.connectionManager.connect(t.wallet,e)):setTimeout(()=>{let n=this.stateManager.getSnapshot().wallets.find(r=>r.wallet.name===e);n&&(this.debug&&mt.info("Auto-connect: Retry successful"),this.connectionManager.connect(n.wallet,e).catch(r=>{mt.error("Auto-connect retry connection failed",{error:r})}))},1e3)}catch(e){this.debug&&mt.error("Auto-connect failed",{error:e}),this.walletStorage?.set(void 0)}}},SP=class extends zc{constructor(e,t,n,r,s=!1){if(super({stateManager:e,eventEmitter:t,debug:s},"ClusterManager"),Se(this,"clusterStorage"),this.clusterStorage=n,r){let o=r.clusters??[],i=this.clusterStorage?.get()??r.initialCluster??"solana:mainnet",a=o.find(c=>c.id===i)??o[0]??null;this.stateManager.updateState({cluster:a,clusters:o})}}async setCluster(e){let t=this.getState(),n=t.cluster?.id||null,r=t.clusters.find(s=>s.id===e);if(!r)throw cs.clusterNotFound(e,t.clusters.map(s=>s.id));this.stateManager.updateState({cluster:r},!0),this.clusterStorage&&(!("isAvailable"in this.clusterStorage)||typeof this.clusterStorage.isAvailable!="function"||this.clusterStorage.isAvailable()?this.clusterStorage.set(e):this.log("Storage not available (private browsing?), skipping cluster persistence")),n!==e&&this.eventEmitter.emit({type:"cluster:changed",cluster:e,previousCluster:n,timestamp:new Date().toISOString()}),this.log(" Cluster changed:",{from:n,to:e})}getCluster(){return this.getState().cluster}getClusters(){return this.getState().clusters}},EP=class extends zc{constructor(e,t,n=20,r=!1){super({stateManager:e,eventEmitter:t,debug:r},"TransactionTracker"),Se(this,"transactions",[]),Se(this,"totalTransactions",0),Se(this,"maxTransactions"),this.maxTransactions=n}trackTransaction(e){let t=this.getState().cluster?.id??"solana:devnet",n={...e,timestamp:new Date().toISOString(),cluster:t};this.transactions.unshift(n),this.transactions.length>this.maxTransactions&&this.transactions.pop(),this.totalTransactions++,this.eventEmitter.emit({type:"transaction:tracked",signature:n.signature,status:n.status,timestamp:n.timestamp}),this.log("[Connector] Transaction tracked:",n)}updateStatus(e,t,n){let r=this.transactions.find(s=>String(s.signature)===e);r&&(r.status=t,n&&(r.error=n),this.eventEmitter.emit({type:"transaction:updated",signature:r.signature,status:t,timestamp:new Date().toISOString()}),this.log("[Connector] Transaction updated:",{signature:e,status:t,error:n}))}getTransactions(){return[...this.transactions]}getTotalCount(){return this.totalTransactions}clearHistory(){this.transactions=[]}},kP=class{constructor(e,t,n,r){Se(this,"stateManager"),Se(this,"walletStorage"),Se(this,"clusterStorage"),Se(this,"isInitialized"),this.stateManager=e,this.walletStorage=t,this.clusterStorage=n,this.isInitialized=r??(()=>!0)}getHealth(){let e=[],t=!1;try{let s=nc();t=!!(s&&typeof s.get=="function"),t||e.push("Wallet Standard registry not properly initialized")}catch(s){e.push(`Wallet Standard error: ${s instanceof Error?s.message:"Unknown error"}`),t=!1}let n=!1;try{if(!this.walletStorage||!this.clusterStorage)e.push("Storage adapters not configured"),n=!1;else{if("isAvailable"in this.walletStorage&&typeof this.walletStorage.isAvailable=="function")n=this.walletStorage.isAvailable();else if(typeof window<"u")try{let s="__connector_storage_test__";window.localStorage.setItem(s,"test"),window.localStorage.removeItem(s),n=!0}catch{n=!1}n||e.push("localStorage unavailable (private browsing mode or quota exceeded)")}}catch(s){e.push(`Storage error: ${s instanceof Error?s.message:"Unknown error"}`),n=!1}let r=this.stateManager.getSnapshot();return r.connected&&!r.selectedWallet&&e.push("Inconsistent state: marked as connected but no wallet selected"),r.connected&&!r.selectedAccount&&e.push("Inconsistent state: marked as connected but no account selected"),r.connecting&&r.connected&&e.push("Inconsistent state: both connecting and connected flags are true"),{initialized:this.isInitialized(),walletStandardAvailable:t,storageAvailable:n,walletsDetected:r.wallets.length,errors:e,connectionState:{connected:r.connected,connecting:r.connecting,hasSelectedWallet:!!r.selectedWallet,hasSelectedAccount:!!r.selectedAccount},timestamp:new Date().toISOString()}}},Kn=Cn("ConnectorClient"),AP=class{constructor(e={}){Se(this,"stateManager"),Se(this,"eventEmitter"),Se(this,"walletDetector"),Se(this,"connectionManager"),Se(this,"autoConnector"),Se(this,"clusterManager"),Se(this,"transactionTracker"),Se(this,"debugMetrics"),Se(this,"healthMonitor"),Se(this,"initialized",!1),Se(this,"config"),Se(this,"walletConnectRegistration",null),this.config=e;let t={wallet:Eb,connectors:[],wallets:[],selectedWallet:null,connected:!1,connecting:!1,accounts:[],selectedAccount:null,cluster:null,clusters:[]};this.stateManager=new iP(t),this.eventEmitter=new aP(e.debug),this.debugMetrics=new cP,this.walletDetector=new mP(this.stateManager,this.eventEmitter,e.debug??!1),this.connectionManager=new bP(this.stateManager,this.eventEmitter,e.storage?.wallet,e.debug??!1),this.autoConnector=new _P(this.walletDetector,this.connectionManager,this.stateManager,e.storage?.wallet,e.debug??!1),this.clusterManager=new SP(this.stateManager,this.eventEmitter,e.storage?.cluster,e.cluster,e.debug??!1),this.transactionTracker=new EP(this.stateManager,this.eventEmitter,oP,e.debug??!1),this.healthMonitor=new kP(this.stateManager,e.storage?.wallet,e.storage?.cluster,()=>this.initialized),this.initialize()}initialize(){if(typeof window>"u"||this.initialized)return;let{error:e}=el(()=>{this.config.additionalWallets&&this.config.additionalWallets.length>0&&this.walletDetector.setAdditionalWallets(this.config.additionalWallets),this.walletDetector.setWalletDisplayConfig(this.config.wallets),this.walletDetector.initialize(),this.config.walletConnect?.enabled&&this.initializeWalletConnect().catch(t=>{this.config.debug&&Kn.error("WalletConnect initialization failed",{error:t})}),this.config.autoConnect&&setTimeout(()=>{this.autoConnector.attemptAutoConnect().catch(t=>{this.config.debug&&Kn.error("Auto-connect error",{error:t})})},100),this.initialized=!0});e&&this.config.debug&&Kn.error("Connector initialization failed",{error:e})}async initializeWalletConnect(){if(this.config.walletConnect?.enabled)try{let{registerWalletConnectWallet:e}=await Dn(async()=>{const{registerWalletConnectWallet:t}=await import("./Bf99IV9Q.js");return{registerWalletConnectWallet:t}},[],import.meta.url);this.walletConnectRegistration=await e(this.config.walletConnect),this.config.debug&&Kn.info("WalletConnect wallet registered successfully")}catch(e){this.config.debug&&Kn.error("Failed to register WalletConnect wallet",{error:e})}}async connectWallet(e,t){let n=this.walletDetector.getConnectorById(e);if(!n)throw new Error(`Connector ${e} not found`);await this.connectionManager.connectWallet(n,e,t)}async disconnectWallet(){await this.connectionManager.disconnect()}getConnector(e){return this.walletDetector.getConnectorById(e)}async select(e){let t=this.stateManager.getSnapshot().wallets.find(n=>n.wallet.name===e)?.wallet;if(!t)throw new Error(`Wallet ${e} not found`);await this.connectionManager.connect(t,e)}async disconnect(){await this.connectionManager.disconnect()}async selectAccount(e){await this.connectionManager.selectAccount(e)}async setCluster(e){await this.clusterManager.setCluster(e)}getCluster(){return this.clusterManager.getCluster()}getClusters(){return this.clusterManager.getClusters()}getRpcUrl(){let e=this.clusterManager.getCluster();if(!e)return null;let{data:t,error:n}=el(()=>rP(e));return n?(this.config.debug&&Kn.error("Failed to get RPC URL",{error:n}),null):t}subscribe(e){return this.stateManager.subscribe(e)}getSnapshot(){return this.stateManager.getSnapshot()}resetStorage(){this.config.debug&&Kn.info("Resetting all storage to initial values");let e=["account","wallet","cluster"];for(let t of e){let n=this.config.storage?.[t];if(n&&"reset"in n&&typeof n.reset=="function"){let r=n.reset,{error:s}=el(()=>r());s?this.config.debug&&Kn.error("Failed to reset storage",{key:t,error:s}):this.config.debug&&Kn.debug("Reset storage",{key:t})}}this.eventEmitter.emit({type:"storage:reset",timestamp:new Date().toISOString()})}on(e){return this.eventEmitter.on(e)}off(e){this.eventEmitter.off(e)}offAll(){this.eventEmitter.offAll()}emitEvent(e){this.eventEmitter.emit(e)}trackTransaction(e){this.transactionTracker.trackTransaction(e)}updateTransactionStatus(e,t,n){this.transactionTracker.updateStatus(e,t,n)}clearTransactionHistory(){this.transactionTracker.clearHistory()}getHealth(){return this.healthMonitor.getHealth()}getDebugMetrics(){return this.stateManager.getSnapshot(),this.debugMetrics.updateListenerCounts(this.eventEmitter.getListenerCount(),0),this.debugMetrics.getMetrics()}getDebugState(){return{...this.getDebugMetrics(),transactions:this.transactionTracker.getTransactions(),totalTransactions:this.transactionTracker.getTotalCount()}}getConfig(){return this.config}resetDebugMetrics(){this.debugMetrics.resetMetrics()}destroy(){if(this.walletConnectRegistration)try{this.walletConnectRegistration.unregister(),this.walletConnectRegistration=null}catch(e){this.config.debug&&Kn.warn("Error unregistering WalletConnect wallet",{error:e})}this.connectionManager.disconnect().catch(()=>{}),this.walletDetector.destroy(),this.eventEmitter.offAll(),this.stateManager.clear()}};Cn("Polyfills");var al=Cn("EnhancedStorage"),Mh="v1",uo=class extends mC{constructor(e,t,n){super(e,t),this.options=n,Se(this,"errorHandlers",new Set),Se(this,"validators",[]),Se(this,"memoryFallback"),this.memoryFallback=t,n?.onError&&this.errorHandlers.add(n.onError),n?.validator&&this.validators.push(n.validator)}set(e){try{return this.validate(e)?(super.set(e),this.memoryFallback=e,!0):(al.warn("Validation failed",{key:this.key}),!1)}catch(t){return this.handleError(t),this.options?.useMemoryFallback?(this.memoryFallback=e,!0):!1}}get(){try{return super.get()}catch(e){return this.handleError(e),this.options?.useMemoryFallback?this.memoryFallback:this.initial}}validate(e){return this.validators.every(t=>t(e))}addValidator(e){return this.validators.push(e),this}onError(e){return this.errorHandlers.add(e),this}transform(e){return e(this.get())}reset(){this.set(this.initial)}clear(){try{typeof window<"u"&&window.localStorage&&window.localStorage.removeItem(this.key),this.reset()}catch(e){this.handleError(e)}}isAvailable(){try{if(typeof window>"u")return!1;let e=`__storage_test_${this.key}__`;return window.localStorage.setItem(e,"test"),window.localStorage.removeItem(e),!0}catch{return!1}}static migrate(e,t){try{if(typeof window>"u")return!1;let n=window.localStorage.getItem(e);if(n){let r=JSON.parse(n);return t.set(r),window.localStorage.removeItem(e),!0}return!1}catch{return!1}}handleError(e){al.error("Storage error",{key:this.key,error:e}),this.errorHandlers.forEach(t=>{try{t(e)}catch(n){al.error("Error in error handler",{error:n})}})}};function xP(e){let t=e?.key??`connector-kit:${Mh}:account`;return new uo(t,e?.initial,{validator:e?.validator,onError:e?.onError,useMemoryFallback:!0})}function IP(e){let t=e?.key??`connector-kit:${Mh}:cluster`,n=new uo(t,e?.initial??"solana:mainnet",{onError:e?.onError,useMemoryFallback:!0});return e?.validClusters&&n.addValidator(r=>e.validClusters.includes(r)),n}function TP(e){let t=e?.key??`connector-kit:${Mh}:wallet`;return new uo(t,e?.initial,{onError:e?.onError,useMemoryFallback:!0})}var cl=class{constructor(e){this.storage=e}get(){return this.storage.get()}set(e){this.storage.set(e)}subscribe(e){return this.storage.value.subscribe(e)}validate(e){return this.storage.validate(e)}reset(){this.storage.reset()}clear(){this.storage.clear()}isAvailable(){return this.storage.isAvailable()}transform(e){return this.storage.transform(e)}addValidator(e){return this.storage.addValidator(e),this}onError(e){return this.storage.onError(e),this}},Ea=Cn("DefaultConfig");function MP(e){let{appName:t,appUrl:n,autoConnect:r=!0,debug:s,network:o="mainnet-beta",enableMobile:i=!0,storage:a,clusters:c,customClusters:l=[],persistClusterSelection:u=!0,clusterStorageKey:h,enableErrorBoundary:g=!0,maxRetries:p=sP,onError:v,imageProxy:_,programLabels:x,coingecko:R,walletConnect:N,additionalWallets:k,wallets:B}=e,F=c??[gC(),dC(),yC(),...o==="localnet"?[pC()]:[],...l||[]],Z=F.map(j=>j.id),te=xP({validator:j=>j?tC(j):!0,onError:j=>{s&&Ea.error("Account Storage error",{error:j}),v&&v(j,{componentStack:"account-storage"})}}),oe=IP({key:h,initial:$g(o),validClusters:u?Z:void 0,onError:j=>{s&&Ea.error("Cluster Storage error",{error:j}),v&&v(j,{componentStack:"cluster-storage"})}}),P=TP({onError:j=>{s&&Ea.error("Wallet Storage error",{error:j}),v&&v(j,{componentStack:"wallet-storage"})}});if(typeof window<"u"){let j="connector-kit:account",E="connector-kit:wallet",f=h||"connector-kit:cluster";uo.migrate(j,te),uo.migrate(E,P),uo.migrate(f,oe)}let D=a??{account:new cl(te),cluster:new cl(oe),wallet:new cl(P)},V=RP(N,t,n,h??"connector-kit:v1:cluster");return{autoConnect:r,debug:s??!1,storage:D,appName:t,appUrl:n,enableMobile:i,network:o,wallets:B,cluster:{clusters:F,persistSelection:u,initialCluster:$g(o)},errorBoundary:{enabled:g,maxRetries:p,onError:v},imageProxy:_,programLabels:x,coingecko:R,walletConnect:V,additionalWallets:k}}function RP(e,t,n,r){if(!e)return;let s=typeof e=="object"?e.projectId:void 0,o=typeof process<"u"?XB.NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID:void 0,i=s||o;if(!i){(typeof e=="object"||e===!0)&&Ea.warn("WalletConnect enabled but no project ID found. Set NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID or provide projectId in config.");return}let a=n||(typeof window<"u"?window.location.origin:"http://localhost:3000"),c=typeof e=="object"?e.metadata:void 0,l=typeof e=="object"?e.defaultChain:void 0,u=typeof e=="object"?e.relayUrl:void 0;return{enabled:!0,projectId:i,metadata:{name:c?.name??t,description:c?.description??`${t} - Powered by ConnectorKit`,url:c?.url??a,icons:c?.icons??[`${a}/icon.svg`]},defaultChain:l??"solana:mainnet",relayUrl:u,getCurrentChain:()=>{if(typeof window>"u")return"solana:mainnet";let h=r||"connector-kit:v1:cluster";try{let g=localStorage.getItem(h);if(g){let p=JSON.parse(g);if(p==="solana:mainnet"||p==="solana:devnet"||p==="solana:testnet")return p}}catch{}return l??"solana:mainnet"}}}function $g(e="mainnet-beta"){return tP(e)}var CP=Th(["mainnet","mainnet-beta","devnet","testnet","localnet"]),kb=Zt().regex(/^solana:(mainnet|devnet|testnet|localnet|[a-zA-Z0-9-]+)$/,{message:'Cluster ID must be in format "solana:<network>" (e.g., "solana:mainnet")'}),bi=Zt().url("Invalid URL format"),NP=bi.optional(),Ab=yb({apiKey:Zt().optional(),isPro:tr().optional(),maxRetries:_a().int().positive().max(10).optional(),baseDelay:_a().int().positive().max(3e4).optional(),maxTimeout:_a().int().positive().max(12e4).optional()}).optional(),OP=Ps({name:Zt().min(1,"WalletConnect app name is required"),description:Zt(),url:bi,icons:or(Zt())}),BP=Ps({enabled:tr().optional(),projectId:Zt().min(1,"WalletConnect projectId is required"),metadata:OP,defaultChain:Th(["solana:mainnet","solana:devnet","solana:testnet"]).optional(),onDisplayUri:Ss(e=>typeof e=="function").optional(),onSessionEstablished:Ss(e=>typeof e=="function").optional(),onSessionDisconnected:Ss(e=>typeof e=="function").optional(),relayUrl:bi.optional()}),xb=mb([PB(!0),BP]).optional(),ul=MB({get:Ss(e=>typeof e=="function"),set:Ss(e=>typeof e=="function")}),Ib=Ps({account:ul,cluster:ul,wallet:ul}).optional(),uf=Ps({id:kb,label:Zt().min(1,"Cluster label cannot be empty"),url:bi,urlWs:bi.optional()}),PP=Ps({clusters:or(uf).optional(),persistSelection:tr().optional(),initialCluster:kb.optional()}).optional(),Tb=Ss(e=>typeof e=="object"&&e!==null&&"name"in e&&"version"in e&&"features"in e&&"chains"in e,{message:"Invalid Wallet Standard wallet object"}),ll=Zt().transform(e=>e.trim()).refine(e=>e.length>0,{message:"Wallet name cannot be empty or whitespace-only"}),Mb=Ps({allowList:or(ll).optional(),denyList:or(ll).optional(),featured:or(ll).optional()}).optional();Ps({appName:Zt().min(1,"Application name is required"),appUrl:NP,imageProxy:Zt().optional(),clusterStorageKey:Zt().optional(),autoConnect:tr().optional(),debug:tr().optional(),enableMobile:tr().optional(),persistClusterSelection:tr().optional(),enableErrorBoundary:tr().optional(),network:CP.optional(),maxRetries:_a().int().positive().max(10).optional(),storage:Ib,clusters:or(uf).optional(),customClusters:or(uf).optional(),programLabels:wb(Zt(),Zt()).optional(),coingecko:Ab,walletConnect:xb,additionalWallets:or(Tb).optional(),wallets:Mb,onError:Ss(e=>typeof e=="function").optional()});yb({autoConnect:tr().optional(),debug:tr().optional(),wallets:Mb,storage:Ib,cluster:PP,imageProxy:Zt().optional(),programLabels:wb(Zt(),Zt()).optional(),coingecko:Ab,walletConnect:xb,additionalWallets:or(Tb).optional()}).optional();BigInt(Number.MAX_SAFE_INTEGER);var Dr=Cn("TransactionValidator"),LP=1232,DP=64,zP=class{static validate(e,t={}){let{maxSize:n=LP,minSize:r=DP,checkDuplicateSignatures:s=!0,strict:o=!1}=t,i=[],a=[],c;if(!e)return i.push("Transaction is null or undefined"),{valid:!1,errors:i,warnings:a};try{let u;if(typeof e.serialize=="function")try{u=e.serialize()}catch(h){Dr.debug("Transaction not yet serializable (may need signing)",{error:h instanceof Error?h.message:String(h)})}else if(e instanceof Uint8Array)u=e;else return i.push("Transaction type not recognized - must be a Transaction object with serialize() or Uint8Array"),{valid:!1,errors:i,warnings:a};u&&(c=u.length,c>n&&(i.push(`Transaction too large: ${c} bytes (max ${n} bytes)`),Dr.warn("Transaction exceeds maximum size",{size:c,maxSize:n})),c<r&&a.push(`Transaction is very small: ${c} bytes (min recommended ${r} bytes)`),c===0&&i.push("Transaction is empty (0 bytes)"),this.hasSuspiciousPattern(u)&&a.push("Transaction contains unusual patterns - please review carefully"))}catch(u){let h=u instanceof Error?u.message:String(u);i.push(`Transaction validation failed: ${h}`),Dr.error("Validation error",{error:h})}if(s&&typeof e=="object"&&"signatures"in e){let u=e.signatures;Array.isArray(u)&&new Set(u.map(h=>{let g=h?.publicKey;return g?String(g):null}).filter(Boolean)).size<u.length&&a.push("Transaction contains duplicate signers")}o&&a.length>0&&(i.push(...a.map(u=>`Strict mode: ${u}`)),a.length=0);let l=i.length===0;return l?a.length>0?Dr.debug("Transaction validation passed with warnings",{warnings:a,size:c}):Dr.debug("Transaction validation passed",{size:c}):Dr.warn("Transaction validation failed",{errors:i,size:c}),{valid:l,errors:i,warnings:a,size:c}}static hasSuspiciousPattern(e){if(e.every(n=>n===0)||e.every(n=>n===255))return!0;let t=new Map;for(let n of e)t.set(n,(t.get(n)||0)+1);return Math.max(...Array.from(t.values()))/e.length>.5}static assertValid(e,t){let n=this.validate(e,t);if(!n.valid)throw new Error(`Transaction validation failed: ${n.errors.join(", ")}`);n.warnings.length>0&&Dr.warn("Transaction validation warnings",{warnings:n.warnings})}static validateBatch(e,t){return e.map((n,r)=>(Dr.debug(`Validating transaction ${r+1}/${e.length}`),this.validate(n,t)))}},An=Cn("TransactionSigner");function UP(e){if(e.length!==64)throw new Error(`Invalid signature length: expected 64 bytes, got ${e.length}`);return XR().decode(e)}function ka(e){if(typeof e=="string")return e;if(e instanceof Uint8Array)return UP(e);if(Array.isArray(e)&&e.length>0)return ka(e[0]);if(e&&typeof e=="object"){let t=e;if("signature"in t)return ka(t.signature);if(Array.isArray(t.signatures)&&t.signatures.length>0)return ka(t.signatures[0])}throw new Error("Unexpected wallet response format for signAndSendTransaction")}function Aa(e){if(e instanceof Uint8Array)return e;if(Array.isArray(e)){let[t]=e;if(!t)throw new Error("Wallet returned empty results array");return Aa(t)}if(e&&typeof e=="object"){let t=e;if("signature"in t)return Aa(t.signature);if(Array.isArray(t.signatures)&&t.signatures.length>0)return Aa(t.signatures[0])}throw new Error("Unexpected wallet response format for signMessage")}function jP(e){let{wallet:t,account:n,cluster:r,eventEmitter:s}=e;if(!t||!n)return null;let o=t.features,i=n.address,a={canSign:!!o["solana:signTransaction"],canSend:!!o["solana:signAndSendTransaction"],canSignMessage:!!o["solana:signMessage"],supportsBatchSigning:!!o["solana:signAllTransactions"]},c={address:i,async signTransaction(l){if(!a.canSign)throw cs.featureNotSupported("transaction signing");let u=zP.validate(l);if(!u.valid)throw An.error("Transaction validation failed",{errors:u.errors}),cs.invalidTransaction(u.errors.join(", "));u.warnings.length>0&&An.warn("Transaction validation warnings",{warnings:u.warnings});try{let h=o["solana:signTransaction"],{serialized:g,wasWeb3js:p}=tl(l);An.debug("Signing transaction",{wasWeb3js:p,serializedLength:g.length,serializedType:g.constructor.name,accountAddress:n?.address,hasAccount:!!n});let v,_="";try{An.debug("Trying array format: transactions: [Uint8Array]"),v=await h.signTransaction({account:n,transactions:[g],...r?{chain:r.id}:{}}),_="array"}catch(R){let N=R instanceof Error?R:new Error(String(R));An.debug("Array format failed, trying singular format",{error:N.message});try{An.debug("Trying singular format: transaction: Uint8Array"),v=await h.signTransaction({account:n,transaction:g,...r?{chain:r.id}:{}}),_="singular"}catch(k){let B=k instanceof Error?k:new Error(String(k));throw An.error("Both array and singular formats failed",{error:B.message}),B}}An.debug("Wallet signed successfully",{format:_});let x;if(Array.isArray(v.signedTransactions)&&v.signedTransactions[0])x=v.signedTransactions[0];else if(v.signedTransaction)x=v.signedTransaction;else if(Array.isArray(v)&&v[0])x=v[0];else if(v instanceof Uint8Array)x=v;else throw new Error(`Unexpected wallet response format: ${JSON.stringify(Object.keys(v))}`);if(An.debug("Extracted signed transaction",{hasSignedTx:!!x,signedTxType:x?.constructor?.name,signedTxLength:x?.length,isUint8Array:x instanceof Uint8Array,hasSerialize:typeof x?.serialize=="function"}),x&&typeof x.serialize=="function")return An.debug("Wallet returned web3.js object directly, no conversion needed"),x;if(x&&x.signedTransaction){An.debug("Found signedTransaction property");let R=x.signedTransaction;if(R instanceof Uint8Array)return await nl(R,p)}if(x instanceof Uint8Array)return await nl(x,p);throw An.error("Unexpected wallet response format",{type:typeof x,constructor:x?.constructor?.name}),new ba("INVALID_FORMAT","Wallet returned unexpected format - not a Transaction or Uint8Array")}catch(h){throw cs.signingFailed(h)}},async signAllTransactions(l){if(l.length===0)return[];if(a.supportsBatchSigning)try{let h=o["solana:signAllTransactions"],g=l.map(R=>tl(R)),p=g.map(R=>R.serialized),v=g[0].wasWeb3js,_=await h.signAllTransactions({account:n,transactions:p,...r?{chain:r.id}:{}}),x;if(Array.isArray(_))x=_.map(R=>R.signedTransaction);else if("signedTransactions"in _)x=_.signedTransactions;else throw new Error("Unexpected signAllTransactions response format");return await Promise.all(x.map(R=>nl(R,v)))}catch(h){throw new Fr("SIGNING_FAILED","Failed to sign transactions in batch",{count:l.length},h)}if(!a.canSign)throw cs.featureNotSupported("transaction signing");let u=[];for(let h=0;h<l.length;h++)try{let g=await c.signTransaction(l[h]);u.push(g)}catch(g){throw new Fr("SIGNING_FAILED",`Failed to sign transaction ${h+1} of ${l.length}`,{index:h,total:l.length},g)}return u},async signAndSendTransaction(l,u){if(!a.canSend)throw cs.featureNotSupported("sending transactions");try{let h=o["solana:signAndSendTransaction"],{serialized:g}=tl(l);s&&s.emit({type:"transaction:preparing",transaction:g,size:g.length,timestamp:new Date().toISOString()});let p={account:n,...r?{chain:r.id}:{},...u?{options:u}:{}};s&&s.emit({type:"transaction:signing",timestamp:new Date().toISOString()});let v;try{v=await h.signAndSendTransaction({...p,transactions:[g]})}catch{v=await h.signAndSendTransaction({...p,transaction:g})}let _=ka(v);return s&&s.emit({type:"transaction:sent",signature:_,timestamp:new Date().toISOString()}),_}catch(h){throw new Fr("SEND_FAILED","Failed to send transaction",void 0,h)}},async signAndSendTransactions(l,u){if(l.length===0)return[];if(!a.canSend)throw cs.featureNotSupported("sending transactions");let h=[];for(let g=0;g<l.length;g++)try{let p=await c.signAndSendTransaction(l[g],u);h.push(p)}catch(p){throw new Fr("SEND_FAILED",`Failed to send transaction ${g+1} of ${l.length}`,{index:g,total:l.length},p)}return h},...a.canSignMessage&&{async signMessage(l){try{let u=await o["solana:signMessage"].signMessage({account:n,message:l,...r?{chain:r.id}:{}});return Aa(u)}catch(u){throw new Fr("SIGNING_FAILED","Failed to sign message",void 0,u)}}},getCapabilities(){return{...a}}};return c}Cn("KitTransactionSigner");var fl=null;function Pi(){return fl||(fl=new AP(MP({appName:"DecentraGuild",autoConnect:!0}))),fl}function Rb(){const t=Pi().getSnapshot(),n=t.wallet,r=Sb(n),s=r?n.session:null,o=s?.selectedAccount?.address??null,i=s?.connectorId??null,a=(t.connectors??[]).map(c=>({id:c.id,name:c.name,ready:c.ready??!0}));return{connected:r&&!!o,account:o,connectorId:i,connectors:a}}function OL(e){return Pi().subscribe(e)}async function $P(e){await Pi().connectWallet(e)}async function FP(){await Pi().disconnectWallet()}function WP(e){const n=e.getSnapshot().wallet;if(!Sb(n))return null;const r=n.session,s=r.connectorId,o=r.selectedAccount;if(!o)return null;const i=e.getConnector(s);if(!i)return null;const a=i.accounts.find(c=>c.address===o.address);return a?{wallet:i,account:a}:null}async function HP(e){const t=Pi(),n=WP(t);if(!n)throw new Error("Wallet not connected");const r=jP({wallet:n.wallet,account:n.account});if(!r?.signMessage)throw new Error("Connected wallet does not support message signing");const s=new TextEncoder().encode(e),o=await r.signMessage(s);return{signature:o instanceof Uint8Array?btoa(String.fromCharCode(...o)):String(o),message:e}}async function KP(e,t){const n=Rb();if(!n.connected||!n.account)return{ok:!1,error:"Wallet not connected"};const r=e.replace(/\/$/,"");try{const s=await fetch(`${r}/api/v1/auth/nonce`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wallet:n.account}),credentials:"include"});if(!s.ok)return{ok:!1,error:(await s.json().catch(()=>({}))).error??"Failed to get nonce"};const{nonce:o}=await s.json();let i,a;try{const l=await HP(o);i=l.signature,a=l.message}catch(l){return{ok:!1,error:l instanceof Error?l.message:"Failed to sign message"}}const c=await fetch(`${r}/api/v1/auth/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wallet:n.account,signature:i,message:a}),credentials:"include"});return c.ok?{ok:!0}:{ok:!1,error:(await c.json().catch(()=>({}))).error??"Verification failed"}}catch(s){const o=s instanceof Error?s.message:"Network error";return{ok:!1,error:o.includes("fetch")?"Cannot reach server. Is the API running?":o}}}async function VP(e){const t=e.replace(/\/$/,"");await fetch(`${t}/api/v1/auth/logout`,{method:"POST",credentials:"include"}),await FP()}function qP(e){return(e??"").replace(/\/$/,"")}const jo=fn(null),$o=fn(!1),Fo=fn(null),Fg=fn({connected:!1,account:null,connectorId:null,connectors:[]}),ZP=fn(!1);function GP(){const t=qP(Ai().public.apiUrl);async function n(){$o.value=!0,Fo.value=null;try{const a=await fetch(`${t}/api/v1/auth/me`,{credentials:"include"});if(!a.ok){jo.value=null;return}const c=await a.json();jo.value=c.wallet}catch{jo.value=null}finally{$o.value=!1}}function r(){Fg.value=Rb()}async function s(a){Fo.value=null,$o.value=!0;try{await $P(a),r();const c=await KP(t,a);return c.ok?(await n(),!0):(Fo.value=c.error,!1)}finally{$o.value=!1}}async function o(){await VP(t),jo.value=null,Fo.value=null,r()}function i(){ZP.value=!0}return{wallet:jo,loading:$o,error:Fo,connectorState:Fg,fetchMe:n,refreshConnectorState:r,connectAndSignIn:s,signOut:o,openConnectModal:i}}const YP=En(()=>{GP().fetchMe()}),JP=En(()=>{typeof globalThis.Buffer>"u"&&(globalThis.Buffer=Ne.Buffer)}),QP=[PE,DE,FE,pA,gA,yA,mA,bA,xA,IA,TA,YP,JP],XP=Ir({name:"NuxtRouteAnnouncer",props:{atomic:{type:Boolean,default:!1},politeness:{type:String,default:"polite"}},setup(e,{slots:t,expose:n}){const{set:r,polite:s,assertive:o,message:i,politeness:a}=AA({politeness:e.politeness});return n({set:r,polite:s,assertive:o,message:i,politeness:a}),()=>gt("span",{class:"nuxt-route-announcer",style:{position:"absolute"}},gt("span",{role:"alert","aria-live":a.value,"aria-atomic":e.atomic,style:{border:"0",clip:"rect(0 0 0 0)","clip-path":"inset(50%)",height:"1px",width:"1px",overflow:"hidden",position:"absolute","white-space":"nowrap","word-wrap":"normal",margin:"-1px",padding:"0"}},t.default?t.default({message:i.value}):i.value))}}),Cb=(e="RouteProvider")=>Ir({name:e,props:{route:{type:Object,required:!0},vnode:Object,vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(t){const n=t.renderKey,r=t.route,s={};for(const o in t.route)Object.defineProperty(s,o,{get:()=>n===t.renderKey?t.route[o]:r[o],enumerable:!0});return qr(ks,nr(s)),()=>t.vnode?gt(t.vnode,{ref:t.vnodeRef}):t.vnode}}),eL=Cb(),Wg=new WeakMap,tL=Ir({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(e,{attrs:t,slots:n,expose:r}){const s=yt(),o=fn(),i=Gt(ks,null);let a;r({pageRef:o});const c=Gt(D0,null);let l;const u=s.deferHydration();let h=!1,g=0;if(s.isHydrating){const v=s.hooks.hookOnce("app:error",u);Sn().beforeEach(v)}e.pageKey&&to(()=>e.pageKey,(v,_)=>{v!==_&&s.callHook("page:loading:start")});let p=!1;{const v=Sn().beforeResolve(()=>{p=!1});Ei(()=>{v(),u()})}return()=>gt(um,{name:e.name,route:e.route,...t},{default:v=>{const _=rL(i,v.route,v.Component),x=i&&i.matched.length===v.route.matched.length;if(!v.Component){if(l&&!x)return l;u();return}if(l&&c&&!c.isCurrent(v.route))return l;if(_&&i&&(!c||c?.isCurrent(i)))return x||l?l:null;const R=Fl(v,e.pageKey),N=sL(i,v.route,v.Component);!s.isHydrating&&a===R&&!N&&fo(()=>{p||(p=!0,s.callHook("page:loading:end"))}),h&&a!==R&&g++,a=R;const k=!!(e.transition??v.route.meta.pageTransition??Md),B=k&&nL([e.transition,v.route.meta.pageTransition,Md,{onAfterLeave(){delete s._runningTransition,s.callHook("page:transition:finish",v.Component)}}]),F=e.keepalive??v.route.meta.keepalive??kS;return l=fm(k&&B,Qk(F,gt(Mf,{key:g,suspensible:!0,onPending:()=>{h=!0,k&&(s._runningTransition=!0),s.callHook("page:start",v.Component)},onResolve:async()=>{h=!1;try{await fo(),s._route.sync?.(),await s.callHook("page:finish",v.Component),delete s._runningTransition,!p&&!N&&(p=!0,await s.callHook("page:loading:end"))}finally{u()}}},{default:()=>{const Z={key:R||void 0,vnode:n.default?oL(n.default,v):v.Component,route:v.route,renderKey:R||void 0,trackRootNodes:k,vnodeRef:o};if(!F)return gt(eL,Z);const te=v.Component.type,oe=te;let P=Wg.get(oe);return P||(P=Cb(te.name||te.__name),Wg.set(oe,P)),gt(P,Z)}}))).default(),l}})}});function nL(e){const t=[];for(const n of e)n&&t.push({...n,onAfterLeave:n.onAfterLeave?Ff(n.onAfterLeave):void 0});return P0(...t)}function rL(e,t,n){if(!e)return!1;const r=t.matched.findIndex(s=>s.components?.default===n?.type);return!r||r===-1?!1:t.matched.slice(0,r).some((s,o)=>s.components?.default!==e.matched[o]?.components?.default)||n&&Fl({route:t,Component:n})!==Fl({route:e,Component:n})}function sL(e,t,n){return e?t.matched.findIndex(s=>s.components?.default===n?.type)<t.matched.length-1:!1}function oL(e,t){const n=e(t);return n.length===1?gt(n[0]):gt(sn,void 0,n)}const Nb=K0,iL=Ir({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},setup(e,t){return()=>gt(Wr[e.name],e.layoutProps,t.slots)}}),aL={name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},cL=Ir({name:"NuxtLayout",inheritAttrs:!1,props:aL,setup(e,t){const n=yt(),r=Gt(ks),o=!r||r===xi()?lm():r,i=Tn(()=>{let u=Je(e.name)??o?.meta.layout??Nb(o?.path).appLayout??"default";return u&&!(u in Wr)&&e.fallback&&(u=Je(e.fallback)),u}),a=Ar();t.expose({layoutRef:a});const c=n.deferHydration();if(n.isHydrating){const u=n.hooks.hookOnce("app:error",c);Sn().beforeEach(u)}let l;return()=>{const u=i.value&&i.value in Wr,h=o?.meta.layoutTransition??ES,g=l;return l=i.value,fm(u&&h,{default:()=>gt(Mf,{suspensible:!0,onResolve:()=>{fo(c)}},{default:()=>gt(uL,{layoutProps:p0(t.attrs,o.meta.layoutProps??{},{ref:a}),key:i.value||void 0,name:i.value,shouldProvide:!e.name,isRenderingNewLayout:p=>p!==g&&p===i.value,hasTransition:!!h},t.slots)})}).default()}}}),uL=Ir({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean},isRenderingNewLayout:{type:Function,required:!0}},setup(e,t){const n=e.name;e.shouldProvide&&qr(D0,{isCurrent:o=>n===!1||n===(o.meta.layout??Nb(o.path).appLayout??"default")});const r=Gt(ks);if(r&&r===xi()){const o=lm(),i={};for(const a in o){const c=a;Object.defineProperty(i,c,{enumerable:!0,get:()=>e.isRenderingNewLayout(e.name)?o[c]:r[c]})}qr(ks,nr(i))}return()=>!n||typeof n=="string"&&!(n in Wr)?t.slots.default?.():gt(iL,{key:n,layoutProps:e.layoutProps,name:n},t.slots)}}),lL=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},fL=vA(XP),hL={};function dL(e,t){const n=fL,r=tL,s=cL;return In(),Yn(s,null,{default:Ef(()=>[at(n),at(r)]),_:1})}const pL=lL(hL,[["render",dL]]),gL={__name:"nuxt-error-page",props:{error:Object},setup(e){const n=e.error,r=Number(n.statusCode||500),s=r===404,o=n.statusMessage??(s?"Page Not Found":"Internal Server Error"),i=n.message||n.toString(),a=void 0,u=s?vl(()=>Dn(()=>import("./DV-ogLd3.js"),__vite__mapDeps([15,1,16]),import.meta.url)):vl(()=>Dn(()=>import("./Bs9lSMVD.js"),__vite__mapDeps([17,18]),import.meta.url));return(h,g)=>(In(),Yn(Je(u),Wb(h0({status:Je(r),statusText:Je(o),statusCode:Je(r),statusMessage:Je(o),description:Je(i),stack:Je(a)})),null,16))}},yL={key:0},Hg={__name:"nuxt-root",setup(e){const t=()=>null,n=yt(),r=n.deferHydration();if(n.isHydrating){const l=n.hooks.hookOnce("app:error",r);Sn().beforeEach(l)}const s=!1;qr(ks,xi()),n.hooks.callHookWith(l=>l.map(u=>u()),"vue:setup");const o=mc(),i=!1,a=/bot\b|chrome-lighthouse|facebookexternalhit|google\b/i;zy((l,u,h)=>{if(n.hooks.callHook("vue:error",l,u,h).catch(g=>console.error("[nuxt] Error in `vue:error` hook",g)),a.test(navigator.userAgent))return n.hooks.callHook("app:error",l),console.error(`[nuxt] Not rendering error page for bot with user agent \`${navigator.userAgent}\`:`,l),!1;if(U0(l)&&(l.fatal||l.unhandled))return n.runWithContext(()=>as(l)),!1});const c=!1;return(l,u)=>(In(),Yn(Mf,{onResolve:Je(r)},{default:Ef(()=>[Je(i)?(In(),A_("div",yL)):Je(o)?(In(),Yn(Je(gL),{key:1,error:Je(o)},null,8,["error"])):Je(c)?(In(),Yn(Je(t),{key:2,context:Je(c)},null,8,["context"])):Je(s)?(In(),Yn(Zv(Je(s)),{key:3})):(In(),Yn(Je(pL),{key:4}))]),_:1},8,["onResolve"]))}};let Kg;{let e;Kg=async function(){if(e)return e;const n=!!(window.__NUXT__?.serverRendered??document.getElementById("__NUXT_DATA__")?.dataset.ssr==="true"),r=n?g1(Hg):p1(Hg),s=TS({vueApp:r});async function o(i){await s.callHook("app:error",i),s.payload.error||=vs(i)}r.config.errorHandler=o,s.hook("app:suspense:resolve",()=>{r.config.errorHandler===o&&(r.config.errorHandler=void 0)}),!n&&Rd.id&&s.hook("app:suspense:resolve",()=>{document.getElementById(Rd.id)?.remove()});try{await CS(s,QP)}catch(i){o(i)}try{await s.hooks.callHook("app:created",r),await s.hooks.callHook("app:beforeMount",r),r.mount(AS),await s.hooks.callHook("app:mounted",r),await fo()}catch(i){o(i)}return r},e=Kg().catch(t=>{throw console.error("Error while mounting app:",t),t})}export{Gn as $,yt as A,Wf as B,ap as C,Ei as D,TL as E,sn as F,gt as G,wL as H,A0 as I,$S as J,Ar as K,jS as L,EA as M,xL as N,Ms as O,Nf as P,AL as Q,W1 as R,za as S,mL as T,EL as U,F_ as V,Hf as W,ig as X,$m as Y,ye as Z,lL as _,f0 as a,Ht as a0,_o as a1,Ap as a2,Zv as a3,p0 as a4,Dn as a5,QR as a6,XR as a7,Cn as a8,at as b,A_ as c,d0 as d,Ir as e,Yn as f,Je as g,_L as h,Tn as i,GP as j,Sn as k,ai as l,SL as m,Xr as n,In as o,bL as p,vL as q,fn as r,Ai as s,qb as t,IL as u,to as v,Ef as w,ZP as x,OL as y,Dy as z};
