import{_ as D}from"./L2xZLJ5B.js";import{e as w,j as I,v as W,x as v,l as F,y as O,z as T,o as l,c as u,g as n,F as C,a as i,t as j,b as a,w as c,d,f as q,h as z,r as g,i as E,_ as y,s as G}from"./DCqABwCI.js";import{B as h}from"./RF0-wjs3.js";import{C as L}from"./DPRGbT8j.js";const R={class:"auth-widget"},U={class:"auth-widget__address"},H=w({__name:"AuthWidget",setup(k){const f=I(),{wallet:e,loading:s,error:S,connectorState:b,fetchMe:x,refreshConnectorState:p,connectAndSignIn:$,signOut:A}=f,r=g(!1),_=g(!1);W(v,t=>{t&&(r.value=!0,v.value=!1)});const B=E(()=>{const t=e.value;return!t||t.length<10?t??"":`${t.slice(0,4)}...${t.slice(-4)}`});let m=null;F(async()=>{await x(),p(),m=O(()=>{p()}),_.value=!0}),T(()=>{m?.()});async function M(t){await $(t)&&(r.value=!1)}async function N(){await A()}return(t,o)=>(l(),u("div",R,[_.value&&n(e)?(l(),u(C,{key:0},[i("span",U,j(B.value),1),a(n(h),{variant:"secondary",onClick:N},{default:c(()=>[...o[2]||(o[2]=[d(" Sign out ",-1)])]),_:1})],64)):(l(),u(C,{key:1},[a(n(h),{variant:"secondary",onClick:o[0]||(o[0]=V=>r.value=!0)},{default:c(()=>[...o[3]||(o[3]=[d(" Connect wallet ",-1)])]),_:1}),_.value?(l(),q(n(L),{key:0,open:r.value,title:"Connect wallet",description:"Choose a wallet to sign in.",connectors:n(b).connectors,loading:n(s),error:n(S),onClose:o[1]||(o[1]=V=>r.value=!1),onSelect:M},null,8,["open","connectors","loading","error"])):z("",!0)],64))]))}}),J=y(H,[["__scopeId","data-v-f55a4563"]]),K={class:"platform-layout"},P={class:"platform-header"},Q={class:"platform-header__nav"},X={class:"platform-main"},Y=w({__name:"default",setup(k){return(f,e)=>{const s=D;return l(),u("div",K,[i("header",P,[a(s,{to:"/",class:"platform-header__brand"},{default:c(()=>[...e[0]||(e[0]=[d("DecentraGuild",-1)])]),_:1}),i("nav",Q,[a(s,{to:"/directory"},{default:c(()=>[...e[1]||(e[1]=[d("Discover",-1)])]),_:1}),a(s,{to:"/onboard"},{default:c(()=>[...e[2]||(e[2]=[d("Create org",-1)])]),_:1}),a(n(J))])]),i("main",X,[G(f.$slots,"default",{},void 0)])])}}}),nt=y(Y,[["__scopeId","data-v-c4f2b8ac"]]);export{nt as default};
