import{B as h}from"./RF0-wjs3.js";import{e as k,l as v,f as u,w as c,g as s,r as i,o as a,c as r,t as l,F as B,p as b,h as f,a as p,b as w,d as C,q as x,_ as V}from"./DCqABwCI.js";import{u as D,C as F}from"./DA7ovkCv.js";import{P as N}from"./4dOpxbBZ.js";const E={key:0,class:"directory__loading"},$={key:1,class:"directory__error"},L={key:2,class:"directory__grid"},P=["src","alt"],S={key:1,class:"directory__desc"},j=["href"],q=k({__name:"directory",setup(A){const m=x(),g=D(),d=i([]),_=i(!0),n=i(null);v(async()=>{try{const e=await fetch(`${g.value}/api/v1/tenants`);if(!e.ok)throw new Error("Failed to fetch");const o=await e.json();d.value=o.tenants??[]}catch(e){n.value=e instanceof Error?e.message:"Failed to load tenants"}finally{_.value=!1}});function y(e){const o=m.public.tenantBaseDomain;return`https://${e}.${o}`}return(e,o)=>(a(),u(s(N),{title:"Directory"},{default:c(()=>[s(_)?(a(),r("div",E,"Loading...")):s(n)?(a(),r("div",$,l(s(n)),1)):(a(),r("div",L,[(a(!0),r(B,null,b(s(d),t=>(a(),u(s(F),{key:t.slug,class:"directory__card"},{default:c(()=>[t.branding?.logo?(a(),r("img",{key:0,src:t.branding.logo,alt:t.name,class:"directory__logo"},null,8,P)):f("",!0),p("h3",null,l(t.name),1),t.description?(a(),r("p",S,l(t.description),1)):f("",!0),p("a",{href:y(t.slug),target:"_blank",rel:"noopener"},[w(s(h),{variant:"secondary"},{default:c(()=>[...o[0]||(o[0]=[C("Visit",-1)])]),_:1})],8,j)]),_:2},1024))),128))]))]),_:1}))}}),U=V(q,[["__scopeId","data-v-1ecb22b1"]]);export{U as default};
