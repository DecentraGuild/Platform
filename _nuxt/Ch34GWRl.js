import{_ as B}from"./CDLxQRn2.js";import{e as m,j as M,l as N,o as c,c as i,g as n,F as f,a as u,t as D,b as a,w as r,d as l,r as I,i as V,_ as v,s as W}from"./QrRSspQ2.js";import{B as p}from"./BKGEyXAW.js";import{C as F}from"./BSZzZnB-.js";const O={class:"auth-widget"},j={class:"auth-widget__address"},E=m({__name:"AuthWidget",setup(g){const _=M(),{wallet:t,loading:s,error:C,connectorState:h,fetchMe:w,refreshConnectorState:k,connectAndSignIn:y,signOut:S}=_,d=I(!1),$=V(()=>{const o=t.value;return!o||o.length<10?o??"":`${o.slice(0,4)}...${o.slice(-4)}`});N(()=>{w(),k()});async function x(o){await y(o)&&(d.value=!1)}async function b(){await S()}return(o,e)=>(c(),i("div",O,[n(t)?(c(),i(f,{key:0},[u("span",j,D($.value),1),a(n(p),{variant:"secondary",onClick:b},{default:r(()=>[...e[2]||(e[2]=[l(" Sign out ",-1)])]),_:1})],64)):(c(),i(f,{key:1},[a(n(p),{variant:"secondary",onClick:e[0]||(e[0]=A=>d.value=!0)},{default:r(()=>[...e[3]||(e[3]=[l(" Connect wallet ",-1)])]),_:1}),a(n(F),{open:d.value,title:"Connect wallet",description:"Choose a wallet to sign in.",connectors:n(h).connectors,loading:n(s),error:n(C),onClose:e[1]||(e[1]=A=>d.value=!1),onSelect:x},null,8,["open","connectors","loading","error"])],64))]))}}),G=v(E,[["__scopeId","data-v-cdc8bbc7"]]),L={class:"platform-layout"},T={class:"platform-header"},q={class:"platform-header__nav"},z={class:"platform-main"},H=m({__name:"default",setup(g){return(_,t)=>{const s=B;return c(),i("div",L,[u("header",T,[a(s,{to:"/",class:"platform-header__brand"},{default:r(()=>[...t[0]||(t[0]=[l("DecentraGuild",-1)])]),_:1}),u("nav",q,[a(s,{to:"/directory"},{default:r(()=>[...t[1]||(t[1]=[l("Discover",-1)])]),_:1}),a(s,{to:"/onboard"},{default:r(()=>[...t[2]||(t[2]=[l("Create org",-1)])]),_:1}),a(n(G))])]),u("main",z,[W(_.$slots,"default",{},void 0)])])}}}),R=v(H,[["__scopeId","data-v-c4f2b8ac"]]);export{R as default};
