# API â€“ copy to .env or set in Railway. Never commit .env or real secrets.
#
# Required (secrets / environment-specific)
# -----------------------------------------
SESSION_SECRET=              # Generate: openssl rand -base64 32 (min 32 chars). Required in production.
DATABASE_URL=                # Postgres connection string. Railway: use new service URL after duplicate; SSL auto-enabled for non-localhost.

# Discord (secrets; bot and API must share DISCORD_BOT_API_SECRET)
DISCORD_BOT_API_SECRET=      # Server-to-server auth; same value in API and bot.
DISCORD_CLIENT_ID=           # Application (client) ID for OAuth invite link in Admin.

# Optional: RPC for mint metadata refresh (default: public mainnet). Only set if using a key.
# SOLANA_RPC_URL=  or  HELIUS_RPC=

# Optional overrides (defaults are in code: apps/api/src/config/constants.ts and related)
# --------------------------------------------------------------------------------------
# PORT=3001
# CORS_ORIGIN=               # Production: e.g. https://dguild.org,https://platform.example.com
# CORS_TENANT_DOMAIN=        # Default .dguild.org
# DB_POOL_MAX=10
# DB_IDLE_TIMEOUT_MS=30000
# RATE_LIMIT_MAX=200
# RATE_LIMIT_WINDOW=1 minute
# RATE_LIMIT_AUTH_MAX=10
# RATE_LIMIT_TENANT_CREATE_MAX=5
# RATE_LIMIT_DISCORD_VERIFY_MAX=20
# RATE_LIMIT_ADMIN_WRITE_MAX=60
# TENANT_CONFIG_PATH=       # Auto-resolved from repo layout when unset
# Worker (run via pnpm worker): DISCORD_SYNC_INTERVAL_MINUTES=0, MODULE_LIFECYCLE_INTERVAL_MINUTES=0, MODULE_LIFECYCLE_DEACTIVATING_MINUTES=2
# DISCORD_SYNC_SECRET=      # Defaults to DISCORD_BOT_API_SECRET if unset
# DISCORD_MAX_MINTS_PER_TENANT=  # Unset = no cap

# DB backup to R2 (worker only). Add to worker env on Railway.
# BACKUP_BUCKET=dguildbackup
# BACKUP_ACCESS_KEY_ID=
# BACKUP_SECRET_ACCESS_KEY=
# BACKUP_ENDPOINT=https://<account_id>.r2.cloudflarestorage.com
